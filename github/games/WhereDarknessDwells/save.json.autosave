{"firstLayout":"Intro","gdVersion":{"build":220,"major":5,"minor":5,"revision":0},"properties":{"adaptGameResolutionAtRuntime":true,"antialiasingMode":"MSAA","antialisingEnabledOnMobile":false,"folderProject":false,"orientation":"landscape","packageName":"com.gamercave.wdd","pixelsRounding":false,"projectUuid":"3cd8db99-7c0f-4acd-bc0c-d5bc517a5162","scaleMode":"linear","sizeOnStartupMode":"","templateSlug":"3d-first-person","useExternalSourceFiles":false,"version":"0.0.1","name":"Where Darkness Dwells","description":"In Where Darkness Dwells, step into the shoes of a desperate father on a harrowing journey to uncover the fate of his missing child. Her last known trace leads to a desolate sewer on the outskirts of town, where whispers of something sinister linger in the shadows.","author":"GamerCAve","windowWidth":1280,"windowHeight":720,"latestCompilationDirectory":"","maxFPS":60,"minFPS":20,"verticalSync":false,"platformSpecificAssets":{"android-icon-144":"android-icon-144.png","android-icon-192":"android-icon-192.png","android-icon-36":"android-icon-36.png","android-icon-48":"android-icon-48.png","android-icon-72":"android-icon-72.png","android-icon-96":"android-icon-96.png","android-windowSplashScreenAnimatedIcon":"android-windowSplashScreenAnimatedIcon.png","desktop-icon-512":"desktop-icon-512.png","ios-icon-100":"ios-icon-100.png","ios-icon-1024":"ios-icon-1024.png","ios-icon-114":"ios-icon-114.png","ios-icon-120":"ios-icon-120.png","ios-icon-144":"ios-icon-144.png","ios-icon-152":"ios-icon-152.png","ios-icon-167":"ios-icon-167.png","ios-icon-180":"ios-icon-180.png","ios-icon-20":"ios-icon-20.png","ios-icon-29":"ios-icon-29.png","ios-icon-40":"ios-icon-40.png","ios-icon-50":"ios-icon-50.png","ios-icon-57":"ios-icon-57.png","ios-icon-58":"ios-icon-58.png","ios-icon-60":"ios-icon-60.png","ios-icon-72":"ios-icon-72.png","ios-icon-76":"ios-icon-76.png","ios-icon-80":"ios-icon-80.png","ios-icon-87":"ios-icon-87.png","liluo-thumbnail":"preview.png"},"loadingScreen":{"backgroundColor":0,"backgroundFadeInDuration":0.2,"backgroundImageResourceName":"","gdevelopLogoStyle":"light","logoAndProgressFadeInDuration":0.2,"logoAndProgressLogoFadeInDelay":0.2,"minDuration":1.5,"progressBarColor":16777215,"progressBarHeight":20.0,"progressBarMaxWidth":200.0,"progressBarMinWidth":40.0,"progressBarWidthPercent":30.0,"showGDevelopSplash":true,"showProgressBar":true},"watermark":{"placement":"bottom-left","showWatermark":true},"authorIds":["hr47uJa1BaRduIbIDOdGRHw1HlM2"],"authorUsernames":["GamerCave"],"categories":[],"playableDevices":[],"extensionProperties":[],"platforms":[{"name":"GDevelop JS platform"}],"currentPlatform":"GDevelop JS platform"},"resources":{"resources":[{"file":"assets/preview.png","kind":"image","metadata":"","name":"preview.png","smoothed":true,"userAdded":true},{"file":"assets/desktop-icon-512.png","kind":"image","metadata":"","name":"desktop-icon-512.png","smoothed":true,"userAdded":true},{"file":"assets/android-icon-192.png","kind":"image","metadata":"","name":"android-icon-192.png","smoothed":true,"userAdded":true},{"file":"assets/android-icon-144.png","kind":"image","metadata":"","name":"android-icon-144.png","smoothed":true,"userAdded":true},{"file":"assets/android-icon-96.png","kind":"image","metadata":"","name":"android-icon-96.png","smoothed":true,"userAdded":true},{"file":"assets/android-icon-72.png","kind":"image","metadata":"","name":"android-icon-72.png","smoothed":true,"userAdded":true},{"file":"assets/android-icon-48.png","kind":"image","metadata":"","name":"android-icon-48.png","smoothed":true,"userAdded":true},{"file":"assets/android-icon-36.png","kind":"image","metadata":"","name":"android-icon-36.png","smoothed":true,"userAdded":true},{"file":"assets/android-windowSplashScreenAnimatedIcon.png","kind":"image","metadata":"","name":"android-windowSplashScreenAnimatedIcon.png","smoothed":true,"userAdded":true},{"file":"assets/ios-icon-1024.png","kind":"image","metadata":"","name":"ios-icon-1024.png","smoothed":true,"userAdded":true},{"file":"assets/ios-icon-180.png","kind":"image","metadata":"","name":"ios-icon-180.png","smoothed":true,"userAdded":true},{"file":"assets/ios-icon-167.png","kind":"image","metadata":"","name":"ios-icon-167.png","smoothed":true,"userAdded":true},{"file":"assets/ios-icon-152.png","kind":"image","metadata":"","name":"ios-icon-152.png","smoothed":true,"userAdded":true},{"file":"assets/ios-icon-144.png","kind":"image","metadata":"","name":"ios-icon-144.png","smoothed":true,"userAdded":true},{"file":"assets/ios-icon-120.png","kind":"image","metadata":"","name":"ios-icon-120.png","smoothed":true,"userAdded":true},{"file":"assets/ios-icon-114.png","kind":"image","metadata":"","name":"ios-icon-114.png","smoothed":true,"userAdded":true},{"file":"assets/ios-icon-100.png","kind":"image","metadata":"","name":"ios-icon-100.png","smoothed":true,"userAdded":true},{"file":"assets/ios-icon-87.png","kind":"image","metadata":"","name":"ios-icon-87.png","smoothed":true,"userAdded":true},{"file":"assets/ios-icon-80.png","kind":"image","metadata":"","name":"ios-icon-80.png","smoothed":true,"userAdded":true},{"file":"assets/ios-icon-76.png","kind":"image","metadata":"","name":"ios-icon-76.png","smoothed":true,"userAdded":true},{"file":"assets/ios-icon-72.png","kind":"image","metadata":"","name":"ios-icon-72.png","smoothed":true,"userAdded":true},{"file":"assets/ios-icon-60.png","kind":"image","metadata":"","name":"ios-icon-60.png","smoothed":true,"userAdded":true},{"file":"assets/ios-icon-58.png","kind":"image","metadata":"","name":"ios-icon-58.png","smoothed":true,"userAdded":true},{"file":"assets/ios-icon-57.png","kind":"image","metadata":"","name":"ios-icon-57.png","smoothed":true,"userAdded":true},{"file":"assets/ios-icon-50.png","kind":"image","metadata":"","name":"ios-icon-50.png","smoothed":true,"userAdded":true},{"file":"assets/ios-icon-40.png","kind":"image","metadata":"","name":"ios-icon-40.png","smoothed":true,"userAdded":true},{"file":"assets/ios-icon-29.png","kind":"image","metadata":"","name":"ios-icon-29.png","smoothed":true,"userAdded":true},{"file":"assets/ios-icon-20.png","kind":"image","metadata":"","name":"ios-icon-20.png","smoothed":true,"userAdded":true},{"file":"assets/Floor.png","kind":"image","metadata":"","name":"assets\\Floor.png","smoothed":true,"userAdded":false},{"file":"assets/Shaded dark joystick border.png","kind":"image","metadata":"","name":"Shaded dark joystick border.png","smoothed":true,"userAdded":false,"origin":{"identifier":"https://asset-resources.gdevelop.io/public-resources/Multitouch joysticks/dd6e3c2d11ba02bd5a052cd47908e851b656d0fb492b52006afa4843e597d0cc_Shaded dark joystick border.png","name":"Shaded dark joystick border.png"}},{"file":"assets/Shaded dark joystick thumb.png","kind":"image","metadata":"","name":"Shaded dark joystick thumb.png","smoothed":true,"userAdded":false,"origin":{"identifier":"https://asset-resources.gdevelop.io/public-resources/Multitouch joysticks/13d8225be69d0f11b6de965cac0d840e7e63e2510a638af89ae42b052caa2460_Shaded dark joystick thumb.png","name":"Shaded dark joystick thumb.png"}},{"file":"assets/Camera.png","kind":"image","metadata":"","name":"Camera.png","smoothed":true,"userAdded":true},{"file":"assets/Flashlight_Front.png","kind":"image","metadata":"{\"extension\":\".png\",\"pskl\":{}}","name":"Flashlight_Front","smoothed":true,"userAdded":false},{"file":"assets/Male Casual 2.glb","kind":"model3D","metadata":"","name":"Male Casual 2.glb","userAdded":false,"origin":{"identifier":"https://asset-resources.gdevelop.io/public-resources/3D Animated Characters/6d3ad6067c1c4ca2445dbc962dc038f8af6c932ec71f9c57c719a86d10fe585d_Male Casual 2.glb","name":"Male Casual 2.glb"}},{"file":"assets/foot-step-default.wav","kind":"audio","metadata":"","name":"foot-step-default.wav","preloadAsMusic":false,"preloadAsSound":false,"preloadInCache":false,"userAdded":false,"origin":{"identifier":"https://project-resources.gdevelop.io/f63d979f-d54f-469a-af5d-6647d4f3c451/resources/4c8c8159c4e0a620ac5fe23862a19947621c3fd97033630a061dafa98f0f4da7-foot-step-default.wav","name":"cloud-project-resource"}},{"file":"assets/creepy-ambience.ogg","kind":"audio","metadata":"","name":"creepy-ambience.ogg","preloadAsMusic":false,"preloadAsSound":false,"preloadInCache":false,"userAdded":false,"origin":{"identifier":"https://project-resources.gdevelop.io/f63d979f-d54f-469a-af5d-6647d4f3c451/resources/8d625fac6084bf4240c594b0cfbe63d419ad9cfce93df80f63486a1bdf974552-creepy-ambience.ogg","name":"cloud-project-resource"}},{"file":"assets/flaslightglb.glb","kind":"model3D","metadata":"","name":"flaslightglb.glb","userAdded":false,"origin":{"identifier":"https://project-resources.gdevelop.io/f63d979f-d54f-469a-af5d-6647d4f3c451/resources/8f21ac495a5cbf33eb2fa6f6502b9fd6387b7a9f20f7b387b9d7f5caeb3a3318-flaslightglb.glb","name":"cloud-project-resource"}},{"file":"assets/water-step.wav","kind":"audio","metadata":"","name":"water-step.wav","preloadAsMusic":false,"preloadAsSound":false,"preloadInCache":false,"userAdded":false,"origin":{"identifier":"https://project-resources.gdevelop.io/f63d979f-d54f-469a-af5d-6647d4f3c451/resources/61377fa9754e6848f07947c65c6e6ca273df21c5218b8564376adb05ffea7ea2-water-step.wav","name":"cloud-project-resource"}},{"file":"assets/flashlight-toggle.wav","kind":"audio","metadata":"","name":"flashlight-toggle.wav","preloadAsMusic":false,"preloadAsSound":false,"preloadInCache":false,"userAdded":false,"origin":{"identifier":"https://project-resources.gdevelop.io/f63d979f-d54f-469a-af5d-6647d4f3c451/resources/fd68338f57c7f77801f42c98311683eccaf0de57e30daae0e8efaa5241f567cc-flashlight-toggle.wav","name":"cloud-project-resource"}},{"file":"assets/flashlight-buzz.wav","kind":"audio","metadata":"","name":"flashlight-buzz.wav","preloadAsMusic":false,"preloadAsSound":false,"preloadInCache":false,"userAdded":false,"origin":{"identifier":"https://project-resources.gdevelop.io/f63d979f-d54f-469a-af5d-6647d4f3c451/resources/0a9a0b1bf41bbe9e7f317ef110f30c0d4e82e27fad929916f4bb1cb32921eccf-flashlight-buzz.wav","name":"cloud-project-resource"}},{"file":"assets/curve-sewer.glb","kind":"model3D","metadata":"","name":"curve-sewer.glb","userAdded":false,"origin":{"identifier":"https://project-resources.gdevelop.io/f63d979f-d54f-469a-af5d-6647d4f3c451/resources/0c5afdd34e68223140f37f4ec341b9e6a5281e8c7c3396eb3e9714ac1620c74d-curve-sewer.glb","name":"cloud-project-resource"}},{"file":"assets/CorridorWalls.png","kind":"image","metadata":"","name":"CorridorWalls.png","smoothed":true,"userAdded":false,"origin":{"identifier":"https://project-resources.gdevelop.io/f63d979f-d54f-469a-af5d-6647d4f3c451/resources/573432fcb35a2b1741cd856199b9e39d0a2b542032ab7906eefa08a0f8170ab5-CorridorWalls.png","name":"cloud-project-resource"}},{"file":"assets/Water.png","kind":"image","metadata":"","name":"Water.png","smoothed":true,"userAdded":false,"origin":{"identifier":"https://project-resources.gdevelop.io/f63d979f-d54f-469a-af5d-6647d4f3c451/resources/b2011869ac518b16eef0f05ae6aade697b7344a3dc510c7919badddcb7ad8b14-Water.png","name":"cloud-project-resource"}},{"file":"assets/Floor2.png","kind":"image","metadata":"","name":"Floor.png","smoothed":true,"userAdded":false,"origin":{"identifier":"https://project-resources.gdevelop.io/f63d979f-d54f-469a-af5d-6647d4f3c451/resources/ac08e332534e64c2cdea693894bcac0d63a69da1cd0eb1960d246571daa3603a-Floor.png","name":"cloud-project-resource"}},{"file":"assets/CorridorRoof.png2.png","kind":"image","metadata":"{\"extension\":\".png\",\"pskl\":{}}","name":"CorridorRoof.png2","smoothed":true,"userAdded":false},{"file":"assets/sewer-front.glb","kind":"model3D","metadata":"","name":"sewer-front.glb","userAdded":false,"origin":{"identifier":"https://project-resources.gdevelop.io/f63d979f-d54f-469a-af5d-6647d4f3c451/resources/54a4edcdea2564c892b9181e366f93dc9be41e2515fe2f557ce7df15beb3f76c-sewer-front.glb","name":"cloud-project-resource"}},{"file":"assets/InvisibleBarrier_Front.png","kind":"image","metadata":"{\"extension\":\".png\",\"pskl\":{}}","name":"InvisibleBarrier_Front","smoothed":true,"userAdded":false},{"file":"assets/entrance-mesh-new.glb","kind":"model3D","metadata":"","name":"entrance-mesh-new.glb","userAdded":false,"origin":{"identifier":"https://project-resources.gdevelop.io/f63d979f-d54f-469a-af5d-6647d4f3c451/resources/93373bfff0098bd24bb843068f9ddcfdbd360341da51fa0d151fc2e52d87fd37-entrance-mesh-new.glb","name":"cloud-project-resource"}},{"file":"assets/directions.glb","kind":"model3D","metadata":"","name":"directions.glb","userAdded":false,"origin":{"identifier":"https://project-resources.gdevelop.io/f63d979f-d54f-469a-af5d-6647d4f3c451/resources/60eba0e4e2d44521eef21b587895254f3b24ac2355000564f7c2e770a2875698-directions.glb","name":"cloud-project-resource"}},{"file":"assets/roof-prop.glb","kind":"model3D","metadata":"","name":"roof-prop.glb","userAdded":false,"origin":{"identifier":"https://project-resources.gdevelop.io/f63d979f-d54f-469a-af5d-6647d4f3c451/resources/da7c0b7a9159de9662f4f7e7520a246a96a5f6adf5aa5ff705cda1886610aa3d-roof-prop.glb","name":"cloud-project-resource"}},{"file":"assets/hand-cursor.png.png","kind":"image","metadata":"{\"extension\":\".png\"}","name":"hand-cursor.png","smoothed":false,"userAdded":false,"origin":{"identifier":"https://project-resources.gdevelop.io/f63d979f-d54f-469a-af5d-6647d4f3c451/resources/fe0cf717cbdb28859a7a1e924578a0185ccef8bbb9b308ecd1fb8a7cf96b5eea-hand-cursor.png","name":"cloud-project-resource"}},{"file":"assets/Stairs.png","kind":"image","metadata":"{\"extension\":\".png\"}","name":"Stairs","smoothed":false,"userAdded":false},{"file":"assets/woodpallet.glb","kind":"model3D","metadata":"","name":"woodpallet.glb","userAdded":false,"origin":{"identifier":"https://project-resources.gdevelop.io/f63d979f-d54f-469a-af5d-6647d4f3c451/resources/5228a35c86ae02f053bba3b0ebc603db83cd325b9718773891a0af1ac0e7d3e4-woodpallet.glb","name":"cloud-project-resource"}},{"file":"assets/sewerobstacle.glb","kind":"model3D","metadata":"","name":"sewerobstacle.glb","userAdded":false,"origin":{"identifier":"https://project-resources.gdevelop.io/f63d979f-d54f-469a-af5d-6647d4f3c451/resources/486ed27adcd5989c4ff23e518dc724e1b79a3e5d4a77b5ec371b6ac46248c024-sewerobstacle.glb","name":"cloud-project-resource"}},{"file":"assets/debris01.glb","kind":"model3D","metadata":"","name":"debris01.glb","userAdded":false,"origin":{"identifier":"https://project-resources.gdevelop.io/f63d979f-d54f-469a-af5d-6647d4f3c451/resources/50f69a8de2422e50be9c49e6cb6ace69ebdd57161845800a24934814dc4e4157-debris01.glb","name":"cloud-project-resource"}},{"file":"assets/trafficcone.glb","kind":"model3D","metadata":"","name":"trafficcone.glb","userAdded":false,"origin":{"identifier":"https://project-resources.gdevelop.io/f63d979f-d54f-469a-af5d-6647d4f3c451/resources/1575bfffa93a8be404fe7588ffa9384298393f1d11cebf010bef05f713823aa3-trafficcone.glb","name":"cloud-project-resource"}},{"file":"assets/floorgarbage.glb","kind":"model3D","metadata":"","name":"floorgarbage.glb","userAdded":false,"origin":{"identifier":"https://project-resources.gdevelop.io/f63d979f-d54f-469a-af5d-6647d4f3c451/resources/c8009a18a9d6ad2d01d9d070ddd4969dc4e9458eeb07f1aedb59597b31d15d7e-floorgarbage.glb","name":"cloud-project-resource"}},{"file":"assets/debris02.glb","kind":"model3D","metadata":"","name":"debris02.glb","userAdded":false,"origin":{"identifier":"https://project-resources.gdevelop.io/f63d979f-d54f-469a-af5d-6647d4f3c451/resources/f5d14dcbdd3087124135cf6fd46894b3ec19087019f2326f82f20d4809e858e5-debris02.glb","name":"cloud-project-resource"}},{"file":"assets/Vingette.png","kind":"image","metadata":"","name":"Vingette.png","smoothed":true,"userAdded":false,"origin":{"identifier":"https://project-resources.gdevelop.io/f63d979f-d54f-469a-af5d-6647d4f3c451/resources/720fbf6a083b7672d4407026c8e878c193e4484ad8ac990c669e45100fd54b45-Vingette.png","name":"cloud-project-resource"}},{"file":"assets/Teleporter_Front.png","kind":"image","metadata":"{\"extension\":\".png\",\"pskl\":{}}","name":"Teleporter_Front","smoothed":true,"userAdded":false},{"file":"assets/NewSprite.png","kind":"image","metadata":"{\"extension\":\".png\"}","name":"NewSprite","smoothed":true,"userAdded":false},{"file":"assets/aberatn.ttf","kind":"font","metadata":"","name":"aberatn.ttf","userAdded":false,"origin":{"identifier":"https://project-resources.gdevelop.io/f63d979f-d54f-469a-af5d-6647d4f3c451/resources/8bae6f40d919a199de9dd62b26a92018fab4637435d5ffc15de0b43d6302c3c6-aberatn.ttf","name":"cloud-project-resource"}},{"file":"assets/exploding-bulb.ogg","kind":"audio","metadata":"","name":"exploding-bulb.ogg","preloadAsMusic":false,"preloadAsSound":false,"preloadInCache":false,"userAdded":false,"origin":{"identifier":"https://project-resources.gdevelop.io/f63d979f-d54f-469a-af5d-6647d4f3c451/resources/240ba15020017643b0540dd4e3126e4ee7c9cd1f3dee94ee24461244d1c88399-exploding-bulb.ogg","name":"cloud-project-resource"}},{"file":"assets/stairs2.glb","kind":"model3D","metadata":"","name":"stairs.glb","userAdded":false,"origin":{"identifier":"https://project-resources.gdevelop.io/f63d979f-d54f-469a-af5d-6647d4f3c451/resources/387d3951e5458e54a174decdc6c73583d21423c93ea2928ea9d409160fa7fd90-stairs.glb","name":"cloud-project-resource"}},{"file":"assets/light02.glb","kind":"model3D","metadata":"","name":"light02.glb","userAdded":false,"origin":{"identifier":"https://project-resources.gdevelop.io/f63d979f-d54f-469a-af5d-6647d4f3c451/resources/2f455d668e627b7ffe32aeb8c6e848c6ed00c86ec22d6c01aa639117d8fce697-light02.glb","name":"cloud-project-resource"}},{"file":"assets/foot-step-default.ogg","kind":"audio","metadata":"","name":"assets\\foot-step-default.ogg","preloadAsMusic":false,"preloadAsSound":false,"preloadInCache":false,"userAdded":false},{"file":"assets/water-step.ogg","kind":"audio","metadata":"","name":"assets\\water-step.ogg","preloadAsMusic":false,"preloadAsSound":false,"preloadInCache":false,"userAdded":false},{"file":"finalglborc2.glb","kind":"model3D","metadata":"","name":"finalglborc2.glb","userAdded":false},{"file":"assets/ko-fi.png","kind":"image","metadata":"","name":"assets\\ko-fi.png","smoothed":true,"userAdded":false},{"file":"assets/Right-Arrow.png","kind":"image","metadata":"{\"localFilePath\":\"assets/Right-Arrow.png\",\"extension\":\".png\"}","name":"Right-Arrow.png","smoothed":false,"userAdded":false,"origin":{"identifier":"https://asset-resources.gdevelop.io/public-resources/Lucid Icons Pack/Shadow/3ac4ccfca394be1b0e90c245ed85246d69ad1324d0cc398d74b9a944f9e14605_Right-Arrow.png","name":"Right-Arrow.png"}},{"file":"assets/stairs2.glb","kind":"model3D","metadata":"","name":"assets\\stairs2.glb","userAdded":false},{"file":"assets/Square White Toggle_Off.png","kind":"image","metadata":"","name":"Square White Toggle_Off.png","smoothed":false,"userAdded":false,"origin":{"identifier":"https://asset-resources.gdevelop.io/public-resources/Settings UI/Toggle Switch/pixel art/e88334de6c9ad921b4719b34a512d70b923fcf36112610a7f9ed4d56aa77cfd0_Square White Toggle_Off.png","name":"Square White Toggle_Off.png"}},{"file":"assets/Square White Toggle_On.png","kind":"image","metadata":"","name":"Square White Toggle_On.png","smoothed":false,"userAdded":false,"origin":{"identifier":"https://asset-resources.gdevelop.io/public-resources/Settings UI/Toggle Switch/pixel art/ebdb63dcba9c53d41a0a468ba28929bf88b1b8698d672fc17568723fe1fbc3cc_Square White Toggle_On.png","name":"Square White Toggle_On.png"}},{"file":"assets/Square White Slider Border.png","kind":"image","metadata":"","name":"Square White Slider Border.png","smoothed":false,"userAdded":false,"origin":{"identifier":"https://asset-resources.gdevelop.io/public-resources/Settings UI/Slider/pixel art/324e5f522f6242e9f93090e75ddc38427c3a6c42e8236dbf0ed541bd85cf7221_Square White Slider Border.png","name":"Square White Slider Border.png"}},{"file":"assets/Square White Slider Fill Bar.png","kind":"image","metadata":"","name":"Square White Slider Fill Bar.png","smoothed":false,"userAdded":false,"origin":{"identifier":"https://asset-resources.gdevelop.io/public-resources/Settings UI/Slider/pixel art/47bc684198cd25b3ec74b0e72c2e2c7abb1b6736bd9f4b78a943c663e83118bf_Square White Slider Fill Bar.png","name":"Square White Slider Fill Bar.png"}},{"file":"assets/Square White Slider Thumb.png","kind":"image","metadata":"","name":"Square White Slider Thumb.png","smoothed":false,"userAdded":false,"origin":{"identifier":"https://asset-resources.gdevelop.io/public-resources/Settings UI/Slider/pixel art/848f861767e7ce4581dba9e122ee7bafeaca57987655cebe1f78ab31d1300f0f_Square White Slider Thumb.png","name":"Square White Slider Thumb.png"}},{"file":"assets/click-sound.mp3","kind":"audio","metadata":"","name":"assets\\click-sound.mp3","preloadAsMusic":false,"preloadAsSound":false,"preloadInCache":false,"userAdded":false},{"file":"assets/hover-sound.mp3","kind":"audio","metadata":"","name":"assets\\hover-sound.mp3","preloadAsMusic":false,"preloadAsSound":false,"preloadInCache":false,"userAdded":false},{"file":"assets/water-step-edited.ogg","kind":"audio","metadata":"","name":"assets\\water-step-edited.ogg","preloadAsMusic":false,"preloadAsSound":false,"preloadInCache":false,"userAdded":false},{"file":"assets/foot-step-default-edited.ogg","kind":"audio","metadata":"","name":"assets\\foot-step-default-edited.ogg","preloadAsMusic":false,"preloadAsSound":false,"preloadInCache":false,"userAdded":false},{"file":"assets/horror-approaching.wav","kind":"audio","metadata":"","name":"assets\\horror-approaching.wav","preloadAsMusic":false,"preloadAsSound":false,"preloadInCache":false,"userAdded":false},{"file":"assets/water-drop.ogg","kind":"audio","metadata":"","name":"assets\\water-drop.ogg","preloadAsMusic":false,"preloadAsSound":false,"preloadInCache":false,"userAdded":false},{"file":"website-icon.webp","kind":"image","metadata":"","name":"website-icon.webp","smoothed":true,"userAdded":false}],"resourceFolders":[]},"objects":[],"objectsFolderStructure":{"folderName":"__ROOT"},"objectsGroups":[],"variables":[],"layouts":[{"b":0,"disableInputWhenNotFocused":true,"mangledName":"Intro","name":"Intro","r":0,"standardSortMethod":true,"stopSoundsOnStartup":true,"title":"","v":0,"uiSettings":{"grid":false,"gridType":"rectangular","gridWidth":32.0,"gridHeight":32.0,"gridOffsetX":0.0,"gridOffsetY":0.0,"gridColor":10401023.0,"gridAlpha":0.8,"snap":false,"zoomFactor":0.546875,"windowMask":false},"objectsGroups":[{"name":"opacity","objects":[{"name":"Title"},{"name":"Text"},{"name":"Highlight01"},{"name":"Highlight02"},{"name":"ko_fi"},{"name":"support"},{"name":"RightArrow"}]}],"variables":[{"name":"descend","type":"boolean","value":true},{"name":"supportToggle","type":"boolean","value":false}],"instances":[{"angle":0.0,"customSize":true,"depth":1.0,"height":111.0,"keepRatio":true,"layer":"","name":"Title","persistentUuid":"c503169e-ab74-4a58-ac32-c6a00a1e85d3","width":1277.0,"x":1.0,"y":91.0,"zOrder":1,"numberProperties":[],"stringProperties":[],"initialVariables":[]},{"angle":0.0,"customSize":true,"depth":1.0,"height":145.0,"keepRatio":true,"layer":"","name":"Text","persistentUuid":"fee98432-53a9-4adf-bc6d-03dfbb49e3ee","width":1060.0,"x":112.0,"y":370.0,"zOrder":2,"numberProperties":[],"stringProperties":[],"initialVariables":[]},{"angle":0.0,"customSize":false,"height":0.0,"keepRatio":true,"layer":"","name":"Highlight01","persistentUuid":"4f96598c-aa30-49b3-b7e6-1fd886fff6fe","width":0.0,"x":636.0,"y":327.0,"zOrder":3,"numberProperties":[],"stringProperties":[],"initialVariables":[]},{"angle":0.0,"customSize":false,"height":0.0,"keepRatio":true,"layer":"","name":"Highlight02","persistentUuid":"730c6a7d-1972-4e60-9250-0f7ed4a0775a","width":0.0,"x":514.0,"y":418.0,"zOrder":4,"numberProperties":[],"stringProperties":[],"initialVariables":[]},{"angle":0.0,"customSize":true,"depth":1.0,"height":54.0,"keepRatio":true,"layer":"","name":"ko_fi","persistentUuid":"4ade6c90-4889-485a-b697-b1ff5e0b314e","width":197.0,"x":557.0,"y":586.0,"zOrder":5,"numberProperties":[],"stringProperties":[],"initialVariables":[]},{"angle":0.0,"customSize":false,"height":0.0,"keepRatio":true,"layer":"","name":"support","persistentUuid":"a2151633-e8e7-4d4e-8809-1f6d37a47aba","width":0.0,"x":545.0,"y":678.0,"zOrder":6,"numberProperties":[],"stringProperties":[],"initialVariables":[]},{"angle":0.0,"customSize":true,"depth":3.0,"height":41.0,"keepRatio":true,"layer":"","name":"RightArrow","persistentUuid":"9b1588ec-d4c2-439d-ac9e-731af2f27450","width":41.0,"x":491.0,"y":591.0,"zOrder":7,"numberProperties":[],"stringProperties":[],"initialVariables":[]}],"objects":[{"assetStoreId":"","bold":true,"italic":false,"name":"Title","smoothed":true,"type":"TextObject::Text","underlined":false,"variables":[],"effects":[],"behaviors":[],"string":"Attention!","font":"aberatn.ttf","textAlignment":"center","characterSize":100.0,"color":{"b":0,"g":0,"r":255},"content":{"bold":true,"isOutlineEnabled":false,"isShadowEnabled":false,"italic":false,"outlineColor":"255;255;255","outlineThickness":2.0,"shadowAngle":90.0,"shadowBlurRadius":2.0,"shadowColor":"0;0;0","shadowDistance":4.0,"shadowOpacity":127.0,"smoothed":true,"underlined":false,"text":"Attention!","font":"aberatn.ttf","textAlignment":"center","verticalTextAlignment":"center","characterSize":100.0,"color":"255;0;0"}},{"assetStoreId":"","bold":true,"italic":false,"name":"Text","smoothed":true,"type":"TextObject::Text","underlined":false,"variables":[],"effects":[],"behaviors":[],"string":"This a            .\nIf you would like to have the full experience make sure to            the game.","font":"","textAlignment":"center","characterSize":40.0,"color":{"b":255,"g":255,"r":255},"content":{"bold":true,"isOutlineEnabled":false,"isShadowEnabled":false,"italic":false,"outlineColor":"255;255;255","outlineThickness":2.0,"shadowAngle":90.0,"shadowBlurRadius":2.0,"shadowColor":"0;0;0","shadowDistance":4.0,"shadowOpacity":127.0,"smoothed":true,"underlined":false,"text":"This a            .\nIf you would like to have the full experience make sure to            the game.","font":"","textAlignment":"center","verticalTextAlignment":"center","characterSize":40.0,"color":"255;255;255"}},{"assetStoreId":"","bold":true,"italic":false,"name":"Highlight01","smoothed":true,"type":"TextObject::Text","underlined":false,"variables":[],"effects":[],"behaviors":[],"string":"DEMO","font":"","textAlignment":"center","characterSize":40.0,"color":{"b":0,"g":0,"r":255},"content":{"bold":true,"isOutlineEnabled":false,"isShadowEnabled":false,"italic":false,"outlineColor":"255;255;255","outlineThickness":2.0,"shadowAngle":90.0,"shadowBlurRadius":2.0,"shadowColor":"0;0;0","shadowDistance":4.0,"shadowOpacity":127.0,"smoothed":true,"underlined":false,"text":"DEMO","font":"","textAlignment":"center","verticalTextAlignment":"center","characterSize":40.0,"color":"255;0;0"}},{"assetStoreId":"","bold":true,"italic":false,"name":"Highlight02","smoothed":true,"type":"TextObject::Text","underlined":false,"variables":[],"effects":[],"behaviors":[],"string":"RATE","font":"","textAlignment":"center","characterSize":40.0,"color":{"b":0,"g":0,"r":255},"content":{"bold":true,"isOutlineEnabled":false,"isShadowEnabled":false,"italic":false,"outlineColor":"255;255;255","outlineThickness":2.0,"shadowAngle":90.0,"shadowBlurRadius":2.0,"shadowColor":"0;0;0","shadowDistance":4.0,"shadowOpacity":127.0,"smoothed":true,"underlined":false,"text":"RATE","font":"","textAlignment":"center","verticalTextAlignment":"center","characterSize":40.0,"color":"255;0;0"}},{"adaptCollisionMaskAutomatically":true,"assetStoreId":"","name":"ko_fi","type":"Sprite","updateIfNotVisible":false,"variables":[],"effects":[],"behaviors":[{"name":"ButtonFSM","type":"ButtonStates::ButtonFSM","ShouldCheckHovering":true,"State":"Idle","TouchId":0.0,"TouchIsInside":false,"MouseIsInside":false,"Index":2.0247e-320}],"animations":[{"name":"","useMultipleDirections":false,"directions":[{"looping":false,"timeBetweenFrames":0.08,"sprites":[{"hasCustomCollisionMask":true,"image":"assets\\ko-fi.png","points":[],"originPoint":{"name":"origine","x":0.0,"y":0.0},"centerPoint":{"automatic":true,"name":"centre","x":0.0,"y":0.0},"customCollisionMask":[[{"x":0.0,"y":0.0},{"x":1475.0,"y":0.0},{"x":1475.0,"y":402.0},{"x":0.0,"y":402.0}]]}]}]}]},{"assetStoreId":"","bold":true,"italic":false,"name":"support","smoothed":true,"type":"TextObject::Text","underlined":false,"variables":[],"effects":[],"behaviors":[],"string":"support us here","font":"aberatn.ttf","textAlignment":"center","characterSize":30.0,"color":{"b":155,"g":155,"r":158},"content":{"bold":true,"isOutlineEnabled":false,"isShadowEnabled":false,"italic":false,"outlineColor":"255;255;255","outlineThickness":2.0,"shadowAngle":90.0,"shadowBlurRadius":2.0,"shadowColor":"0;0;0","shadowDistance":4.0,"shadowOpacity":127.0,"smoothed":true,"underlined":false,"text":"support us here","font":"aberatn.ttf","textAlignment":"center","verticalTextAlignment":"center","characterSize":30.0,"color":"158;155;155"}},{"adaptCollisionMaskAutomatically":true,"assetStoreId":"f54fecd6e221a9968e175ebdb5171185c3e13bdc56282776270df4f791575ab8","name":"RightArrow","type":"Sprite","updateIfNotVisible":false,"variables":[],"effects":[],"behaviors":[],"animations":[{"name":"Right-Arrow","useMultipleDirections":false,"directions":[{"looping":true,"metadata":"{\"pskl\":{}}","timeBetweenFrames":0.025,"sprites":[{"hasCustomCollisionMask":true,"image":"Right-Arrow.png","points":[],"originPoint":{"name":"origine","x":0.0,"y":0.0},"centerPoint":{"automatic":true,"name":"centre","x":0.0,"y":0.0},"customCollisionMask":[[{"x":1.0,"y":0.0},{"x":14.0,"y":0.0},{"x":14.0,"y":14.0},{"x":1.0,"y":14.0}]]}]}]}]}],"objectsFolderStructure":{"folderName":"__ROOT","children":[{"objectName":"Title"},{"objectName":"Text"},{"objectName":"Highlight01"},{"objectName":"support"},{"objectName":"Highlight02"},{"objectName":"ko_fi"},{"objectName":"RightArrow"}]},"events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"DepartScene"},"parameters":[""]}],"actions":[{"type":{"value":"PlaySoundCanal"},"parameters":["","creepy-ambience.ogg","1","yes","5","1"]},{"type":{"value":"OpacityCapability::OpacityBehavior::SetValue"},"parameters":["opacity","Opacity","=","5"]},{"type":{"value":"SetBooleanVariable"},"parameters":["descend","False",""]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"RepeatEveryXSeconds::Repeat"},"parameters":["","\"text-ascend\"",".1",""]},{"type":{"value":"BooleanVariable"},"parameters":["descend","False",""]}],"actions":[{"type":{"value":"OpacityCapability::OpacityBehavior::SetValue"},"parameters":["opacity","Opacity","+","5"]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"RepeatEveryXSeconds::Repeat"},"parameters":["","\"text-descend\"",".1",""]},{"type":{"value":"BooleanVariable"},"parameters":["descend","True",""]}],"actions":[{"type":{"value":"OpacityCapability::OpacityBehavior::SetValue"},"parameters":["opacity","Opacity","-","5"]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"OpacityCapability::OpacityBehavior::Value"},"parameters":["opacity","Opacity",">=","255"]},{"type":{"value":"BuiltinCommonInstructions::Once"},"parameters":[]}],"actions":[{"type":{"value":"Wait"},"parameters":["1"]},{"type":{"value":"SetBooleanVariable"},"parameters":["descend","True",""]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"RepeatEveryXSeconds::Repeat"},"parameters":["","\"support\"","1",""]}],"actions":[{"type":{"value":"SetBooleanVariable"},"parameters":["supportToggle","Toggle",""]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"BooleanVariable"},"parameters":["supportToggle","True",""]},{"type":{"value":"BuiltinCommonInstructions::Once"},"parameters":[]}],"actions":[{"type":{"value":"MettreX"},"parameters":["RightArrow","=","491"]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"BooleanVariable"},"parameters":["supportToggle","False",""]},{"type":{"value":"BuiltinCommonInstructions::Once"},"parameters":[]}],"actions":[{"type":{"value":"MettreX"},"parameters":["RightArrow","=","471"]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"ButtonStates::ButtonFSM::IsClicked"},"parameters":["ko_fi","ButtonFSM",""]},{"type":{"value":"BuiltinCommonInstructions::Once"},"parameters":[]}],"actions":[{"type":{"value":"LaunchFile"},"parameters":["\"https://ko-fi.com/gamercave\"",""]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"BooleanVariable"},"parameters":["descend","True",""]},{"type":{"value":"OpacityCapability::OpacityBehavior::Value"},"parameters":["opacity","Opacity","=","0"]}],"actions":[{"type":{"value":"Scene"},"parameters":["","\"Menu\"",""]}]}],"layers":[{"ambientLightColorB":200,"ambientLightColorG":200,"ambientLightColorR":200,"camera3DFarPlaneDistance":10000.0,"camera3DFieldOfView":45.0,"camera3DNearPlaneDistance":3.0,"cameraType":"","followBaseLayerCamera":false,"isLightingLayer":false,"isLocked":false,"name":"","renderingType":"","visibility":true,"cameras":[{"defaultSize":true,"defaultViewport":true,"height":0.0,"viewportBottom":1.0,"viewportLeft":0.0,"viewportRight":1.0,"viewportTop":0.0,"width":0.0}],"effects":[{"effectType":"Scene3D::HemisphereLight","name":"3D Light","doubleParameters":{"elevation":45.0,"intensity":1.0,"rotation":0.0},"stringParameters":{"groundColor":"64;64;64","skyColor":"255;255;255","top":"Y-"},"booleanParameters":{}}]}],"behaviorsSharedData":[{"name":"Animation","type":"AnimatableCapability::AnimatableBehavior"},{"name":"ButtonFSM","type":"ButtonStates::ButtonFSM"},{"name":"Effect","type":"EffectCapability::EffectBehavior"},{"name":"Flippable","type":"FlippableCapability::FlippableBehavior"},{"name":"Opacity","type":"OpacityCapability::OpacityBehavior"},{"name":"Resizable","type":"ResizableCapability::ResizableBehavior"},{"name":"Scale","type":"ScalableCapability::ScalableBehavior"},{"name":"Text","type":"TextContainerCapability::TextContainerBehavior"}]},{"b":0,"disableInputWhenNotFocused":true,"mangledName":"Menu","name":"Menu","r":0,"standardSortMethod":true,"stopSoundsOnStartup":false,"title":"","v":0,"uiSettings":{"grid":false,"gridType":"rectangular","gridWidth":25.0,"gridHeight":25.0,"gridOffsetX":0.0,"gridOffsetY":0.0,"gridColor":10401023.0,"gridAlpha":0.8,"snap":false,"zoomFactor":0.6244537826600731,"windowMask":false},"objectsGroups":[{"name":"Obstacle","objects":[{"name":"Wall"},{"name":"floor_traffic"},{"name":"sewer_wood_obstacle"}]},{"name":"Hide","objects":[{"name":"Camera"},{"name":"InvisibleBarrier"}]},{"name":"Interactions","objects":[]},{"name":"Buttons","objects":[{"name":"Play"},{"name":"Settings"},{"name":"Achievements"}]},{"name":"SettingsGroup","objects":[{"name":"Sound_slider"},{"name":"Sound"},{"name":"Fullscreen"},{"name":"Fullscreen_toggle"}]}],"variables":[{"folded":true,"name":"RoundStart","type":"boolean","value":false},{"folded":true,"name":"Score","type":"number","value":0.0},{"folded":true,"name":"Shots","type":"number","value":0.0},{"folded":true,"name":"Hits","type":"number","value":0.0},{"name":"Debug","type":"boolean","value":false},{"folded":true,"name":"FlashlightVar","type":"structure","children":[{"name":"Buzz","type":"boolean","value":false},{"name":"Toggled","type":"boolean","value":false}]},{"name":"Blink","type":"boolean","value":false},{"name":"random","type":"number","value":0.0},{"name":"FirstCheckpoint","type":"boolean","value":false},{"name":"SettingsVar","type":"boolean","value":false}],"instances":[{"angle":201.0,"customSize":true,"depth":180.0,"height":40.0,"layer":"","name":"Camera","persistentUuid":"b47b3320-fbbb-473d-8e2a-9eb5497c56f0","rotationY":5.0,"width":40.0,"x":1135.0,"y":535.0,"z":-50.0,"zOrder":2,"numberProperties":[],"stringProperties":[],"initialVariables":[]},{"angle":0.0,"customSize":true,"depth":256.0,"height":100.0,"layer":"","name":"Wall","persistentUuid":"1075df65-af84-472d-a431-47d6f7a5cb63","width":1281.0,"x":-6.0,"y":-100.0,"zOrder":1,"numberProperties":[],"stringProperties":[],"initialVariables":[]},{"angle":270.0,"customSize":true,"depth":256.0,"height":26.0,"layer":"","name":"Wall","persistentUuid":"6fa436f1-8654-477e-8914-8ae7248db7b0","width":291.0,"x":-161.0,"y":41.0,"zOrder":5,"numberProperties":[],"stringProperties":[],"initialVariables":[]},{"angle":180.0,"customSize":true,"depth":256.0,"height":100.0,"layer":"","name":"Wall","persistentUuid":"101b967b-9ac5-49fd-8bb6-a20936bfb4bb","width":1300.0,"x":-50.0,"y":651.0,"zOrder":1,"numberProperties":[],"stringProperties":[],"initialVariables":[]},{"angle":270.0,"customSize":true,"depth":256.0,"height":26.0,"layer":"","name":"Wall","persistentUuid":"39fa8c83-35c4-44af-8a77-b3f16b96fa4e","width":348.0,"x":-189.0,"y":570.0,"zOrder":5,"numberProperties":[],"stringProperties":[],"initialVariables":[]},{"angle":90.0,"customSize":true,"depth":256.0,"height":125.0,"layer":"","name":"Wall","persistentUuid":"6a2b9a40-5f9b-45a7-816d-8eb8ffad2ecf","width":776.0,"x":926.0,"y":300.0,"z":-1.0,"zOrder":5,"numberProperties":[],"stringProperties":[],"initialVariables":[]},{"angle":0.0,"customSize":true,"height":200.0,"layer":"MobileUI","name":"WalkJoystick","persistentUuid":"618a7ba7-ceae-4203-a30b-01bcfdf1176a","width":200.0,"x":150.0,"y":575.0,"zOrder":6,"numberProperties":[],"stringProperties":[],"initialVariables":[]},{"angle":0.0,"customSize":true,"height":200.0,"layer":"MobileUI","name":"LookJoystick","persistentUuid":"069093d9-0a80-4e21-be73-13236f86942c","width":200.0,"x":1130.0,"y":575.0,"zOrder":7,"numberProperties":[],"stringProperties":[],"initialVariables":[]},{"angle":0.0,"customSize":true,"depth":0.0,"height":72.0,"layer":"Crosshair","name":"Crosshair","persistentUuid":"08268386-3245-4332-a1b8-74c8dd933811","width":72.0,"x":806.0,"y":-397.0,"zOrder":9,"numberProperties":[],"stringProperties":[],"initialVariables":[]},{"angle":0.0,"customSize":false,"height":0.0,"keepRatio":true,"layer":"","name":"BlinkingLight","persistentUuid":"b8912f70-2a22-4d0f-9bc8-0b9cee065a8f","rotationY":90.0,"width":0.0,"x":-225.0,"y":250.0,"z":300.0,"zOrder":11,"numberProperties":[],"stringProperties":[],"initialVariables":[]},{"angle":0.0,"customSize":false,"height":0.0,"keepRatio":true,"layer":"UI","name":"Debug01","persistentUuid":"b699da7c-ec5d-4fab-a768-2371abd33d8e","width":0.0,"x":0.0,"y":0.0,"zOrder":14,"numberProperties":[],"stringProperties":[],"initialVariables":[]},{"angle":0.0,"customSize":false,"height":0.0,"keepRatio":true,"layer":"UI","name":"Debug02","persistentUuid":"dbbe9126-af9c-429b-8996-970a367e0f34","width":0.0,"x":0.0,"y":62.0,"zOrder":15,"numberProperties":[],"stringProperties":[],"initialVariables":[]},{"angle":0.0,"customSize":true,"depth":42.0,"height":12.5,"keepRatio":true,"layer":"","name":"Flashlight","persistentUuid":"f0977b55-23b0-4993-9a40-87d0da906f52","width":12.5,"x":733.0,"y":87.0,"zOrder":16,"numberProperties":[],"stringProperties":[],"initialVariables":[]},{"angle":0.0,"customSize":true,"depth":100.0,"height":425.0,"keepRatio":true,"layer":"","name":"WaterBox","persistentUuid":"437b0aee-1cec-4774-a765-f48329dc5a23","width":900.0,"x":-925.0,"y":100.0,"z":-80.0,"zOrder":18,"numberProperties":[],"stringProperties":[],"initialVariables":[]},{"angle":0.0,"customSize":true,"depth":100.0,"height":675.0,"keepRatio":true,"layer":"","name":"Floor","persistentUuid":"0b401379-9a83-4c75-af66-3f98f0f4fe3d","width":1300.0,"x":-25.0,"y":0.0,"z":-100.0,"zOrder":20,"numberProperties":[],"stringProperties":[],"initialVariables":[]},{"angle":0.0,"customSize":false,"height":0.0,"keepRatio":true,"layer":"","name":"BlinkingLight","persistentUuid":"e49e8e8b-7d92-4f01-b50f-7f15d6185e83","rotationY":90.0,"width":0.0,"x":725.0,"y":550.0,"z":350.0,"zOrder":11,"numberProperties":[],"stringProperties":[],"initialVariables":[]},{"angle":270.0,"customSize":true,"depth":142.0,"height":209.0,"keepRatio":true,"layer":"","name":"Sewer_entrance","persistentUuid":"f25c21cf-238e-4663-9912-0091fd01574b","rotationX":270.0,"width":375.0,"x":-396.0,"y":-87.0,"z":104.0,"zOrder":25,"numberProperties":[],"stringProperties":[],"initialVariables":[]},{"angle":0.0,"customSize":true,"depth":100.0,"height":250.0,"keepRatio":true,"layer":"","name":"Floor","persistentUuid":"49b34833-a1e7-4eb4-8225-f8e6aa67f4dc","width":25.0,"x":-30.0,"y":175.0,"z":-79.0,"zOrder":20,"numberProperties":[],"stringProperties":[],"initialVariables":[]},{"angle":0.0,"customSize":false,"height":0.0,"keepRatio":true,"layer":"","name":"InlineSewer","persistentUuid":"1dae010e-32c3-4071-b794-aeb650889c6c","width":0.0,"x":-867.0,"y":159.0,"z":135.0,"zOrder":26,"numberProperties":[],"stringProperties":[],"initialVariables":[]},{"angle":0.0,"customSize":true,"depth":110.0,"height":110.0,"keepRatio":true,"layer":"","name":"RoofProp","persistentUuid":"b2187964-7757-4f84-9d4f-23588d3a1a7d","width":110.0,"x":778.0,"y":630.0,"z":254.0,"zOrder":31,"numberProperties":[],"stringProperties":[],"initialVariables":[]},{"angle":90.0,"customSize":true,"depth":100.0,"height":751.0,"keepRatio":true,"layer":"","name":"Roof","persistentUuid":"a1d612c7-9cc2-40f1-831c-076d0814ed4a","width":76.0,"x":312.0,"y":1244.5,"z":255.0,"zOrder":24,"numberProperties":[],"stringProperties":[],"initialVariables":[]},{"angle":90.0,"customSize":true,"depth":100.0,"height":525.0,"keepRatio":true,"layer":"","name":"Roof","persistentUuid":"d7a3df14-dd1b-42be-b467-d162910d23ff","width":76.0,"x":1050.0,"y":1357.5,"z":255.0,"zOrder":24,"numberProperties":[],"stringProperties":[],"initialVariables":[]},{"angle":110.0,"customSize":false,"height":0.0,"keepRatio":true,"layer":"","name":"sewer_wood_obstacle","persistentUuid":"9a6fe64b-b04f-470f-97f4-1d252f2f94b9","rotationX":270.0,"width":0.0,"x":53.0,"y":183.0,"z":30.0,"zOrder":32,"numberProperties":[],"stringProperties":[],"initialVariables":[]},{"angle":110.0,"customSize":false,"height":0.0,"keepRatio":true,"layer":"","name":"floor_debris01","persistentUuid":"e2adeca1-455e-47c2-9902-404cdaf683b6","rotationX":270.0,"width":0.0,"x":71.0,"y":102.0,"z":5.0,"zOrder":33,"numberProperties":[],"stringProperties":[],"initialVariables":[]},{"angle":133.0,"customSize":false,"height":0.0,"keepRatio":true,"layer":"","name":"floor_debris01","persistentUuid":"b5af18c1-a944-4d2d-ac92-29744ef71e78","rotationX":270.0,"width":0.0,"x":188.0,"y":64.0,"z":5.0,"zOrder":33,"numberProperties":[],"stringProperties":[],"initialVariables":[]},{"angle":251.0,"customSize":true,"depth":49.0,"height":58.0,"keepRatio":true,"layer":"","name":"floor_traffic","persistentUuid":"c95b15dd-b129-4a2c-a56e-f50ef6ea9ac7","rotationX":270.0,"width":42.0,"x":316.0,"y":46.0,"z":30.0,"zOrder":34,"numberProperties":[],"stringProperties":[],"initialVariables":[]},{"angle":313.0,"customSize":false,"height":0.0,"keepRatio":true,"layer":"","name":"floor_garbage02","persistentUuid":"1e55f87e-e6e9-4503-b61a-1007119b3c24","rotationX":270.0,"width":0.0,"x":1163.0,"y":89.0,"z":5.0,"zOrder":35,"numberProperties":[],"stringProperties":[],"initialVariables":[]},{"angle":133.0,"customSize":false,"height":0.0,"keepRatio":true,"layer":"","name":"floor_debris01","persistentUuid":"b40060cc-afec-4cc1-854f-adba5856582f","rotationX":270.0,"width":0.0,"x":1037.0,"y":136.0,"z":5.0,"zOrder":33,"numberProperties":[],"stringProperties":[],"initialVariables":[]},{"angle":39.0,"customSize":false,"height":0.0,"keepRatio":true,"layer":"","name":"floor_trash","persistentUuid":"10ffc592-ff0b-4380-a1dc-2422b154052e","rotationX":270.0,"width":0.0,"x":645.0,"y":609.0,"z":10.0,"zOrder":36,"numberProperties":[],"stringProperties":[],"initialVariables":[]},{"angle":39.0,"customSize":false,"height":0.0,"keepRatio":true,"layer":"","name":"floor_trash","persistentUuid":"1ae0d432-5389-4008-8874-cbd4aa0bdde6","rotationX":270.0,"width":0.0,"x":1145.0,"y":614.0,"z":10.0,"zOrder":36,"numberProperties":[],"stringProperties":[],"initialVariables":[]},{"angle":354.0,"customSize":false,"height":0.0,"keepRatio":true,"layer":"","name":"floor_garbage02","persistentUuid":"d1e24ea4-757a-4a4b-ac7f-24ad8bd0435e","rotationX":270.0,"width":0.0,"x":99.0,"y":585.0,"z":5.0,"zOrder":35,"numberProperties":[],"stringProperties":[],"initialVariables":[]},{"angle":251.0,"customSize":true,"depth":49.0,"height":58.0,"keepRatio":true,"layer":"","name":"floor_traffic","persistentUuid":"6d0ba778-35b0-46a6-818b-44f01f05a864","rotationX":270.0,"width":42.0,"x":941.0,"y":621.0,"z":30.0,"zOrder":34,"numberProperties":[],"stringProperties":[],"initialVariables":[]},{"angle":36.0,"customSize":false,"height":0.0,"keepRatio":true,"layer":"","name":"floor_debris02","persistentUuid":"dfc18648-a8ef-4fad-9ec1-8ac281262237","rotationX":270.0,"width":0.0,"x":1158.0,"y":369.0,"z":5.0,"zOrder":37,"numberProperties":[],"stringProperties":[],"initialVariables":[]},{"angle":36.0,"customSize":false,"height":0.0,"keepRatio":true,"layer":"","name":"floor_debris02","persistentUuid":"4949d737-3571-4c53-bbe8-10b457549f13","rotationX":270.0,"width":0.0,"x":517.0,"y":306.0,"z":5.0,"zOrder":37,"numberProperties":[],"stringProperties":[],"initialVariables":[]},{"angle":90.0,"customSize":true,"depth":1.0,"height":315.0,"keepRatio":true,"layer":"","locked":true,"name":"sewer_entrance","persistentUuid":"8ed7733e-8c12-408a-85f1-7620554fe3d1","rotationX":270.0,"rotationY":-2.0,"sealed":true,"width":276.0,"x":-21.0,"y":306.0,"z":101.0,"zOrder":38,"numberProperties":[],"stringProperties":[],"initialVariables":[]},{"angle":33.0,"customSize":false,"height":0.0,"keepRatio":true,"layer":"","name":"sewer_wood_obstacle","persistentUuid":"9ab9d113-e625-4f63-b965-ecb5f7afd0bc","rotationX":270.0,"width":0.0,"x":60.0,"y":429.0,"z":30.0,"zOrder":32,"numberProperties":[],"stringProperties":[],"initialVariables":[]},{"angle":0.0,"customSize":true,"depth":1.0,"height":720.0,"keepRatio":true,"layer":"UI","locked":true,"name":"vingette_effect","persistentUuid":"601ee705-fb3d-4abb-b2e6-0a6dd3baf135","sealed":true,"width":1375.0,"x":0.0,"y":0.0,"zOrder":39,"numberProperties":[],"stringProperties":[],"initialVariables":[]},{"angle":0.0,"customSize":false,"height":0.0,"keepRatio":true,"layer":"","name":"blinkUI","persistentUuid":"f772bad6-e5e4-4ea6-ba85-afc0c1cc1278","width":0.0,"x":1775.0,"y":275.0,"zOrder":42,"numberProperties":[],"stringProperties":[],"initialVariables":[]},{"angle":0.0,"customSize":false,"height":0.0,"keepRatio":true,"layer":"UI","name":"Play","persistentUuid":"b43a1dfc-b265-4fe6-97d2-58a07123995c","width":0.0,"x":825.0,"y":339.0,"zOrder":44,"numberProperties":[],"stringProperties":[],"initialVariables":[]},{"angle":0.0,"customSize":false,"height":0.0,"keepRatio":true,"layer":"UI","name":"Settings","persistentUuid":"d26e2dd8-0ad1-424a-b5ce-0e819d60410a","width":0.0,"x":825.0,"y":444.0,"zOrder":45,"numberProperties":[],"stringProperties":[],"initialVariables":[]},{"angle":177.0,"customSize":false,"height":0.0,"keepRatio":true,"layer":"","name":"Flashlight","persistentUuid":"5dc461f5-95d7-4bbb-828d-742f3d6ceeec","rotationX":270.0,"width":0.0,"x":565.0,"y":260.0,"zOrder":47,"numberProperties":[],"stringProperties":[],"initialVariables":[]},{"angle":0.0,"customSize":false,"height":0.0,"keepRatio":true,"layer":"UI","name":"Title","persistentUuid":"9d15ae91-e2f6-4213-9201-ad6f30b9457b","width":0.0,"x":150.0,"y":50.0,"zOrder":48,"numberProperties":[],"stringProperties":[],"initialVariables":[]},{"angle":0.0,"customSize":false,"height":0.0,"keepRatio":true,"layer":"UI","name":"Demo","persistentUuid":"068458e2-0550-45e8-b4f5-44b836847508","width":0.0,"x":1000.0,"y":147.0,"zOrder":49,"numberProperties":[],"stringProperties":[],"initialVariables":[]},{"angle":180.0,"customSize":true,"depth":38.0,"height":286.0,"keepRatio":true,"layer":"","name":"Stairs","persistentUuid":"ebc51a83-8285-4f8f-93ba-f497c061c53c","rotationX":270.0,"width":50.0,"x":778.0,"y":653.0,"z":180.0,"zOrder":50,"numberProperties":[],"stringProperties":[],"initialVariables":[]},{"angle":0.0,"customSize":false,"height":0.0,"keepRatio":true,"layer":"UI","name":"Fullscreen_toggle","persistentUuid":"31fc17ba-53cf-4bcc-8944-148b67ba22d0","width":0.0,"x":1003.0,"y":542.0,"zOrder":51,"numberProperties":[],"stringProperties":[],"initialVariables":[]},{"angle":0.0,"customSize":false,"height":0.0,"keepRatio":true,"layer":"UI","name":"Fullscreen","persistentUuid":"24abf14d-af46-4fc0-a207-e48c9544cab8","width":0.0,"x":800.0,"y":538.0,"zOrder":52,"numberProperties":[],"stringProperties":[],"initialVariables":[]},{"angle":0.0,"customSize":false,"height":0.0,"keepRatio":true,"layer":"UI","name":"Sound","persistentUuid":"efcf2d47-679d-49c0-84ea-55b8bf286ae4","width":0.0,"x":800.0,"y":596.0,"zOrder":53,"numberProperties":[],"stringProperties":[],"initialVariables":[]},{"angle":0.0,"customSize":true,"depth":48.0,"height":28.0,"keepRatio":true,"layer":"UI","name":"Sound_slider","persistentUuid":"8bebdb2c-7a6d-4cdb-bbb3-d270d7f9f430","width":111.0,"x":921.0,"y":602.0,"zOrder":54,"numberProperties":[],"stringProperties":[],"initialVariables":[]},{"angle":0.0,"customSize":true,"depth":1.0,"height":115.0,"keepRatio":true,"layer":"UI","name":"gamercave","opacity":179,"persistentUuid":"86119ed4-25a5-42cf-975d-1edd57122743","width":115.0,"x":31.0,"y":584.0,"zOrder":55,"numberProperties":[],"stringProperties":[],"initialVariables":[]}],"objects":[{"assetStoreId":"","name":"InlineSewer","type":"InlineSewer::InlineSewer","variables":[],"effects":[],"behaviors":[],"content":{}},{"assetStoreId":"","name":"Wall","type":"Scene3D::Cube3DObject","variables":[],"effects":[],"behaviors":[],"content":{"width":100.0,"height":100.0,"depth":100.0,"enableTextureTransparency":false,"facesOrientation":"Z","frontFaceResourceName":"CorridorWalls.png","backFaceResourceName":"CorridorWalls.png","backFaceUpThroughWhichAxisRotation":"X","leftFaceResourceName":"CorridorWalls.png","rightFaceResourceName":"CorridorWalls.png","topFaceResourceName":"CorridorWalls.png","bottomFaceResourceName":"CorridorWalls.png","frontFaceVisible":true,"backFaceVisible":true,"leftFaceVisible":true,"rightFaceVisible":true,"topFaceVisible":true,"bottomFaceVisible":true,"frontFaceResourceRepeat":true,"backFaceResourceRepeat":true,"leftFaceResourceRepeat":true,"rightFaceResourceRepeat":true,"topFaceResourceRepeat":true,"bottomFaceResourceRepeat":true,"materialType":"StandardWithoutMetalness"}},{"assetStoreId":"","name":"Camera","type":"Scene3D::Cube3DObject","variables":[],"effects":[],"behaviors":[{"name":"Jump3D","type":"Jump3D::Jump3D","Object3D":"Object3D","JumpHeight":0.0,"Time":150.00000000011648,"Duration":150.00000000011648,"MaxFallingSpeed":700.0,"Gravity":1000.0,"JumpSpeed":600.0,"JumpSustainTime":0.2,"State":"","CurrentJumpSpeed":0.19999992847454,"CurrentFallSpeed":0.19999992847454,"PreviousJumpSpeed":0.19999992847454,"PreviousFallSpeed":0.19999992847454,"HasPressedJumpKey":false,"ShouldStopAtZero":true},{"name":"TopDownWalk","type":"Walk3D::Walk3D","RotationSpeedMax":180.0,"RotationAcceleration":720.0,"RotationDeceleration":720.0,"TranslationSpeedMax":250.0,"TranslationAcceleration":1600.0,"TranslationDeceleration":1600.0,"ShouldNormalizeTranslation":true,"CurrentRotationSpeed":0.0,"PreviousRotationSpeed":0.0,"CurrentForwardSpeed":0.0,"CurrentSidewaysSpeed":0.0,"PreviousForwardSpeed":0.0,"PreviousSidewaysSpeed":0.0,"HasPressedTurnLeft":false,"HasPressedTurnRight":false,"HasPressedTurnLeftLast":false,"HadPressedTurnLeft":false,"HadPressedTurnRight":false,"HasPressedMoveForward":false,"HasPressedMoveBackward":false,"HadPressedMoveForward":false,"HadPressedMoveBackward":false,"HasPressedMoveBackwardLast":false,"HasPressedMoveLeft":false,"HasPressedMoveRight":false,"HadPressedMoveLeft":false,"HadPressedMoveRight":false,"HasPressedMoveLeftLast":false}],"content":{"width":100.0,"height":100.0,"depth":180.0,"enableTextureTransparency":false,"facesOrientation":"Y","frontFaceResourceName":"Camera.png","backFaceResourceName":"","backFaceUpThroughWhichAxisRotation":"X","leftFaceResourceName":"","rightFaceResourceName":"","topFaceResourceName":"","bottomFaceResourceName":"","frontFaceVisible":true,"backFaceVisible":false,"leftFaceVisible":false,"rightFaceVisible":false,"topFaceVisible":false,"bottomFaceVisible":false,"frontFaceResourceRepeat":false,"backFaceResourceRepeat":false,"leftFaceResourceRepeat":false,"rightFaceResourceRepeat":false,"topFaceResourceRepeat":false,"bottomFaceResourceRepeat":false}},{"assetStoreId":"9be1b0d0d5a1afad4537db989ea5e3a4a4564dfd123630a9bf61330a73803c63","name":"WalkJoystick","type":"SpriteMultitouchJoystick::SpriteMultitouchJoystick","variables":[],"effects":[],"behaviors":[],"content":{},"childrenContent":{"Border":{"adaptCollisionMaskAutomatically":false,"updateIfNotVisible":false,"animations":[{"name":"Idle","useMultipleDirections":false,"directions":[{"looping":false,"timeBetweenFrames":0.08,"sprites":[{"hasCustomCollisionMask":false,"image":"Shaded dark joystick border.png","points":[],"originPoint":{"name":"origine","x":0.0,"y":0.0},"centerPoint":{"automatic":true,"name":"centre","x":0.0,"y":0.0},"customCollisionMask":[]}]}]}]},"Thumb":{"adaptCollisionMaskAutomatically":false,"updateIfNotVisible":false,"animations":[{"name":"Idle","useMultipleDirections":false,"directions":[{"looping":false,"timeBetweenFrames":0.08,"sprites":[{"hasCustomCollisionMask":false,"image":"Shaded dark joystick thumb.png","points":[],"originPoint":{"name":"origine","x":0.0,"y":0.0},"centerPoint":{"automatic":true,"name":"centre","x":0.0,"y":0.0},"customCollisionMask":[]}]}]}]}}},{"assetStoreId":"9be1b0d0d5a1afad4537db989ea5e3a4a4564dfd123630a9bf61330a73803c63","name":"LookJoystick","type":"SpriteMultitouchJoystick::SpriteMultitouchJoystick","variables":[],"effects":[],"behaviors":[{"name":"Anchor","type":"AnchorBehavior::AnchorBehavior","bottomEdgeAnchor":0.0,"leftEdgeAnchor":0.0,"relativeToOriginalWindowSize":true,"rightEdgeAnchor":2.0,"topEdgeAnchor":0.0,"useLegacyBottomAndRightAnchors":false}],"content":{"ControllerIdentifier":2.0,"JoystickIdentifier":"Secondary"},"childrenContent":{"Border":{"adaptCollisionMaskAutomatically":false,"updateIfNotVisible":false,"animations":[{"name":"Idle","useMultipleDirections":false,"directions":[{"looping":false,"timeBetweenFrames":0.08,"sprites":[{"hasCustomCollisionMask":false,"image":"Shaded dark joystick border.png","points":[],"originPoint":{"name":"origine","x":0.0,"y":0.0},"centerPoint":{"automatic":true,"name":"centre","x":0.0,"y":0.0},"customCollisionMask":[]}]}]}]},"Thumb":{"adaptCollisionMaskAutomatically":false,"updateIfNotVisible":false,"animations":[{"name":"Idle","useMultipleDirections":false,"directions":[{"looping":false,"timeBetweenFrames":0.08,"sprites":[{"hasCustomCollisionMask":false,"image":"Shaded dark joystick thumb.png","points":[],"originPoint":{"name":"origine","x":0.0,"y":0.0},"centerPoint":{"automatic":true,"name":"centre","x":0.0,"y":0.0},"customCollisionMask":[]}]}]}]}}},{"adaptCollisionMaskAutomatically":false,"assetStoreId":"","name":"Crosshair","type":"Sprite","updateIfNotVisible":false,"variables":[],"effects":[],"behaviors":[],"animations":[{"name":"Interact","useMultipleDirections":false,"directions":[{"looping":false,"metadata":"{\"pskl\":{}}","timeBetweenFrames":0.08,"sprites":[{"hasCustomCollisionMask":false,"image":"hand-cursor.png","points":[],"originPoint":{"name":"origine","x":32.0,"y":32.0},"centerPoint":{"automatic":true,"name":"centre","x":0.0,"y":0.0},"customCollisionMask":[]}]}]},{"name":"Stairs","useMultipleDirections":false,"directions":[{"looping":false,"metadata":"{\"pskl\":{}}","timeBetweenFrames":0.08,"sprites":[{"hasCustomCollisionMask":false,"image":"Stairs","points":[],"originPoint":{"name":"origine","x":32.0,"y":32.0},"centerPoint":{"automatic":true,"name":"centre","x":0.0,"y":0.0},"customCollisionMask":[]}]}]}]},{"assetStoreId":"","name":"BlinkingLight","type":"Scene3D::Cube3DObject","variables":[],"effects":[],"behaviors":[{"name":"A3L","type":"A3F::A3L","Capability3d":"Object3D","Type":"Spot Light","Color":"255;255;255","Intensity":1.0,"Distance":0.0,"SpotAngle":45.0,"SpotPenumbra":0.5,"CastShadow":false,"ShadowMapSize":"512px","ShadowRange":256.0,"ShadowDepthBias":0.0,"ShadowNormalBias":0.0,"LightHelper":false,"ShadowHelper":false}],"content":{"width":100.0,"height":100.0,"depth":180.0,"enableTextureTransparency":true,"facesOrientation":"Y","frontFaceResourceName":"Flashlight_Front","backFaceResourceName":"","backFaceUpThroughWhichAxisRotation":"X","leftFaceResourceName":"","rightFaceResourceName":"Flashlight_Front","topFaceResourceName":"","bottomFaceResourceName":"","frontFaceVisible":false,"backFaceVisible":false,"leftFaceVisible":false,"rightFaceVisible":false,"topFaceVisible":false,"bottomFaceVisible":false,"frontFaceResourceRepeat":false,"backFaceResourceRepeat":false,"leftFaceResourceRepeat":false,"rightFaceResourceRepeat":false,"topFaceResourceRepeat":false,"bottomFaceResourceRepeat":false}},{"assetStoreId":"ae38399c26ba63498c27ca42e0b1f5d42c029914b48e39fabb07d253d44230be","name":"Player","type":"Scene3D::Model3DObject","variables":[],"effects":[],"behaviors":[{"name":"Walk3D","type":"Walk3D::Walk3D","RotationSpeedMax":180.0,"RotationAcceleration":720.0,"RotationDeceleration":720.0,"TranslationSpeedMax":200.0,"TranslationAcceleration":1600.0,"TranslationDeceleration":1600.0,"CurrentRotationSpeed":0.0,"PreviousRotationSpeed":0.0,"CurrentForwardSpeed":0.0,"CurrentSidewaysSpeed":0.0,"PreviousForwardSpeed":0.0,"PreviousSidewaysSpeed":0.0,"HasPressedTurnLeft":false,"HasPressedTurnRight":false,"HasPressedTurnLeftLast":false,"HadPressedTurnLeft":false,"HadPressedTurnRight":false,"HasPressedMoveForward":false,"HasPressedMoveBackward":false,"HadPressedMoveForward":false,"HadPressedMoveBackward":false,"HasPressedMoveBackwardLast":false,"HasPressedMoveLeft":false,"HasPressedMoveRight":false,"HadPressedMoveLeft":false,"HadPressedMoveRight":false,"HasPressedMoveLeftLast":false,"TargetedForwardSpeed":0.0,"TargetedSidewaysSpeed":0.0,"TargetedRotationSpeed":0.0}],"content":{"centerLocation":"ObjectCenter","depth":143.0,"height":143.0,"keepAspectRatio":true,"materialType":"StandardWithoutMetalness","modelResourceName":"Male Casual 2.glb","originLocation":"ModelOrigin","rotationX":90.0,"rotationY":0.0,"rotationZ":90.0,"width":143.0,"animations":[{"loop":true,"name":"Idle","source":"Idle"},{"loop":true,"name":"Walk","source":"Walk"},{"loop":true,"name":"Run","source":"Run"},{"loop":false,"name":"Death","source":"Death"},{"loop":false,"name":"GunShoot","source":"Gun_Shoot"},{"loop":false,"name":"HitRecieve2","source":"HitRecieve_2"},{"loop":false,"name":"HitRecieve","source":"HitRecieve"},{"loop":true,"name":"IdleGun","source":"Idle_Gun"},{"loop":true,"name":"IdleGunPointing","source":"Idle_Gun_Pointing"},{"loop":false,"name":"IdleGunShoot","source":"Idle_Gun_Shoot"},{"loop":true,"name":"IdleNeutral","source":"Idle_Neutral"},{"loop":true,"name":"IdleSword","source":"Idle_Sword"},{"loop":false,"name":"Interact","source":"Interact"},{"loop":false,"name":"KickLeft","source":"Kick_Left"},{"loop":false,"name":"KickRight","source":"Kick_Right"},{"loop":false,"name":"PunchLeft","source":"Punch_Left"},{"loop":false,"name":"PunchRight","source":"Punch_Right"},{"loop":false,"name":"Roll","source":"Roll"},{"loop":true,"name":"RunBack","source":"Run_Back"},{"loop":true,"name":"RunLeft","source":"Run_Left"},{"loop":true,"name":"RunRight","source":"Run_Right"},{"loop":false,"name":"RunShoot","source":"Run_Shoot"},{"loop":false,"name":"SwordSlash","source":"Sword_Slash"},{"loop":false,"name":"Wave","source":"Wave"}]}},{"assetStoreId":"","bold":false,"italic":false,"name":"Debug01","smoothed":true,"type":"TextObject::Text","underlined":false,"variables":[],"effects":[],"behaviors":[],"string":"Camera:","font":"","textAlignment":"left","characterSize":30.0,"color":{"b":2,"g":2,"r":179},"content":{"bold":false,"isOutlineEnabled":false,"isShadowEnabled":true,"italic":false,"outlineColor":"255;255;255","outlineThickness":2.0,"shadowAngle":90.0,"shadowBlurRadius":2.0,"shadowColor":"0;0;0","shadowDistance":4.0,"shadowOpacity":127.0,"smoothed":true,"underlined":false,"text":"Camera:","font":"","textAlignment":"left","verticalTextAlignment":"top","characterSize":30.0,"color":"179;2;2"}},{"assetStoreId":"","bold":false,"italic":false,"name":"Debug02","smoothed":true,"type":"TextObject::Text","underlined":false,"variables":[],"effects":[],"behaviors":[],"string":"Flashlight","font":"","textAlignment":"left","characterSize":30.0,"color":{"b":2,"g":2,"r":179},"content":{"bold":false,"isOutlineEnabled":false,"isShadowEnabled":true,"italic":false,"outlineColor":"255;255;255","outlineThickness":2.0,"shadowAngle":90.0,"shadowBlurRadius":2.0,"shadowColor":"0;0;0","shadowDistance":4.0,"shadowOpacity":127.0,"smoothed":true,"underlined":false,"text":"Flashlight","font":"","textAlignment":"left","verticalTextAlignment":"top","characterSize":30.0,"color":"179;2;2"}},{"assetStoreId":"","name":"Flashlight","type":"Scene3D::Model3DObject","variables":[],"effects":[],"behaviors":[{"name":"A3L","type":"A3F::A3L","Capability3d":"Object3D","Type":"Spot Light","Color":"255;255;255","Intensity":1.0,"Distance":0.0,"SpotAngle":45.0,"SpotPenumbra":0.5,"CastShadow":false,"ShadowMapSize":"512px","ShadowRange":256.0,"ShadowDepthBias":0.0,"ShadowNormalBias":0.0,"LightHelper":false,"ShadowHelper":false}],"content":{"centerLocation":"ObjectCenter","depth":100.0,"height":100.0,"keepAspectRatio":true,"materialType":"StandardWithoutMetalness","modelResourceName":"flaslightglb.glb","originLocation":"ObjectCenter","rotationX":0.0,"rotationY":0.0,"rotationZ":0.0,"width":100.0,"animations":[]}},{"assetStoreId":"","name":"WaterBox","type":"Scene3D::Cube3DObject","variables":[],"effects":[],"behaviors":[],"content":{"width":100.0,"height":100.0,"depth":100.0,"enableTextureTransparency":false,"facesOrientation":"Y","frontFaceResourceName":"Water.png","backFaceResourceName":"","backFaceUpThroughWhichAxisRotation":"X","leftFaceResourceName":"","rightFaceResourceName":"","topFaceResourceName":"","bottomFaceResourceName":"","frontFaceVisible":true,"backFaceVisible":false,"leftFaceVisible":false,"rightFaceVisible":false,"topFaceVisible":false,"bottomFaceVisible":false,"frontFaceResourceRepeat":true,"backFaceResourceRepeat":false,"leftFaceResourceRepeat":false,"rightFaceResourceRepeat":false,"topFaceResourceRepeat":false,"bottomFaceResourceRepeat":false,"materialType":"StandardWithoutMetalness"}},{"assetStoreId":"","name":"Floor","type":"Scene3D::Cube3DObject","variables":[],"effects":[],"behaviors":[],"content":{"width":100.0,"height":100.0,"depth":100.0,"enableTextureTransparency":false,"facesOrientation":"Y","frontFaceResourceName":"Floor.png","backFaceResourceName":"assets\\Floor.png","backFaceUpThroughWhichAxisRotation":"X","leftFaceResourceName":"assets\\Floor.png","rightFaceResourceName":"assets\\Floor.png","topFaceResourceName":"assets\\Floor.png","bottomFaceResourceName":"assets\\Floor.png","frontFaceVisible":true,"backFaceVisible":true,"leftFaceVisible":true,"rightFaceVisible":true,"topFaceVisible":true,"bottomFaceVisible":true,"frontFaceResourceRepeat":true,"backFaceResourceRepeat":true,"leftFaceResourceRepeat":true,"rightFaceResourceRepeat":true,"topFaceResourceRepeat":true,"bottomFaceResourceRepeat":true,"materialType":"StandardWithoutMetalness"}},{"assetStoreId":"","name":"sewer_curve","type":"Scene3D::Model3DObject","variables":[],"effects":[],"behaviors":[],"content":{"centerLocation":"ObjectCenter","depth":100.0,"height":100.0,"keepAspectRatio":true,"materialType":"StandardWithoutMetalness","modelResourceName":"curve-sewer.glb","originLocation":"ObjectCenter","rotationX":0.0,"rotationY":0.0,"rotationZ":0.0,"width":100.0,"animations":[]}},{"assetStoreId":"","name":"Roof","type":"Scene3D::Cube3DObject","variables":[],"effects":[],"behaviors":[],"content":{"width":100.0,"height":100.0,"depth":100.0,"enableTextureTransparency":false,"facesOrientation":"Y","frontFaceResourceName":"assets\\Floor.png","backFaceResourceName":"CorridorRoof.png2","backFaceUpThroughWhichAxisRotation":"X","leftFaceResourceName":"assets\\Floor.png","rightFaceResourceName":"assets\\Floor.png","topFaceResourceName":"assets\\Floor.png","bottomFaceResourceName":"assets\\Floor.png","frontFaceVisible":false,"backFaceVisible":true,"leftFaceVisible":false,"rightFaceVisible":false,"topFaceVisible":false,"bottomFaceVisible":false,"frontFaceResourceRepeat":false,"backFaceResourceRepeat":true,"leftFaceResourceRepeat":false,"rightFaceResourceRepeat":false,"topFaceResourceRepeat":false,"bottomFaceResourceRepeat":false,"materialType":"StandardWithoutMetalness"}},{"assetStoreId":"","name":"Sewer_front","type":"Scene3D::Model3DObject","variables":[],"effects":[],"behaviors":[],"content":{"centerLocation":"ObjectCenter","depth":100.0,"height":100.0,"keepAspectRatio":true,"materialType":"StandardWithoutMetalness","modelResourceName":"sewer-front.glb","originLocation":"ObjectCenter","rotationX":0.0,"rotationY":0.0,"rotationZ":0.0,"width":100.0,"animations":[]}},{"assetStoreId":"","name":"InvisibleBarrier","type":"Scene3D::Cube3DObject","variables":[],"effects":[],"behaviors":[],"content":{"width":100.0,"height":100.0,"depth":100.0,"enableTextureTransparency":false,"facesOrientation":"Y","frontFaceResourceName":"InvisibleBarrier_Front","backFaceResourceName":"InvisibleBarrier_Front","backFaceUpThroughWhichAxisRotation":"X","leftFaceResourceName":"InvisibleBarrier_Front","rightFaceResourceName":"InvisibleBarrier_Front","topFaceResourceName":"InvisibleBarrier_Front","bottomFaceResourceName":"InvisibleBarrier_Front","frontFaceVisible":true,"backFaceVisible":true,"leftFaceVisible":true,"rightFaceVisible":true,"topFaceVisible":true,"bottomFaceVisible":true,"frontFaceResourceRepeat":true,"backFaceResourceRepeat":true,"leftFaceResourceRepeat":true,"rightFaceResourceRepeat":true,"topFaceResourceRepeat":true,"bottomFaceResourceRepeat":true,"materialType":"StandardWithoutMetalness"}},{"assetStoreId":"","name":"sewer_directions","type":"Scene3D::Model3DObject","variables":[],"effects":[],"behaviors":[],"content":{"centerLocation":"ObjectCenter","depth":100.0,"height":100.0,"keepAspectRatio":true,"materialType":"StandardWithoutMetalness","modelResourceName":"directions.glb","originLocation":"ObjectCenter","rotationX":0.0,"rotationY":0.0,"rotationZ":0.0,"width":100.0,"animations":[]}},{"assetStoreId":"35a842ae8b8a0d42e3e76e091d0dbc39f82bee9a4803f99fd86ab686e40e8c2f","name":"RoofProp","type":"Scene3D::Model3DObject","variables":[],"effects":[],"behaviors":[],"content":{"centerLocation":"ObjectCenter","depth":60.0,"height":60.0,"keepAspectRatio":false,"materialType":"StandardWithoutMetalness","modelResourceName":"roof-prop.glb","originLocation":"ObjectCenter","rotationX":90.0,"rotationY":0.0,"rotationZ":90.0,"width":60.0,"animations":[]}},{"assetStoreId":"","name":"sewer_wood_obstacle","type":"Scene3D::Model3DObject","variables":[],"effects":[],"behaviors":[],"content":{"centerLocation":"ObjectCenter","depth":100.0,"height":100.0,"keepAspectRatio":true,"materialType":"StandardWithoutMetalness","modelResourceName":"sewerobstacle.glb","originLocation":"ObjectCenter","rotationX":0.0,"rotationY":0.0,"rotationZ":0.0,"width":100.0,"animations":[]}},{"assetStoreId":"","name":"floor_debris01","type":"Scene3D::Model3DObject","variables":[],"effects":[],"behaviors":[],"content":{"centerLocation":"ObjectCenter","depth":100.0,"height":100.0,"keepAspectRatio":true,"materialType":"StandardWithoutMetalness","modelResourceName":"debris01.glb","originLocation":"ObjectCenter","rotationX":0.0,"rotationY":0.0,"rotationZ":0.0,"width":100.0,"animations":[]}},{"assetStoreId":"","name":"floor_traffic","type":"Scene3D::Model3DObject","variables":[],"effects":[],"behaviors":[],"content":{"centerLocation":"ObjectCenter","depth":100.0,"height":100.0,"keepAspectRatio":true,"materialType":"StandardWithoutMetalness","modelResourceName":"trafficcone.glb","originLocation":"ObjectCenter","rotationX":0.0,"rotationY":0.0,"rotationZ":0.0,"width":100.0,"animations":[]}},{"assetStoreId":"","name":"floor_garbage02","type":"Scene3D::Model3DObject","variables":[],"effects":[],"behaviors":[],"content":{"centerLocation":"ObjectCenter","depth":100.0,"height":100.0,"keepAspectRatio":true,"materialType":"StandardWithoutMetalness","modelResourceName":"woodpallet.glb","originLocation":"ObjectCenter","rotationX":0.0,"rotationY":0.0,"rotationZ":0.0,"width":100.0,"animations":[]}},{"assetStoreId":"","name":"floor_trash","type":"Scene3D::Model3DObject","variables":[],"effects":[],"behaviors":[],"content":{"centerLocation":"ObjectCenter","depth":100.0,"height":100.0,"keepAspectRatio":true,"materialType":"StandardWithoutMetalness","modelResourceName":"floorgarbage.glb","originLocation":"ObjectCenter","rotationX":0.0,"rotationY":0.0,"rotationZ":0.0,"width":100.0,"animations":[]}},{"assetStoreId":"","name":"floor_debris02","type":"Scene3D::Model3DObject","variables":[],"effects":[],"behaviors":[],"content":{"centerLocation":"ObjectCenter","depth":100.0,"height":100.0,"keepAspectRatio":true,"materialType":"StandardWithoutMetalness","modelResourceName":"debris02.glb","originLocation":"ObjectCenter","rotationX":0.0,"rotationY":0.0,"rotationZ":0.0,"width":100.0,"animations":[]}},{"assetStoreId":"","name":"sewer_entrance","type":"Scene3D::Model3DObject","variables":[],"effects":[],"behaviors":[],"content":{"centerLocation":"ObjectCenter","depth":100.0,"height":100.0,"keepAspectRatio":true,"materialType":"StandardWithoutMetalness","modelResourceName":"entrance-mesh-new.glb","originLocation":"ObjectCenter","rotationX":0.0,"rotationY":0.0,"rotationZ":0.0,"width":100.0,"animations":[]}},{"adaptCollisionMaskAutomatically":true,"assetStoreId":"","name":"vingette_effect","type":"Sprite","updateIfNotVisible":false,"variables":[],"effects":[],"behaviors":[],"animations":[{"name":"","useMultipleDirections":false,"directions":[{"looping":false,"timeBetweenFrames":0.08,"sprites":[{"hasCustomCollisionMask":true,"image":"Vingette.png","points":[],"originPoint":{"name":"origine","x":0.0,"y":0.0},"centerPoint":{"automatic":true,"name":"centre","x":0.0,"y":0.0},"customCollisionMask":[[{"x":0.0,"y":0.0},{"x":384.0,"y":0.0},{"x":384.0,"y":216.0},{"x":0.0,"y":216.0}]]}]}]}]},{"assetStoreId":"","name":"Teleporter","type":"Scene3D::Cube3DObject","variables":[],"effects":[],"behaviors":[],"content":{"width":100.0,"height":100.0,"depth":100.0,"enableTextureTransparency":false,"facesOrientation":"Z","frontFaceResourceName":"Teleporter_Front","backFaceResourceName":"Teleporter_Front","backFaceUpThroughWhichAxisRotation":"X","leftFaceResourceName":"Teleporter_Front","rightFaceResourceName":"Teleporter_Front","topFaceResourceName":"Teleporter_Front","bottomFaceResourceName":"Teleporter_Front","frontFaceVisible":true,"backFaceVisible":true,"leftFaceVisible":true,"rightFaceVisible":true,"topFaceVisible":true,"bottomFaceVisible":true,"frontFaceResourceRepeat":true,"backFaceResourceRepeat":true,"leftFaceResourceRepeat":true,"rightFaceResourceRepeat":true,"topFaceResourceRepeat":true,"bottomFaceResourceRepeat":true,"materialType":"StandardWithoutMetalness"}},{"adaptCollisionMaskAutomatically":true,"assetStoreId":"","name":"blinkUI","type":"Sprite","updateIfNotVisible":false,"variables":[],"effects":[],"behaviors":[],"animations":[{"name":"NewSprite","useMultipleDirections":false,"directions":[{"looping":false,"metadata":"{\"pskl\":{}}","timeBetweenFrames":0.08,"sprites":[{"hasCustomCollisionMask":true,"image":"NewSprite","points":[],"originPoint":{"name":"origine","x":0.0,"y":0.0},"centerPoint":{"automatic":true,"name":"centre","x":0.0,"y":0.0},"customCollisionMask":[[{"x":0.0,"y":0.0},{"x":64.0,"y":0.0},{"x":64.0,"y":64.0},{"x":0.0,"y":64.0}]]}]}]}]},{"assetStoreId":"","name":"Teleporter2","type":"Scene3D::Cube3DObject","variables":[],"effects":[],"behaviors":[],"content":{"width":100.0,"height":100.0,"depth":100.0,"enableTextureTransparency":false,"facesOrientation":"Z","frontFaceResourceName":"Teleporter_Front","backFaceResourceName":"Teleporter_Front","backFaceUpThroughWhichAxisRotation":"X","leftFaceResourceName":"Teleporter_Front","rightFaceResourceName":"Teleporter_Front","topFaceResourceName":"Teleporter_Front","bottomFaceResourceName":"Teleporter_Front","frontFaceVisible":true,"backFaceVisible":true,"leftFaceVisible":true,"rightFaceVisible":true,"topFaceVisible":true,"bottomFaceVisible":true,"frontFaceResourceRepeat":true,"backFaceResourceRepeat":true,"leftFaceResourceRepeat":true,"rightFaceResourceRepeat":true,"topFaceResourceRepeat":true,"bottomFaceResourceRepeat":true,"materialType":"StandardWithoutMetalness"}},{"assetStoreId":"","name":"Checkpoint01","type":"Scene3D::Cube3DObject","variables":[],"effects":[],"behaviors":[],"content":{"width":100.0,"height":100.0,"depth":100.0,"enableTextureTransparency":false,"facesOrientation":"Z","frontFaceResourceName":"Teleporter_Front","backFaceResourceName":"Teleporter_Front","backFaceUpThroughWhichAxisRotation":"X","leftFaceResourceName":"Teleporter_Front","rightFaceResourceName":"Teleporter_Front","topFaceResourceName":"Teleporter_Front","bottomFaceResourceName":"Teleporter_Front","frontFaceVisible":true,"backFaceVisible":true,"leftFaceVisible":true,"rightFaceVisible":true,"topFaceVisible":true,"bottomFaceVisible":true,"frontFaceResourceRepeat":true,"backFaceResourceRepeat":true,"leftFaceResourceRepeat":true,"rightFaceResourceRepeat":true,"topFaceResourceRepeat":true,"bottomFaceResourceRepeat":true,"materialType":"StandardWithoutMetalness"}},{"assetStoreId":"","bold":true,"italic":false,"name":"Play","smoothed":true,"type":"TextObject::Text","underlined":false,"variables":[],"effects":[],"behaviors":[{"name":"ButtonFSM","type":"ButtonStates::ButtonFSM","ShouldCheckHovering":true,"State":"Idle","TouchId":0.0,"TouchIsInside":false,"MouseIsInside":false,"Index":2.0247e-320},{"name":"Tween","type":"Tween::TweenBehavior"}],"string":"Play","font":"aberatn.ttf","textAlignment":"left","characterSize":60.0,"color":{"b":255,"g":255,"r":255},"content":{"bold":true,"isOutlineEnabled":false,"isShadowEnabled":true,"italic":false,"outlineColor":"255;255;255","outlineThickness":2.0,"shadowAngle":90.0,"shadowBlurRadius":2.0,"shadowColor":"0;0;0","shadowDistance":4.0,"shadowOpacity":127.0,"smoothed":true,"underlined":false,"text":"Play","font":"aberatn.ttf","textAlignment":"left","verticalTextAlignment":"top","characterSize":60.0,"color":"255;255;255"}},{"assetStoreId":"","bold":true,"italic":false,"name":"Settings","smoothed":true,"type":"TextObject::Text","underlined":false,"variables":[],"effects":[],"behaviors":[{"name":"ButtonFSM","type":"ButtonStates::ButtonFSM","ShouldCheckHovering":true,"State":"Idle","TouchId":0.0,"TouchIsInside":false,"MouseIsInside":false,"Index":2.0247e-320},{"name":"Tween","type":"Tween::TweenBehavior"}],"string":"Settings","font":"aberatn.ttf","textAlignment":"left","characterSize":60.0,"color":{"b":255,"g":255,"r":255},"content":{"bold":true,"isOutlineEnabled":false,"isShadowEnabled":true,"italic":false,"outlineColor":"255;255;255","outlineThickness":2.0,"shadowAngle":90.0,"shadowBlurRadius":2.0,"shadowColor":"0;0;0","shadowDistance":4.0,"shadowOpacity":127.0,"smoothed":true,"underlined":false,"text":"Settings","font":"aberatn.ttf","textAlignment":"left","verticalTextAlignment":"top","characterSize":60.0,"color":"255;255;255"}},{"assetStoreId":"","bold":true,"italic":false,"name":"Achievements","smoothed":true,"type":"TextObject::Text","underlined":false,"variables":[],"effects":[],"behaviors":[{"isFolded":true,"name":"ButtonFSM","type":"ButtonStates::ButtonFSM","ShouldCheckHovering":true,"State":"Idle","TouchId":0.0,"TouchIsInside":false,"MouseIsInside":false,"Index":2.0247e-320},{"name":"Tween","type":"Tween::TweenBehavior"}],"string":"Achievements","font":"aberatn.ttf","textAlignment":"left","characterSize":60.0,"color":{"b":255,"g":255,"r":255},"content":{"bold":true,"isOutlineEnabled":false,"isShadowEnabled":true,"italic":false,"outlineColor":"255;255;255","outlineThickness":2.0,"shadowAngle":90.0,"shadowBlurRadius":2.0,"shadowColor":"0;0;0","shadowDistance":4.0,"shadowOpacity":127.0,"smoothed":true,"underlined":false,"text":"Achievements","font":"aberatn.ttf","textAlignment":"left","verticalTextAlignment":"top","characterSize":60.0,"color":"255;255;255"}},{"assetStoreId":"","bold":true,"italic":false,"name":"Title","smoothed":true,"type":"TextObject::Text","underlined":false,"variables":[],"effects":[],"behaviors":[{"name":"ButtonFSM","type":"ButtonStates::ButtonFSM","ShouldCheckHovering":true,"State":"Idle","TouchId":0.0,"TouchIsInside":false,"MouseIsInside":false,"Index":2.0247e-320},{"name":"Tween","type":"Tween::TweenBehavior"}],"string":"WHERE DARKNESS DWELLS","font":"aberatn.ttf","textAlignment":"left","characterSize":90.0,"color":{"b":255,"g":255,"r":255},"content":{"bold":true,"isOutlineEnabled":false,"isShadowEnabled":true,"italic":false,"outlineColor":"255;255;255","outlineThickness":2.0,"shadowAngle":90.0,"shadowBlurRadius":2.0,"shadowColor":"121;0;0","shadowDistance":6.0,"shadowOpacity":127.0,"smoothed":true,"underlined":false,"text":"WHERE DARKNESS DWELLS","font":"aberatn.ttf","textAlignment":"left","verticalTextAlignment":"top","characterSize":90.0,"color":"255;255;255"}},{"assetStoreId":"","bold":true,"italic":false,"name":"Demo","smoothed":true,"type":"TextObject::Text","underlined":false,"variables":[],"effects":[],"behaviors":[{"name":"ButtonFSM","type":"ButtonStates::ButtonFSM","ShouldCheckHovering":true,"State":"Idle","TouchId":0.0,"TouchIsInside":false,"MouseIsInside":false,"Index":2.0247e-320},{"name":"Tween","type":"Tween::TweenBehavior"}],"string":"DEMO","font":"aberatn.ttf","textAlignment":"left","characterSize":60.0,"color":{"b":0,"g":0,"r":156},"content":{"bold":true,"isOutlineEnabled":false,"isShadowEnabled":true,"italic":false,"outlineColor":"255;0;0","outlineThickness":2.0,"shadowAngle":90.0,"shadowBlurRadius":2.0,"shadowColor":"121;0;0","shadowDistance":6.0,"shadowOpacity":127.0,"smoothed":true,"underlined":false,"text":"DEMO","font":"aberatn.ttf","textAlignment":"left","verticalTextAlignment":"top","characterSize":60.0,"color":"156;0;0"}},{"assetStoreId":"","name":"Stairs","type":"Scene3D::Model3DObject","variables":[],"effects":[],"behaviors":[],"content":{"centerLocation":"ObjectCenter","depth":100.0,"height":100.0,"keepAspectRatio":true,"materialType":"StandardWithoutMetalness","modelResourceName":"assets\\stairs2.glb","originLocation":"ObjectCenter","rotationX":0.0,"rotationY":0.0,"rotationZ":0.0,"width":100.0,"animations":[]}},{"assetStoreId":"7f3b0673f7479b4b487bcbadbb3c8b9412a8e6d8694543f9ec3419365ebff3f5","name":"Fullscreen_toggle","type":"SpriteToggleSwitch::SpriteToggleSwitch","variables":[],"effects":[],"behaviors":[],"content":{"IsChecked":false},"childrenContent":{"State":{"adaptCollisionMaskAutomatically":false,"updateIfNotVisible":false,"animations":[{"name":"Unchecked","useMultipleDirections":false,"directions":[{"looping":false,"timeBetweenFrames":0.08,"sprites":[{"hasCustomCollisionMask":false,"image":"Square White Toggle_Off.png","points":[],"originPoint":{"name":"origine","x":0.0,"y":0.0},"centerPoint":{"automatic":true,"name":"centre","x":0.0,"y":0.0},"customCollisionMask":[]}]}]},{"name":"Checked","useMultipleDirections":false,"directions":[{"looping":false,"timeBetweenFrames":0.08,"sprites":[{"hasCustomCollisionMask":false,"image":"Square White Toggle_On.png","points":[],"originPoint":{"name":"origine","x":0.0,"y":0.0},"centerPoint":{"automatic":true,"name":"centre","x":0.0,"y":0.0},"customCollisionMask":[]}]}]}]}}},{"assetStoreId":"","bold":true,"italic":false,"name":"Fullscreen","smoothed":true,"type":"TextObject::Text","underlined":false,"variables":[],"effects":[],"behaviors":[{"name":"ButtonFSM","type":"ButtonStates::ButtonFSM","ShouldCheckHovering":true,"State":"Idle","TouchId":0.0,"TouchIsInside":false,"MouseIsInside":false,"Index":2.0247e-320},{"name":"Tween","type":"Tween::TweenBehavior"}],"string":"Fullscreen","font":"aberatn.ttf","textAlignment":"left","characterSize":40.0,"color":{"b":142,"g":142,"r":145},"content":{"bold":true,"isOutlineEnabled":false,"isShadowEnabled":true,"italic":false,"outlineColor":"255;255;255","outlineThickness":2.0,"shadowAngle":90.0,"shadowBlurRadius":2.0,"shadowColor":"0;0;0","shadowDistance":4.0,"shadowOpacity":127.0,"smoothed":true,"underlined":false,"text":"Fullscreen","font":"aberatn.ttf","textAlignment":"left","verticalTextAlignment":"top","characterSize":40.0,"color":"145;142;142"}},{"assetStoreId":"","bold":true,"italic":false,"name":"Sound","smoothed":true,"type":"TextObject::Text","underlined":false,"variables":[],"effects":[],"behaviors":[{"name":"ButtonFSM","type":"ButtonStates::ButtonFSM","ShouldCheckHovering":true,"State":"Idle","TouchId":0.0,"TouchIsInside":false,"MouseIsInside":false,"Index":2.0247e-320},{"name":"Tween","type":"Tween::TweenBehavior"}],"string":"Sound","font":"aberatn.ttf","textAlignment":"left","characterSize":40.0,"color":{"b":142,"g":142,"r":145},"content":{"bold":true,"isOutlineEnabled":false,"isShadowEnabled":true,"italic":false,"outlineColor":"255;255;255","outlineThickness":2.0,"shadowAngle":90.0,"shadowBlurRadius":2.0,"shadowColor":"0;0;0","shadowDistance":4.0,"shadowOpacity":127.0,"smoothed":true,"underlined":false,"text":"Sound","font":"aberatn.ttf","textAlignment":"left","verticalTextAlignment":"top","characterSize":40.0,"color":"145;142;142"}},{"assetStoreId":"bfeeb465a4a164b560a2215e3ff9e78e66123af43cbf7ef1f22d56fca4271c80","name":"Sound_slider","type":"PanelSpriteSlider::PanelSpriteSlider","variables":[],"effects":[],"behaviors":[],"content":{"BarTopPadding":6.0,"BarLeftPadding":6.0,"BarRightPadding":6.0,"BarBottomPadding":6.0,"LabelMargin":6.0,"ShowLabelAtChanges":true},"childrenContent":{"Background":{"bottomMargin":4.0,"height":28.0,"leftMargin":2.0,"rightMargin":2.0,"texture":"Square White Slider Border.png","tiled":false,"topMargin":4.0,"width":265.0},"FillBar":{"bottomMargin":2.0,"height":16.0,"leftMargin":0.0,"rightMargin":0.0,"texture":"Square White Slider Fill Bar.png","tiled":false,"topMargin":0.0,"width":16.0},"Label":{"bold":false,"italic":false,"smoothed":true,"underlined":false,"string":"It displays the value when it changes.","font":"aberatn.ttf","textAlignment":"","characterSize":20.0,"color":{"b":221,"g":221,"r":221},"content":{"bold":false,"isOutlineEnabled":false,"isShadowEnabled":false,"italic":false,"outlineColor":"255;255;255","outlineThickness":2.0,"shadowAngle":90.0,"shadowBlurRadius":2.0,"shadowColor":"0;0;0","shadowDistance":4.0,"shadowOpacity":127.0,"smoothed":true,"underlined":false,"text":"It displays the value when it changes.","font":"aberatn.ttf","textAlignment":"","verticalTextAlignment":"top","characterSize":20.0,"color":"221;221;221"}},"Thumb":{"bottomMargin":2.0,"height":36.0,"leftMargin":1.0,"rightMargin":1.0,"texture":"Square White Slider Thumb.png","tiled":false,"topMargin":2.0,"width":22.0}}},{"adaptCollisionMaskAutomatically":true,"assetStoreId":"","name":"gamercave","type":"Sprite","updateIfNotVisible":false,"variables":[],"effects":[],"behaviors":[{"name":"ButtonFSM","type":"ButtonStates::ButtonFSM","ShouldCheckHovering":true,"State":"Idle","TouchId":0.0,"TouchIsInside":false,"MouseIsInside":false,"Index":2.0247e-320}],"animations":[{"name":"","useMultipleDirections":false,"directions":[{"looping":false,"timeBetweenFrames":0.08,"sprites":[{"hasCustomCollisionMask":true,"image":"website-icon.webp","points":[],"originPoint":{"name":"origine","x":0.0,"y":0.0},"centerPoint":{"automatic":true,"name":"centre","x":0.0,"y":0.0},"customCollisionMask":[[{"x":0.0,"y":0.0},{"x":1024.0,"y":0.0},{"x":1024.0,"y":1024.0},{"x":0.0,"y":1024.0}]]}]}]}]}],"objectsFolderStructure":{"folderName":"__ROOT","children":[{"folderName":"UI","children":[{"objectName":"Crosshair"},{"objectName":"LookJoystick"},{"objectName":"WalkJoystick"}]},{"folderName":"Obstacles","children":[{"objectName":"InvisibleBarrier"},{"objectName":"Wall"},{"objectName":"Teleporter"},{"objectName":"Teleporter2"},{"objectName":"Checkpoint01"}]},{"folderName":"3d","children":[{"objectName":"Player"},{"objectName":"Flashlight"},{"objectName":"RoofProp"},{"objectName":"sewer_curve"},{"objectName":"sewer_wood_obstacle"},{"objectName":"floor_debris01"},{"objectName":"floor_debris02"},{"objectName":"floor_trash"},{"objectName":"floor_traffic"},{"objectName":"Stairs"},{"objectName":"floor_garbage02"},{"objectName":"sewer_entrance"},{"objectName":"sewer_directions"},{"objectName":"Sewer_front"},{"objectName":"InlineSewer"}]},{"folderName":"MenuButtons","children":[{"objectName":"Play"},{"objectName":"Settings"},{"objectName":"Fullscreen"},{"objectName":"Sound"},{"objectName":"Fullscreen_toggle"},{"objectName":"Achievements"},{"objectName":"Title"},{"objectName":"Demo"}]},{"objectName":"Camera"},{"objectName":"BlinkingLight"},{"objectName":"Floor"},{"objectName":"Roof"},{"objectName":"Debug01"},{"objectName":"Debug02"},{"objectName":"WaterBox"},{"objectName":"vingette_effect"},{"objectName":"blinkUI"},{"objectName":"Sound_slider"},{"objectName":"gamercave"}]},"events":[{"folded":true,"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"DepartScene"},"parameters":[""]}],"actions":[{"type":{"value":"PrioritizeLoadingOfScene"},"parameters":["","\"GameScene\""]},{"type":{"value":"SetBooleanVariable"},"parameters":["Debug","False",""]},{"type":{"value":"Cache"},"parameters":["Hide"]},{"type":{"value":"HideLayer"},"parameters":["Hide","\"Crosshair\""]},{"type":{"value":"ShowLayer"},"parameters":["Hide","\"UI\""]},{"type":{"value":"A3F::ChangeOpacity"},"parameters":["","Flashlight","Object3D","\"=\"","1",""]},{"type":{"value":"A3F::ChangeOpacity"},"parameters":["","WaterBox","Object3D","\"=\"","75",""]},{"type":{"value":"MettreY"},"parameters":["Roof","-","1000"]}],"events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[],"actions":[{"type":{"value":"Scene3D::Base3DBehavior::SetZ"},"parameters":["Flashlight","Object3D","=","80"]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"inverted":true,"value":"SystemInfo::IsMobile"},"parameters":[]}],"actions":[{"type":{"value":"Delete"},"parameters":["WalkJoystick",""]},{"type":{"value":"Delete"},"parameters":["LookJoystick",""]}]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"DepartScene"},"parameters":[""]}],"actions":[{"type":{"value":"A3F::ChangeOpacity"},"parameters":["Teleporter","Teleporter","Object3D","\"=\"","0",""]},{"type":{"value":"A3F::ChangeOpacity"},"parameters":["Teleporter","Teleporter2","Object3D","\"=\"","0",""]}]},{"colorB":228,"colorG":176,"colorR":74,"creationTime":0,"folded":true,"name":"Camera controls","source":"","type":"BuiltinCommonInstructions::Group","events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[],"actions":[{"type":{"value":"FirstPersonCamera::LookFromObjectEyes"},"parameters":["","Camera","",""]},{"type":{"value":"Scene3D::Base3DBehavior::SetRotationY"},"parameters":["Camera","Object3D","=","clamp(Camera.RotationY(), -90, 90)"]},{"type":{"value":"Scene3D::SetCameraZ"},"parameters":["","=","130","",""]},{"type":{"value":"MettreXY"},"parameters":["Crosshair","=","CameraCenterX(\"Crosshair\")","=","CameraCenterY(\"Crosshair\")"]}]}],"parameters":[]},{"colorB":228,"colorG":176,"colorR":74,"creationTime":0,"folded":true,"name":"Lightning","source":"","type":"BuiltinCommonInstructions::Group","events":[{"folded":true,"type":"BuiltinCommonInstructions::ForEach","object":"BlinkingLight","conditions":[{"type":{"value":"BooleanVariable"},"parameters":["RoundStart","False",""]}],"actions":[],"events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"RepeatEveryXSeconds::Repeat"},"parameters":["","\"flashlight_blink\"+ ToString(BlinkingLight.X())","0.5",""]}],"actions":[{"type":{"value":"Scene3D::Base3DBehavior::SetZ"},"parameters":["BlinkingLight","Object3D","-","500"]},{"type":{"value":"Wait"},"parameters":[".1"]},{"type":{"value":"Scene3D::Base3DBehavior::SetZ"},"parameters":["BlinkingLight","Object3D","+","500"]}]}]}],"parameters":[]},{"colorB":228,"colorG":176,"colorR":74,"creationTime":0,"name":"Sound","source":"","type":"BuiltinCommonInstructions::Group","events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"BooleanVariable"},"parameters":["Debug","False",""]}],"actions":[],"events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"BuiltinCommonInstructions::Or"},"parameters":[],"subInstructions":[{"type":{"value":"Walk3D::Walk3D::CurrentForwardSpeed"},"parameters":["Camera","TopDownWalk",">","0",""]},{"type":{"value":"Walk3D::Walk3D::CurrentSidewaysSpeed"},"parameters":["Camera","TopDownWalk",">","0",""]}]},{"type":{"value":"RepeatEveryXSeconds::Repeat"},"parameters":["","\"steps-normal\"",".8",""]},{"type":{"inverted":true,"value":"CollisionNP"},"parameters":["Camera","WaterBox","","",""]},{"type":{"value":"BuiltinCommonInstructions::Once"},"parameters":[]}],"actions":[{"type":{"value":"PlaySound"},"parameters":["","foot-step-default.wav","","50","RandomFloatInRange(0.8,1.2)"]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"BuiltinCommonInstructions::Or"},"parameters":[],"subInstructions":[{"type":{"value":"Walk3D::Walk3D::CurrentForwardSpeed"},"parameters":["Camera","TopDownWalk",">","0",""]},{"type":{"value":"Walk3D::Walk3D::CurrentSidewaysSpeed"},"parameters":["Camera","TopDownWalk",">","0",""]}]},{"type":{"value":"RepeatEveryXSeconds::Repeat"},"parameters":["","\"steps-water\"",".8",""]},{"type":{"value":"CollisionNP"},"parameters":["Camera","WaterBox","","",""]},{"type":{"value":"BuiltinCommonInstructions::Once"},"parameters":[]}],"actions":[{"type":{"value":"PlaySound"},"parameters":["","assets\\water-step-edited.ogg","","50","RandomFloatInRange(0.8,1.2)"]}]}]}],"parameters":[]},{"colorB":228,"colorG":176,"colorR":74,"creationTime":0,"folded":true,"name":"Debug","source":"","type":"BuiltinCommonInstructions::Group","events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"BooleanVariable"},"parameters":["Debug","True",""]}],"actions":[{"type":{"value":"TextContainerCapability::TextContainerBehavior::SetValue"},"parameters":["Debug01","Text","=","\"Camera:\"+ToString(Camera.Angle())"]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"BooleanVariable"},"parameters":["Debug","False",""]}],"actions":[{"type":{"value":"Delete"},"parameters":["Debug01",""]},{"type":{"value":"Delete"},"parameters":["Debug02",""]}]}],"parameters":[]},{"colorB":228,"colorG":176,"colorR":74,"creationTime":0,"name":"Menu","source":"","type":"BuiltinCommonInstructions::Group","events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"ButtonStates::ButtonFSM::IsClicked"},"parameters":["Play","ButtonFSM",""]},{"type":{"value":"BuiltinCommonInstructions::Once"},"parameters":[]},{"type":{"value":"BooleanVariable"},"parameters":["RoundStart","False",""]}],"actions":[{"type":{"value":"SetBooleanVariable"},"parameters":["RoundStart","True",""]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"ButtonStates::ButtonFSM::IsClicked"},"parameters":["Settings","ButtonFSM",""]},{"type":{"value":"BuiltinCommonInstructions::Once"},"parameters":[]}],"actions":[{"type":{"value":"SetBooleanVariable"},"parameters":["SettingsVar","Toggle",""]},{"type":{"value":"PlaySound"},"parameters":["","assets\\click-sound.mp3","","10","1"]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"BooleanVariable"},"parameters":["RoundStart","False",""]},{"type":{"value":"ButtonStates::ButtonFSM::IsHovered"},"parameters":["Play","ButtonFSM",""]},{"type":{"value":"BuiltinCommonInstructions::Once"},"parameters":[]}],"actions":[{"type":{"value":"Scene3D::Base3DBehavior::SetZ"},"parameters":["Flashlight","Object3D","=","0"]},{"type":{"value":"PlaySound"},"parameters":["","flashlight-toggle.wav","","20","RandomFloatInRange(0.8,1.2)"]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"inverted":true,"value":"ButtonStates::ButtonFSM::IsHovered"},"parameters":["Play","ButtonFSM",""]},{"type":{"value":"BuiltinCommonInstructions::Once"},"parameters":[]}],"actions":[{"type":{"value":"Scene3D::Base3DBehavior::SetZ"},"parameters":["Flashlight","Object3D","=","-500"]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"ButtonStates::ButtonFSM::IsHovered"},"parameters":["Settings","ButtonFSM",""]},{"type":{"value":"BuiltinCommonInstructions::Once"},"parameters":[]}],"actions":[{"type":{"value":"PlaySound"},"parameters":["","assets\\hover-sound.mp3","","10","1"]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"ButtonStates::ButtonFSM::IsClicked"},"parameters":["gamercave","ButtonFSM",""]},{"type":{"value":"BuiltinCommonInstructions::Once"},"parameters":[]}],"actions":[{"type":{"value":"LaunchFile"},"parameters":["\"https://gamercave.fun/\"",""]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"BooleanVariable"},"parameters":["RoundStart","True",""]},{"type":{"value":"BuiltinCommonInstructions::Once"},"parameters":[]}],"actions":[{"type":{"value":"PlaySound"},"parameters":["","exploding-bulb.ogg","","20","RandomFloatInRange(0.8,1.2)"]},{"type":{"value":"StopSoundCanal"},"parameters":["","1"]},{"type":{"value":"Scene3D::Base3DBehavior::SetZ"},"parameters":["Flashlight","Object3D","=","-500"]},{"type":{"value":"Scene3D::Base3DBehavior::SetZ"},"parameters":["BlinkingLight","Object3D","-","500"]},{"type":{"value":"Cache"},"parameters":["Buttons"]},{"type":{"value":"Cache"},"parameters":["SettingsGroup"]},{"type":{"value":"Cache"},"parameters":["gamercave"]},{"type":{"value":"Cache"},"parameters":["Title"]},{"type":{"value":"Cache"},"parameters":["Demo"]},{"type":{"value":"Wait"},"parameters":["3"]},{"type":{"value":"Scene"},"parameters":["","\"GameScene\"",""]}]},{"folded":true,"type":"BuiltinCommonInstructions::ForEach","object":"Buttons","conditions":[],"actions":[],"events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"ButtonStates::ButtonFSM::IsHovered"},"parameters":["Buttons","ButtonFSM",""]},{"type":{"inverted":true,"value":"Tween::IsPlaying"},"parameters":["Buttons","Tween","\"move_x\""]}],"actions":[{"type":{"value":"Tween::TweenBehavior::AddObjectPositionXTween2"},"parameters":["Buttons","Tween","\"move_x\"","850","\"linear\"",".5",""]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"inverted":true,"value":"ButtonStates::ButtonFSM::IsHovered"},"parameters":["Buttons","ButtonFSM",""]}],"actions":[{"type":{"value":"Tween::TweenBehavior::AddObjectPositionXTween2"},"parameters":["Buttons","Tween","\"unmove_x\"","825","\"linear\"",".5",""]}]}]},{"colorB":228,"colorG":176,"colorR":74,"creationTime":0,"name":"Settings","source":"","type":"BuiltinCommonInstructions::Group","events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"BooleanVariable"},"parameters":["SettingsVar","True",""]},{"type":{"value":"BuiltinCommonInstructions::Once"},"parameters":[]}],"actions":[{"type":{"value":"Montre"},"parameters":["SettingsGroup",""]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"BooleanVariable"},"parameters":["SettingsVar","False",""]},{"type":{"value":"BuiltinCommonInstructions::Once"},"parameters":[]}],"actions":[{"type":{"value":"Cache"},"parameters":["SettingsGroup"]}]},{"folded":true,"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"Visible"},"parameters":["SettingsGroup"]}],"actions":[],"events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"SpriteToggleSwitch::SpriteToggleSwitch::IsChecked"},"parameters":["Fullscreen_toggle",""]},{"type":{"value":"BuiltinCommonInstructions::Once"},"parameters":[]}],"actions":[{"type":{"value":"SetFullScreen"},"parameters":["","yes",""]},{"type":{"value":"PlaySound"},"parameters":["","assets\\click-sound.mp3","","10","1"]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"inverted":true,"value":"SpriteToggleSwitch::SpriteToggleSwitch::IsChecked"},"parameters":["Fullscreen_toggle",""]},{"type":{"value":"BuiltinCommonInstructions::Once"},"parameters":[]}],"actions":[{"type":{"value":"SetFullScreen"},"parameters":["","no",""]},{"type":{"value":"PlaySound"},"parameters":["","assets\\click-sound.mp3","","10","1"]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"PanelSpriteSlider::PanelSpriteSlider::IsBeingDragged"},"parameters":["Sound_slider",""]}],"actions":[{"type":{"value":"ModGlobalVolume"},"parameters":["","=","Sound_slider.Value()"]},{"type":{"value":"PlaySound"},"parameters":["","assets\\hover-sound.mp3","","30","RandomFloatInRange(0.8,1.2)"]}]}]}],"parameters":[]}],"parameters":[]}],"layers":[{"ambientLightColorB":196608,"ambientLightColorG":0,"ambientLightColorR":8126128,"camera3DFarPlaneDistance":10000.0,"camera3DFieldOfView":45.0,"camera3DNearPlaneDistance":0.1,"cameraType":"perspective","followBaseLayerCamera":false,"isLightingLayer":false,"isLocked":false,"name":"","renderingType":"3d","visibility":true,"cameras":[{"defaultSize":true,"defaultViewport":true,"height":0.0,"viewportBottom":1.0,"viewportLeft":0.0,"viewportRight":1.0,"viewportTop":0.0,"width":0.0}],"effects":[{"effectType":"Scene3D::ExponentialFog","name":"Effect","doubleParameters":{"density":0.0015},"stringParameters":{"color":"0;0;0"},"booleanParameters":{}},{"effectType":"Scene3D::HemisphereLight","name":"Effect2","doubleParameters":{"elevation":70.0,"intensity":0.0,"rotation":0.0},"stringParameters":{"groundColor":"127;127;127","skyColor":"255;255;255","top":"Z+"},"booleanParameters":{}},{"effectType":"Scene3D::BrightnessAndContrast","name":"Effect3","doubleParameters":{"brightness":0.0,"contrast":0.005},"stringParameters":{},"booleanParameters":{}}]},{"ambientLightColorB":8908016,"ambientLightColorG":0,"ambientLightColorR":6071712,"camera3DFarPlaneDistance":10000.0,"camera3DFieldOfView":45.0,"camera3DNearPlaneDistance":0.1,"cameraType":"perspective","followBaseLayerCamera":false,"isLightingLayer":false,"isLocked":false,"name":"MobileUI","renderingType":"","visibility":false,"cameras":[],"effects":[]},{"ambientLightColorB":200,"ambientLightColorG":200,"ambientLightColorR":200,"camera3DFarPlaneDistance":10000.0,"camera3DFieldOfView":45.0,"camera3DNearPlaneDistance":0.1,"cameraType":"perspective","followBaseLayerCamera":false,"isLightingLayer":false,"isLocked":false,"name":"Crosshair","renderingType":"","visibility":true,"cameras":[],"effects":[{"effectType":"Scene3D::HemisphereLight","name":"3D Light","doubleParameters":{"elevation":45.0,"intensity":1.0,"rotation":0.0},"stringParameters":{"groundColor":"64;64;64","skyColor":"255;255;255","top":"Y-"},"booleanParameters":{}}]},{"ambientLightColorB":200,"ambientLightColorG":200,"ambientLightColorR":200,"camera3DFarPlaneDistance":10000.0,"camera3DFieldOfView":45.0,"camera3DNearPlaneDistance":3.0,"cameraType":"","followBaseLayerCamera":false,"isLightingLayer":false,"isLocked":false,"name":"UI","renderingType":"","visibility":true,"cameras":[],"effects":[{"effectType":"Scene3D::HemisphereLight","name":"3D Light","doubleParameters":{"elevation":45.0,"intensity":1.0,"rotation":0.0},"stringParameters":{"groundColor":"64;64;64","skyColor":"255;255;255","top":"Y-"},"booleanParameters":{}},{"effectType":"OldFilm","name":"Effect","doubleParameters":{"animationFrequency":30.0,"noise":0.08,"noiseSize":1.0,"scratch":0.5,"scratchDensity":0.3,"scratchWidth":1.0,"sepia":0.3,"vignetting":0.3,"vignettingAlpha":1.0,"vignettingBlur":0.3},"stringParameters":{},"booleanParameters":{}}]}],"behaviorsSharedData":[{"name":"A3L","type":"A3F::A3L"},{"name":"Anchor","type":"AnchorBehavior::AnchorBehavior"},{"name":"Animation","type":"AnimatableCapability::AnimatableBehavior"},{"name":"ButtonFSM","type":"ButtonStates::ButtonFSM"},{"name":"Effect","type":"EffectCapability::EffectBehavior"},{"name":"Flippable","type":"FlippableCapability::FlippableBehavior"},{"name":"Jump3D","type":"Jump3D::Jump3D"},{"name":"Object3D","type":"Scene3D::Base3DBehavior"},{"name":"Opacity","type":"OpacityCapability::OpacityBehavior"},{"name":"Resizable","type":"ResizableCapability::ResizableBehavior"},{"name":"Scale","type":"ScalableCapability::ScalableBehavior"},{"name":"Text","type":"TextContainerCapability::TextContainerBehavior"},{"name":"TopDownWalk","type":"Walk3D::Walk3D"},{"name":"Tween","type":"Tween::TweenBehavior"},{"name":"Walk3D","type":"Walk3D::Walk3D","Cos":0.0,"Sin":0.0}]},{"b":0,"disableInputWhenNotFocused":true,"mangledName":"GameScene","name":"GameScene","r":0,"standardSortMethod":true,"stopSoundsOnStartup":true,"title":"","v":0,"uiSettings":{"grid":true,"gridType":"rectangular","gridWidth":25.0,"gridHeight":25.0,"gridOffsetX":0.0,"gridOffsetY":0.0,"gridColor":10401023.0,"gridAlpha":0.8,"snap":true,"zoomFactor":0.5653158055127043,"windowMask":false},"objectsGroups":[{"name":"Obstacle","objects":[{"name":"Wall"},{"name":"floor_traffic"},{"name":"sewer_wood_obstacle"}]},{"name":"Hide","objects":[{"name":"Camera"},{"name":"InvisibleBarrier"}]},{"name":"Interactions","objects":[{"name":"stairs"}]}],"variables":[{"folded":true,"name":"RoundStart","type":"boolean","value":false},{"folded":true,"name":"Score","type":"number","value":0.0},{"folded":true,"name":"Shots","type":"number","value":0.0},{"folded":true,"name":"Hits","type":"number","value":0.0},{"name":"Debug","type":"boolean","value":false},{"folded":true,"name":"FlashlightVar","type":"structure","children":[{"name":"Buzz","type":"boolean","value":false},{"name":"Toggled","type":"boolean","value":false}]},{"name":"Blink","type":"boolean","value":false},{"name":"random","type":"number","value":0.0},{"name":"FirstCheckpoint","type":"boolean","value":true},{"name":"DeathCheckpoint","type":"boolean","value":true}],"instances":[{"angle":180.0,"customSize":true,"depth":180.0,"height":40.0,"layer":"","name":"Camera","persistentUuid":"b47b3320-fbbb-473d-8e2a-9eb5497c56f0","width":40.0,"x":925.0,"y":310.0,"z":-50.0,"zOrder":2,"numberProperties":[],"stringProperties":[],"initialVariables":[]},{"angle":0.0,"customSize":true,"depth":256.0,"height":100.0,"layer":"","name":"Wall","persistentUuid":"1075df65-af84-472d-a431-47d6f7a5cb63","width":1281.0,"x":-6.0,"y":-100.0,"zOrder":1,"numberProperties":[],"stringProperties":[],"initialVariables":[]},{"angle":270.0,"customSize":true,"depth":256.0,"height":26.0,"layer":"","name":"Wall","persistentUuid":"6fa436f1-8654-477e-8914-8ae7248db7b0","width":291.0,"x":-161.0,"y":41.0,"zOrder":5,"numberProperties":[],"stringProperties":[],"initialVariables":[]},{"angle":180.0,"customSize":true,"depth":256.0,"height":100.0,"layer":"","name":"Wall","persistentUuid":"101b967b-9ac5-49fd-8bb6-a20936bfb4bb","width":1300.0,"x":-50.0,"y":651.0,"zOrder":1,"numberProperties":[],"stringProperties":[],"initialVariables":[]},{"angle":270.0,"customSize":true,"depth":256.0,"height":26.0,"layer":"","name":"Wall","persistentUuid":"39fa8c83-35c4-44af-8a77-b3f16b96fa4e","width":348.0,"x":-189.0,"y":570.0,"zOrder":5,"numberProperties":[],"stringProperties":[],"initialVariables":[]},{"angle":90.0,"customSize":true,"depth":256.0,"height":125.0,"layer":"","name":"Wall","persistentUuid":"6a2b9a40-5f9b-45a7-816d-8eb8ffad2ecf","width":776.0,"x":926.0,"y":300.0,"z":-1.0,"zOrder":5,"numberProperties":[],"stringProperties":[],"initialVariables":[]},{"angle":0.0,"customSize":true,"height":200.0,"layer":"MobileUI","name":"WalkJoystick","persistentUuid":"618a7ba7-ceae-4203-a30b-01bcfdf1176a","width":200.0,"x":150.0,"y":575.0,"zOrder":6,"numberProperties":[],"stringProperties":[],"initialVariables":[]},{"angle":0.0,"customSize":true,"height":200.0,"layer":"MobileUI","name":"LookJoystick","persistentUuid":"069093d9-0a80-4e21-be73-13236f86942c","width":200.0,"x":1130.0,"y":575.0,"zOrder":7,"numberProperties":[],"stringProperties":[],"initialVariables":[]},{"angle":0.0,"customSize":true,"depth":0.0,"height":72.0,"layer":"Crosshair","name":"Crosshair","persistentUuid":"08268386-3245-4332-a1b8-74c8dd933811","width":72.0,"x":806.0,"y":-397.0,"zOrder":9,"numberProperties":[],"stringProperties":[],"initialVariables":[]},{"angle":0.0,"customSize":false,"height":0.0,"keepRatio":true,"layer":"","name":"BlinkingLight","persistentUuid":"b8912f70-2a22-4d0f-9bc8-0b9cee065a8f","rotationY":90.0,"width":0.0,"x":-225.0,"y":250.0,"z":300.0,"zOrder":11,"numberProperties":[],"stringProperties":[],"initialVariables":[]},{"angle":0.0,"customSize":true,"depth":42.0,"height":12.5,"keepRatio":true,"layer":"","name":"Flashlight","persistentUuid":"f0977b55-23b0-4993-9a40-87d0da906f52","width":12.5,"x":733.0,"y":87.0,"zOrder":16,"numberProperties":[],"stringProperties":[],"initialVariables":[]},{"angle":0.0,"customSize":true,"depth":100.0,"height":2875.0,"keepRatio":true,"layer":"","name":"WaterBox","persistentUuid":"437b0aee-1cec-4774-a765-f48329dc5a23","width":7700.0,"x":-7725.0,"y":-1125.0,"z":-80.0,"zOrder":18,"numberProperties":[],"stringProperties":[],"initialVariables":[]},{"angle":90.0,"customSize":false,"height":0.0,"keepRatio":true,"layer":"","name":"Stairs","persistentUuid":"5e27400d-0e94-4e99-88b6-5a95ed5a4e83","width":0.0,"x":776.0,"y":647.0,"z":30.0,"zOrder":19,"numberProperties":[],"stringProperties":[],"initialVariables":[]},{"angle":90.0,"customSize":false,"height":0.0,"keepRatio":true,"layer":"","name":"Stairs","persistentUuid":"acbec18f-7e16-4c81-9409-7090cc99c5da","width":0.0,"x":776.0,"y":647.0,"z":89.0,"zOrder":19,"numberProperties":[],"stringProperties":[],"initialVariables":[]},{"angle":90.0,"customSize":false,"height":0.0,"keepRatio":true,"layer":"","name":"Stairs","persistentUuid":"073b6882-845c-4769-bcfa-3337220baeee","width":0.0,"x":776.0,"y":647.0,"z":207.0,"zOrder":19,"numberProperties":[],"stringProperties":[],"initialVariables":[]},{"angle":90.0,"customSize":false,"height":0.0,"keepRatio":true,"layer":"","name":"Stairs","persistentUuid":"5511f150-8aae-4bda-8e53-8a6081072353","width":0.0,"x":776.0,"y":647.0,"z":148.0,"zOrder":19,"numberProperties":[],"stringProperties":[],"initialVariables":[]},{"angle":0.0,"customSize":true,"depth":100.0,"height":675.0,"keepRatio":true,"layer":"","name":"Floor","persistentUuid":"0b401379-9a83-4c75-af66-3f98f0f4fe3d","width":1300.0,"x":-25.0,"y":0.0,"z":-100.0,"zOrder":20,"numberProperties":[],"stringProperties":[],"initialVariables":[]},{"angle":0.0,"customSize":false,"height":0.0,"keepRatio":true,"layer":"","name":"BlinkingLight","persistentUuid":"e49e8e8b-7d92-4f01-b50f-7f15d6185e83","rotationY":90.0,"width":0.0,"x":725.0,"y":550.0,"z":350.0,"zOrder":11,"numberProperties":[],"stringProperties":[],"initialVariables":[]},{"angle":90.0,"customSize":true,"depth":100.0,"height":1425.0,"keepRatio":true,"layer":"","name":"Roof","persistentUuid":"2a65c14d-8339-4ef7-96b2-d7c5fc06ed5a","width":832.0,"x":276.0,"y":454.0,"z":255.0,"zOrder":24,"numberProperties":[],"stringProperties":[],"initialVariables":[]},{"angle":270.0,"customSize":true,"depth":142.0,"height":209.0,"keepRatio":true,"layer":"","name":"Sewer_entrance","persistentUuid":"f25c21cf-238e-4663-9912-0091fd01574b","rotationX":270.0,"width":375.0,"x":-396.0,"y":-87.0,"z":104.0,"zOrder":25,"numberProperties":[],"stringProperties":[],"initialVariables":[]},{"angle":0.0,"customSize":true,"depth":100.0,"height":250.0,"keepRatio":true,"layer":"","name":"Floor","persistentUuid":"49b34833-a1e7-4eb4-8225-f8e6aa67f4dc","width":25.0,"x":-30.0,"y":175.0,"z":-79.0,"zOrder":20,"numberProperties":[],"stringProperties":[],"initialVariables":[]},{"angle":0.0,"customSize":true,"depth":170.0,"height":100.0,"keepRatio":true,"layer":"","name":"InvisibleBarrier","persistentUuid":"8ade1715-abd3-4cb9-9034-c6288ded397d","width":1800.0,"x":-1825.0,"y":375.0,"zOrder":27,"numberProperties":[],"stringProperties":[],"initialVariables":[]},{"angle":0.0,"customSize":true,"depth":170.0,"height":75.0,"keepRatio":true,"layer":"","name":"InvisibleBarrier","persistentUuid":"9abaebbf-2edf-4e2f-8604-01de173b1933","width":1800.0,"x":-1825.0,"y":150.0,"zOrder":27,"numberProperties":[],"stringProperties":[],"initialVariables":[]},{"angle":0.0,"customSize":false,"height":0.0,"keepRatio":true,"layer":"","name":"InlineSewer","persistentUuid":"1dae010e-32c3-4071-b794-aeb650889c6c","width":0.0,"x":-867.0,"y":159.0,"z":135.0,"zOrder":26,"numberProperties":[],"stringProperties":[],"initialVariables":[]},{"angle":0.0,"customSize":false,"height":0.0,"keepRatio":true,"layer":"","name":"InlineSewer","persistentUuid":"ac4c3b2e-4435-486a-aec3-4b2b458554c4","width":0.0,"x":-1691.0,"y":159.0,"z":135.0,"zOrder":26,"numberProperties":[],"stringProperties":[],"initialVariables":[]},{"angle":0.0,"customSize":true,"depth":614.0,"height":248.30118443316429,"keepRatio":true,"layer":"","name":"sewer_directions","persistentUuid":"ea0a8104-4afa-4d6d-ad34-637eeaeb0b75","rotationX":270.0,"width":614.0000000000002,"x":-1974.0,"y":304.0,"z":135.0,"zOrder":29,"numberProperties":[],"stringProperties":[],"initialVariables":[]},{"angle":90.0,"customSize":true,"depth":450.0,"height":245.2655889145496,"keepRatio":true,"layer":"","name":"sewer_curve","persistentUuid":"f32cd539-3cbc-48bc-94bd-40d0394a50d1","rotationX":270.0,"width":449.9999999999999,"x":-1894.0,"y":-214.0,"z":135.0,"zOrder":30,"numberProperties":[],"stringProperties":[],"initialVariables":[]},{"angle":0.0,"customSize":true,"depth":450.0,"height":245.0,"keepRatio":true,"layer":"","name":"sewer_curve","persistentUuid":"1fcb225a-d039-484a-8206-e59e1b88bc94","rotationX":270.0,"width":470.0,"x":-1891.0,"y":822.0,"z":135.0,"zOrder":30,"numberProperties":[],"stringProperties":[],"initialVariables":[]},{"angle":0.0,"customSize":false,"height":0.0,"keepRatio":true,"layer":"","name":"InlineSewer","persistentUuid":"bca449f3-b52f-4ea8-8b7f-bf51886e05ce","width":0.0,"x":-1700.0,"y":757.0,"z":135.0,"zOrder":26,"numberProperties":[],"stringProperties":[],"initialVariables":[]},{"angle":180.0,"customSize":true,"depth":450.0,"height":245.2655889145496,"keepRatio":true,"layer":"","name":"sewer_curve","persistentUuid":"83def122-cb6a-45ad-b4b0-7c66d32a0a3d","rotationX":270.0,"width":449.9999999999999,"x":-643.0,"y":983.0,"z":135.0,"zOrder":30,"numberProperties":[],"stringProperties":[],"initialVariables":[]},{"angle":270.0,"customSize":true,"depth":450.0,"height":245.2655889145496,"keepRatio":true,"layer":"","name":"sewer_curve","persistentUuid":"dedcb9e4-3ffb-4767-b447-4b23271f6199","rotationX":270.0,"width":449.9999999999999,"x":-645.0,"y":1426.0,"z":135.0,"zOrder":30,"numberProperties":[],"stringProperties":[],"initialVariables":[]},{"angle":0.0,"customSize":false,"height":0.0,"keepRatio":true,"layer":"","name":"InlineSewer","persistentUuid":"4da38249-09c6-4fd2-9a47-a50510e2d298","width":0.0,"x":-1701.0,"y":1361.0,"z":135.0,"zOrder":26,"numberProperties":[],"stringProperties":[],"initialVariables":[]},{"angle":0.0,"customSize":true,"depth":206.0,"height":291.0,"keepRatio":true,"layer":"","name":"InlineSewer","persistentUuid":"6a49cf0a-4451-455b-998a-9f2a09ecef91","width":867.0,"x":-2525.0,"y":1361.0,"z":135.0,"zOrder":26,"numberProperties":[],"stringProperties":[],"initialVariables":[]},{"angle":0.0,"customSize":true,"depth":450.0,"height":245.2655889145496,"keepRatio":true,"layer":"","name":"sewer_curve","persistentUuid":"c8295faa-fa8e-41fe-b3df-a59c9bc0b7ff","rotationX":270.0,"width":449.9999999999999,"x":-2709.0,"y":1428.0,"z":135.0,"zOrder":30,"numberProperties":[],"stringProperties":[],"initialVariables":[]},{"angle":0.0,"customSize":false,"height":0.0,"keepRatio":true,"layer":"","name":"InlineSewer","persistentUuid":"5829f1ce-8189-4ce3-a696-06fed51fa619","width":0.0,"x":-1700.0,"y":-439.0,"z":135.0,"zOrder":26,"numberProperties":[],"stringProperties":[],"initialVariables":[]},{"angle":270.0,"customSize":true,"depth":454.0,"height":247.4457274826789,"keepRatio":true,"layer":"","name":"sewer_curve","persistentUuid":"e2c2f6d9-e534-48da-88de-f34f16183da0","rotationX":270.0,"width":453.99999999999985,"x":-652.0,"y":-375.0,"z":132.0,"zOrder":30,"numberProperties":[],"stringProperties":[],"initialVariables":[]},{"angle":90.0,"customSize":true,"depth":452.0,"height":246.35565819861425,"keepRatio":true,"layer":"","name":"sewer_curve","persistentUuid":"8b6b3cb8-8914-4315-aeca-bb747427dd52","rotationX":270.0,"width":451.99999999999985,"x":-2714.0,"y":-799.0,"z":135.0,"zOrder":30,"numberProperties":[],"stringProperties":[],"initialVariables":[]},{"angle":0.0,"customSize":false,"height":0.0,"keepRatio":true,"layer":"","name":"InlineSewer","persistentUuid":"87b29bb1-9462-4299-a962-e91b1bb1ee62","width":0.0,"x":-3125.0,"y":159.0,"z":135.0,"zOrder":26,"numberProperties":[],"stringProperties":[],"initialVariables":[]},{"angle":180.0,"customSize":true,"depth":452.0,"height":246.35565819861425,"keepRatio":true,"layer":"","name":"sewer_curve","persistentUuid":"706ea5ff-6814-48c0-a4be-f0b183ddf646","rotationX":270.0,"width":451.99999999999985,"x":-2869.0,"y":985.0,"z":133.0,"zOrder":30,"numberProperties":[],"stringProperties":[],"initialVariables":[]},{"angle":0.0,"customSize":true,"depth":452.0,"height":246.35565819861425,"keepRatio":true,"layer":"","name":"sewer_curve","persistentUuid":"5686deb0-2f8f-4fa5-baab-eaa76cd3d359","rotationX":270.0,"width":451.99999999999985,"x":-3312.0,"y":825.0,"z":135.0,"zOrder":30,"numberProperties":[],"stringProperties":[],"initialVariables":[]},{"angle":0.0,"customSize":true,"depth":614.0,"height":248.30118443316429,"keepRatio":true,"layer":"","name":"sewer_directions","persistentUuid":"b082c896-da3c-409a-9e6e-8da44587403b","rotationX":270.0,"width":614.0000000000002,"x":-3393.0,"y":303.0,"z":135.0,"zOrder":29,"numberProperties":[],"stringProperties":[],"initialVariables":[]},{"angle":180.0,"customSize":true,"depth":452.0,"height":246.35565819861425,"keepRatio":true,"layer":"","name":"sewer_curve","persistentUuid":"487baa3d-d495-4cbb-9e9b-e0a01f559a44","rotationX":270.0,"width":451.99999999999985,"x":-650.0,"y":-800.0,"z":133.0,"zOrder":30,"numberProperties":[],"stringProperties":[],"initialVariables":[]},{"angle":0.0,"customSize":false,"height":0.0,"keepRatio":true,"layer":"","name":"InlineSewer","persistentUuid":"1981f4eb-1096-4cbc-96ac-d37577a9cc40","width":0.0,"x":-1700.0,"y":-1024.0,"z":135.0,"zOrder":26,"numberProperties":[],"stringProperties":[],"initialVariables":[]},{"angle":0.0,"customSize":false,"height":0.0,"keepRatio":true,"layer":"","name":"InlineSewer","persistentUuid":"ba7b12e5-9950-4e56-a8d5-05d339ccc901","width":0.0,"x":-2521.0,"y":-1024.0,"z":135.0,"zOrder":26,"numberProperties":[],"stringProperties":[],"initialVariables":[]},{"angle":270.0,"customSize":true,"depth":450.0,"height":245.2655889145496,"keepRatio":true,"layer":"","name":"sewer_curve","persistentUuid":"8afd9366-23b4-4ee3-90b2-e2022870a5ab","rotationX":270.0,"width":449.9999999999999,"x":-2874.0,"y":-360.0,"z":133.0,"zOrder":30,"numberProperties":[],"stringProperties":[],"initialVariables":[]},{"angle":90.0,"customSize":true,"depth":450.0,"height":245.2655889145496,"keepRatio":true,"layer":"","name":"sewer_curve","persistentUuid":"3a3aa435-dd8e-45f8-97b2-510bd2f227c8","rotationX":270.0,"width":449.9999999999999,"x":-3316.0,"y":-200.0,"z":135.0,"zOrder":30,"numberProperties":[],"stringProperties":[],"initialVariables":[]},{"angle":0.0,"customSize":true,"depth":170.0,"height":150.0,"keepRatio":true,"layer":"","name":"InvisibleBarrier","persistentUuid":"573a0d13-2118-46cc-8fce-01d9b8b9abe9","width":25.0,"x":-1850.0,"y":0.0,"zOrder":27,"numberProperties":[],"stringProperties":[],"initialVariables":[]},{"angle":27.0,"customSize":true,"depth":175.0,"height":155.0,"keepRatio":true,"layer":"","name":"InvisibleBarrier","persistentUuid":"ea9532f4-0edb-4019-b34a-948354cd35ab","width":26.0,"x":-1833.0,"y":-128.0,"zOrder":27,"numberProperties":[],"stringProperties":[],"initialVariables":[]},{"angle":0.0,"customSize":true,"depth":170.0,"height":50.0,"keepRatio":true,"layer":"","name":"InvisibleBarrier","persistentUuid":"432cde4b-ed87-4c5a-a859-22fa1ac7b07d","width":1025.0,"x":-1775.0,"y":-175.0,"zOrder":27,"numberProperties":[],"stringProperties":[],"initialVariables":[]},{"angle":320.0,"customSize":true,"depth":75.0,"height":33.0,"keepRatio":true,"layer":"","name":"InvisibleBarrier","persistentUuid":"f14ef0d3-5c42-4da6-b9ca-9dc8de065936","width":422.0,"x":-803.0,"y":-293.0,"zOrder":27,"numberProperties":[],"stringProperties":[],"initialVariables":[]},{"angle":0.0,"customSize":true,"depth":170.0,"height":50.0,"keepRatio":true,"layer":"","name":"InvisibleBarrier","persistentUuid":"63a1da84-601d-47c4-a341-b9b326c91d48","width":1050.0,"x":-1825.0,"y":-475.0,"zOrder":27,"numberProperties":[],"stringProperties":[],"initialVariables":[]},{"angle":40.0,"customSize":true,"depth":422.0,"height":373.0,"keepRatio":true,"layer":"","name":"InvisibleBarrier","persistentUuid":"dcb3d342-2fee-4d80-b542-1bf73604deee","width":62.0,"x":-2024.0,"y":-424.0,"zOrder":27,"numberProperties":[],"stringProperties":[],"initialVariables":[]},{"angle":0.0,"customSize":true,"depth":170.0,"height":250.0,"keepRatio":true,"layer":"","name":"InvisibleBarrier","persistentUuid":"18635be6-c4aa-4afc-a93f-db61ba36656a","width":50.0,"x":-2125.0,"y":-100.0,"zOrder":27,"numberProperties":[],"stringProperties":[],"initialVariables":[]},{"angle":0.0,"customSize":true,"depth":170.0,"height":50.0,"keepRatio":true,"layer":"","name":"InvisibleBarrier","persistentUuid":"ef27d20a-d08a-496a-87da-ae9fe3b84655","width":1175.0,"x":-3275.0,"y":150.0,"zOrder":27,"numberProperties":[],"stringProperties":[],"initialVariables":[]},{"angle":0.0,"customSize":true,"depth":170.0,"height":75.0,"keepRatio":true,"layer":"","name":"InvisibleBarrier","persistentUuid":"693bdb8c-98f0-4ad6-ad15-1ed6f1be1ada","width":1200.0,"x":-3300.0,"y":400.0,"zOrder":27,"numberProperties":[],"stringProperties":[],"initialVariables":[]},{"angle":0.0,"customSize":true,"depth":170.0,"height":275.0,"keepRatio":true,"layer":"","name":"InvisibleBarrier","persistentUuid":"c48eda2e-d25e-49db-9315-59cd2f860a96","width":50.0,"x":-2125.0,"y":425.0,"zOrder":27,"numberProperties":[],"stringProperties":[],"initialVariables":[]},{"angle":332.0,"customSize":true,"depth":245.0,"height":396.0,"keepRatio":true,"layer":"","name":"InvisibleBarrier","persistentUuid":"5f336546-cdaf-4b83-842d-fa3812674194","width":72.0,"x":-2036.0,"y":660.0,"zOrder":27,"numberProperties":[],"stringProperties":[],"initialVariables":[]},{"angle":0.0,"customSize":true,"depth":170.0,"height":50.0,"keepRatio":true,"layer":"","name":"InvisibleBarrier","persistentUuid":"3043cac2-36dc-480b-8b8c-a25907d19b62","width":1075.0,"x":-1800.0,"y":725.0,"zOrder":27,"numberProperties":[],"stringProperties":[],"initialVariables":[]},{"angle":0.0,"customSize":true,"depth":170.0,"height":50.0,"keepRatio":true,"layer":"","name":"InvisibleBarrier","persistentUuid":"0b673193-4f1a-49db-b3f1-bd7ecca6dd6e","width":1075.0,"x":-1875.0,"y":1000.0,"zOrder":27,"numberProperties":[],"stringProperties":[],"initialVariables":[]},{"angle":0.0,"customSize":true,"depth":170.0,"height":50.0,"keepRatio":true,"layer":"","name":"InvisibleBarrier","persistentUuid":"fc32797f-0c95-4891-8698-da5c8696e99a","width":1750.0,"x":-2525.0,"y":1350.0,"zOrder":27,"numberProperties":[],"stringProperties":[],"initialVariables":[]},{"angle":0.0,"customSize":true,"depth":170.0,"height":50.0,"keepRatio":true,"layer":"","name":"InvisibleBarrier","persistentUuid":"9d8965f4-e2b4-4557-b2fc-4b429996e780","width":1825.0,"x":-2600.0,"y":1600.0,"zOrder":27,"numberProperties":[],"stringProperties":[],"initialVariables":[]},{"angle":58.0,"customSize":true,"depth":35.0,"height":10.0,"keepRatio":true,"layer":"","name":"InvisibleBarrier","persistentUuid":"19a44150-1ff4-4d0f-9575-6ec7c70e1602","width":218.0,"x":-597.0,"y":961.0,"zOrder":27,"numberProperties":[],"stringProperties":[],"initialVariables":[]},{"angle":308.0,"customSize":true,"depth":88.0,"height":26.0,"keepRatio":true,"layer":"","name":"InvisibleBarrier","persistentUuid":"908fa403-1736-41b3-9b2a-b274c449a555","width":554.0,"x":-796.0,"y":1461.0,"zOrder":27,"numberProperties":[],"stringProperties":[],"initialVariables":[]},{"angle":90.0,"customSize":true,"depth":170.0,"height":50.0,"keepRatio":true,"layer":"","name":"InvisibleBarrier","persistentUuid":"044f0def-d274-4f6f-acc4-0adc9ff94d98","width":363.0,"x":-606.0,"y":1169.0,"zOrder":27,"numberProperties":[],"stringProperties":[],"initialVariables":[]},{"angle":90.0,"customSize":true,"depth":170.0,"height":50.0,"keepRatio":true,"layer":"","name":"InvisibleBarrier","persistentUuid":"39eb1718-49b3-4789-a107-2fd402a5df83","width":176.0,"x":-788.0,"y":1162.0,"zOrder":27,"numberProperties":[],"stringProperties":[],"initialVariables":[]},{"angle":138.0,"customSize":true,"depth":170.0,"height":50.0,"keepRatio":true,"layer":"","name":"InvisibleBarrier","persistentUuid":"0b3310c3-e947-4ca3-b352-d46f07dfef3c","width":176.0,"x":-853.0,"y":1290.0,"zOrder":27,"numberProperties":[],"stringProperties":[],"initialVariables":[]},{"angle":33.0,"customSize":true,"depth":170.0,"height":50.0,"keepRatio":true,"layer":"","name":"InvisibleBarrier","persistentUuid":"eeeddc57-da69-4ed4-a22d-3afff4dad37b","width":176.0,"x":-850.0,"y":1056.0,"zOrder":27,"numberProperties":[],"stringProperties":[],"initialVariables":[]},{"angle":168.0,"customSize":true,"depth":170.0,"height":50.0,"keepRatio":true,"layer":"","name":"InvisibleBarrier","persistentUuid":"f1edd9d8-1f6c-434e-b2cb-6186a519ee95","width":176.0,"x":-823.0,"y":1598.0,"zOrder":27,"numberProperties":[],"stringProperties":[],"initialVariables":[]},{"angle":0.0,"customSize":true,"depth":170.0,"height":175.0,"keepRatio":true,"layer":"","name":"InvisibleBarrier","persistentUuid":"8a4f5018-075f-423b-9c1b-a1b0d70ad7e4","width":25.0,"x":-1825.0,"y":450.0,"zOrder":27,"numberProperties":[],"stringProperties":[],"initialVariables":[]},{"angle":332.0,"customSize":true,"depth":145.0,"height":149.0,"keepRatio":true,"layer":"","name":"InvisibleBarrier","persistentUuid":"4a9d183a-0a2a-42dc-a02e-41b45619aaf2","width":21.0,"x":-1816.0,"y":605.0,"zOrder":27,"numberProperties":[],"stringProperties":[],"initialVariables":[]},{"angle":31.0,"customSize":true,"depth":35.0,"height":10.0,"keepRatio":true,"layer":"","name":"InvisibleBarrier","persistentUuid":"5eef1d71-1e69-4fe4-b374-9661b6cda833","width":218.0,"x":-730.0,"y":827.0,"zOrder":27,"numberProperties":[],"stringProperties":[],"initialVariables":[]},{"angle":37.0,"customSize":true,"depth":33.0,"height":9.0,"keepRatio":true,"layer":"","name":"InvisibleBarrier","persistentUuid":"488b96a4-748c-4deb-a6a3-62e3b801d95b","width":338.0,"x":-2857.0,"y":1590.0,"zOrder":27,"numberProperties":[],"stringProperties":[],"initialVariables":[]},{"angle":51.0,"customSize":true,"depth":38.0,"height":10.0,"keepRatio":true,"layer":"","name":"InvisibleBarrier","persistentUuid":"ab873296-0c26-477d-824b-7e9ad0b16410","width":384.0,"x":-2967.0,"y":922.0,"zOrder":27,"numberProperties":[],"stringProperties":[],"initialVariables":[]},{"angle":72.0,"customSize":true,"depth":45.0,"height":13.0,"keepRatio":true,"layer":"","name":"InvisibleBarrier","persistentUuid":"5c9896a3-cdeb-4f8f-b870-92d0a861dfd9","width":457.0,"x":-3128.0,"y":1288.0,"zOrder":27,"numberProperties":[],"stringProperties":[],"initialVariables":[]},{"angle":79.0,"customSize":true,"depth":26.0,"height":7.0,"keepRatio":true,"layer":"","name":"InvisibleBarrier","persistentUuid":"73edc761-e063-4b89-aae4-4921c0032a23","width":258.0,"x":-2782.0,"y":1169.0,"zOrder":27,"numberProperties":[],"stringProperties":[],"initialVariables":[]},{"angle":42.0,"customSize":true,"depth":17.0,"height":4.0,"keepRatio":true,"layer":"","name":"InvisibleBarrier","persistentUuid":"0b207624-7fc5-49da-aa67-41ce5ebb7003","width":164.0,"x":-2655.0,"y":1339.0,"zOrder":27,"numberProperties":[],"stringProperties":[],"initialVariables":[]},{"angle":9.0,"customSize":true,"depth":37.0,"height":11.0,"keepRatio":true,"layer":"","name":"InvisibleBarrier","persistentUuid":"ab4e0d40-183f-4c00-8f94-dd2017da2d71","width":379.0,"x":-3328.0,"y":1030.0,"zOrder":27,"numberProperties":[],"stringProperties":[],"initialVariables":[]},{"angle":50.0,"customSize":true,"depth":27.0,"height":8.0,"keepRatio":true,"layer":"","name":"InvisibleBarrier","persistentUuid":"c6ee0727-ee2e-409d-9f2c-3de2c0c3da92","width":273.0,"x":-3532.0,"y":878.0,"zOrder":27,"numberProperties":[],"stringProperties":[],"initialVariables":[]},{"angle":89.0,"customSize":true,"depth":37.0,"height":11.0,"keepRatio":true,"layer":"","name":"InvisibleBarrier","persistentUuid":"b519b8e5-4df4-4e47-bc50-59000d299bda","width":379.0,"x":-3706.0,"y":584.0,"zOrder":27,"numberProperties":[],"stringProperties":[],"initialVariables":[]},{"angle":18.0,"customSize":true,"depth":38.0,"height":10.0,"keepRatio":true,"layer":"","name":"InvisibleBarrier","persistentUuid":"628c774a-72ed-415a-bcb8-72820fe18452","width":384.0,"x":-3231.0,"y":753.0,"zOrder":27,"numberProperties":[],"stringProperties":[],"initialVariables":[]},{"angle":89.0,"customSize":true,"depth":21.0,"height":6.0,"keepRatio":true,"layer":"","name":"InvisibleBarrier","persistentUuid":"c9da9ae0-da2e-4e2e-b45a-97a6963576c0","width":222.0,"x":-3356.0,"y":583.0,"zOrder":27,"numberProperties":[],"stringProperties":[],"initialVariables":[]},{"angle":75.0,"customSize":true,"depth":11.0,"height":4.0,"keepRatio":true,"layer":"","name":"InvisibleBarrier","persistentUuid":"471c4d81-b3cc-4d4a-8cc8-d7a385bd7002","width":117.0,"x":-3000.0,"y":1098.0,"zOrder":27,"numberProperties":[],"stringProperties":[],"initialVariables":[]},{"angle":90.0,"customSize":true,"depth":170.0,"height":50.0,"keepRatio":true,"layer":"","name":"InvisibleBarrier","persistentUuid":"203d2a53-1c26-44f9-88f7-3bcd4e64857d","width":200.0,"x":-3325.0,"y":25.0,"zOrder":27,"numberProperties":[],"stringProperties":[],"initialVariables":[]},{"angle":160.0,"customSize":true,"depth":150.0,"height":44.0,"keepRatio":true,"layer":"","name":"InvisibleBarrier","persistentUuid":"cb2d2cb0-dedf-4110-9287-1818613c2135","width":176.0,"x":-3254.0,"y":-114.0,"zOrder":27,"numberProperties":[],"stringProperties":[],"initialVariables":[]},{"angle":167.0,"customSize":true,"depth":144.0,"height":43.0,"keepRatio":true,"layer":"","name":"InvisibleBarrier","persistentUuid":"43398d4a-80a6-43e1-b9a2-45eb76cdade2","width":170.0,"x":-3097.0,"y":-184.0,"zOrder":27,"numberProperties":[],"stringProperties":[],"initialVariables":[]},{"angle":154.0,"customSize":true,"depth":144.0,"height":43.0,"keepRatio":true,"layer":"","name":"InvisibleBarrier","persistentUuid":"ccdfb428-0b4d-43d4-8abf-89964c561f40","width":170.0,"x":-2948.0,"y":-234.0,"zOrder":27,"numberProperties":[],"stringProperties":[],"initialVariables":[]},{"angle":129.0,"customSize":true,"depth":144.0,"height":43.0,"keepRatio":true,"layer":"","name":"InvisibleBarrier","persistentUuid":"b5523c46-954c-4079-b752-389d938a60d6","width":170.0,"x":-2830.0,"y":-326.0,"zOrder":27,"numberProperties":[],"stringProperties":[],"initialVariables":[]},{"angle":107.0,"customSize":true,"depth":144.0,"height":43.0,"keepRatio":true,"layer":"","name":"InvisibleBarrier","persistentUuid":"3f8e7cb5-9012-48cb-8044-4f93b8c89817","width":170.0,"x":-2755.0,"y":-459.0,"zOrder":27,"numberProperties":[],"stringProperties":[],"initialVariables":[]},{"angle":104.0,"customSize":true,"depth":144.0,"height":43.0,"keepRatio":true,"layer":"","name":"InvisibleBarrier","persistentUuid":"0e70bf54-cfe2-4a25-a78c-7417f40760dc","width":170.0,"x":-2729.0,"y":-609.0,"zOrder":27,"numberProperties":[],"stringProperties":[],"initialVariables":[]},{"angle":146.0,"customSize":true,"depth":99.0,"height":30.0,"keepRatio":true,"layer":"","name":"InvisibleBarrier","persistentUuid":"86a88309-9b2c-4a8c-a095-d038295fab65","width":117.0,"x":-2627.0,"y":-710.0,"zOrder":27,"numberProperties":[],"stringProperties":[],"initialVariables":[]},{"angle":180.0,"customSize":true,"depth":144.0,"height":43.0,"keepRatio":true,"layer":"","name":"InvisibleBarrier","persistentUuid":"127867bc-ea93-4924-8340-0a68c6175868","width":1750.0,"x":-2525.0,"y":-743.0,"zOrder":27,"numberProperties":[],"stringProperties":[],"initialVariables":[]},{"angle":180.0,"customSize":true,"depth":144.0,"height":43.0,"keepRatio":true,"layer":"","name":"InvisibleBarrier","persistentUuid":"472b0fb3-7e16-440f-b04b-5e2e3e7339b6","width":1825.0,"x":-2575.0,"y":-1050.0,"zOrder":27,"numberProperties":[],"stringProperties":[],"initialVariables":[]},{"angle":331.0,"customSize":true,"depth":128.0,"height":37.0,"keepRatio":true,"layer":"","name":"InvisibleBarrier","persistentUuid":"f187fdef-5ea2-4b3f-b42a-d19ecff8ff20","width":150.0,"x":-1900.0,"y":-437.0,"zOrder":27,"numberProperties":[],"stringProperties":[],"initialVariables":[]},{"angle":90.0,"customSize":true,"depth":170.0,"height":50.0,"keepRatio":true,"layer":"","name":"InvisibleBarrier","persistentUuid":"f90b515b-cc8d-472e-95eb-c967cea33bc2","width":200.0,"x":-3625.0,"y":50.0,"zOrder":27,"numberProperties":[],"stringProperties":[],"initialVariables":[]},{"angle":105.0,"customSize":true,"depth":170.0,"height":50.0,"keepRatio":true,"layer":"","name":"InvisibleBarrier","persistentUuid":"663581a2-c193-47ac-ab46-733ee4c3f624","width":200.0,"x":-3600.0,"y":-128.0,"zOrder":27,"numberProperties":[],"stringProperties":[],"initialVariables":[]},{"angle":120.0,"customSize":true,"depth":145.0,"height":43.0,"keepRatio":true,"layer":"","name":"InvisibleBarrier","persistentUuid":"4580cbd4-6dd5-442e-af64-5a0efee476a3","width":170.0,"x":-3527.0,"y":-284.0,"zOrder":27,"numberProperties":[],"stringProperties":[],"initialVariables":[]},{"angle":141.0,"customSize":true,"depth":108.0,"height":32.0,"keepRatio":true,"layer":"","name":"InvisibleBarrier","persistentUuid":"2c9433fe-5cfe-4ace-b0bd-bb4478cea05d","width":127.0,"x":-3398.0,"y":-364.0,"zOrder":27,"numberProperties":[],"stringProperties":[],"initialVariables":[]},{"angle":167.0,"customSize":true,"depth":85.0,"height":25.0,"keepRatio":true,"layer":"","name":"InvisibleBarrier","persistentUuid":"bd6c5d0f-d07a-4b3f-9134-0ad4ba731c06","width":100.0,"x":-3299.0,"y":-418.0,"zOrder":27,"numberProperties":[],"stringProperties":[],"initialVariables":[]},{"angle":173.0,"customSize":true,"depth":170.0,"height":50.0,"keepRatio":true,"layer":"","name":"InvisibleBarrier","persistentUuid":"f0105683-51ef-49b1-8e1f-c46ebe4d2cb1","width":125.0,"x":-3204.0,"y":-461.0,"zOrder":27,"numberProperties":[],"stringProperties":[],"initialVariables":[]},{"angle":164.0,"customSize":true,"depth":170.0,"height":50.0,"keepRatio":true,"layer":"","name":"InvisibleBarrier","persistentUuid":"8a84cd02-b35d-47fb-bbef-6a1ed9a9ac62","width":125.0,"x":-3096.0,"y":-484.0,"zOrder":27,"numberProperties":[],"stringProperties":[],"initialVariables":[]},{"angle":104.0,"customSize":true,"depth":149.0,"height":44.0,"keepRatio":true,"layer":"","name":"InvisibleBarrier","persistentUuid":"3275c9d3-08fe-4b5c-9eb2-5f80965565dc","width":176.0,"x":-3048.0,"y":-556.0,"zOrder":27,"numberProperties":[],"stringProperties":[],"initialVariables":[]},{"angle":109.0,"customSize":true,"depth":147.0,"height":43.0,"keepRatio":true,"layer":"","name":"InvisibleBarrier","persistentUuid":"fb0310cc-f8b6-4c6c-b278-e211ce64eee7","width":173.0,"x":-3002.0,"y":-707.0,"zOrder":27,"numberProperties":[],"stringProperties":[],"initialVariables":[]},{"angle":122.0,"customSize":true,"depth":170.0,"height":50.0,"keepRatio":true,"layer":"","name":"InvisibleBarrier","persistentUuid":"bcb68b25-c514-455f-9357-7f44c549741c","width":150.0,"x":-2939.0,"y":-848.0,"zOrder":27,"numberProperties":[],"stringProperties":[],"initialVariables":[]},{"angle":144.0,"customSize":true,"depth":145.0,"height":43.0,"keepRatio":true,"layer":"","name":"InvisibleBarrier","persistentUuid":"c56fca47-0e1f-42e2-850a-faed5d626c54","width":171.0,"x":-2855.0,"y":-950.0,"zOrder":27,"numberProperties":[],"stringProperties":[],"initialVariables":[]},{"angle":154.0,"customSize":true,"depth":140.0,"height":41.0,"keepRatio":true,"layer":"","name":"InvisibleBarrier","persistentUuid":"34bf3d02-4a2a-4398-924c-7a20d1ca0032","width":164.0,"x":-2724.0,"y":-1016.0,"zOrder":27,"numberProperties":[],"stringProperties":[],"initialVariables":[]},{"angle":301.0,"customSize":true,"depth":28.0,"height":12.0,"keepRatio":true,"layer":"","name":"InvisibleBarrier","persistentUuid":"74f8ddf6-ee33-4ca4-98a1-c7b11cf78866","width":154.0,"x":-522.0,"y":-462.0,"zOrder":27,"numberProperties":[],"stringProperties":[],"initialVariables":[]},{"angle":282.0,"customSize":true,"depth":40.0,"height":18.0,"keepRatio":true,"layer":"","name":"InvisibleBarrier","persistentUuid":"4889d2ab-9ee4-447a-8fc6-fd6b43667543","width":228.0,"x":-550.0,"y":-571.0,"zOrder":27,"numberProperties":[],"stringProperties":[],"initialVariables":[]},{"angle":258.0,"customSize":true,"depth":27.0,"height":12.0,"keepRatio":true,"layer":"","name":"InvisibleBarrier","persistentUuid":"694e3536-25f7-4acf-b6fc-0b936a6db66f","width":153.0,"x":-530.0,"y":-682.0,"zOrder":27,"numberProperties":[],"stringProperties":[],"initialVariables":[]},{"angle":244.0,"customSize":true,"depth":35.0,"height":15.0,"keepRatio":true,"layer":"","name":"InvisibleBarrier","persistentUuid":"4891a946-cdea-4fbc-b37b-6d6c4d77e580","width":196.0,"x":-598.0,"y":-768.0,"zOrder":27,"numberProperties":[],"stringProperties":[],"initialVariables":[]},{"angle":40.0,"customSize":true,"depth":75.0,"height":33.0,"keepRatio":true,"layer":"","name":"InvisibleBarrier","persistentUuid":"f3cdd2b7-1d29-4410-a6ca-df25ee93b91c","width":422.0,"x":-814.0,"y":-918.0,"zOrder":27,"numberProperties":[],"stringProperties":[],"initialVariables":[]},{"angle":0.0,"customSize":true,"depth":170.0,"height":225.0,"keepRatio":true,"layer":"","name":"InvisibleBarrier","persistentUuid":"695ce952-0735-4107-a771-45391424f0f1","width":50.0,"x":-750.0,"y":-700.0,"zOrder":27,"numberProperties":[],"stringProperties":[],"initialVariables":[]},{"angle":320.0,"customSize":true,"depth":48.0,"height":14.0,"keepRatio":true,"layer":"","name":"InvisibleBarrier","persistentUuid":"32180e5a-f6e5-4b84-ac9e-ca943a6993e2","width":140.0,"x":-847.0,"y":-467.0,"zOrder":27,"numberProperties":[],"stringProperties":[],"initialVariables":[]},{"angle":214.0,"customSize":true,"depth":48.0,"height":14.0,"keepRatio":true,"layer":"","name":"InvisibleBarrier","persistentUuid":"e0e0f2f1-8df0-4402-a692-677499ffd7fc","width":140.0,"x":-833.0,"y":-712.0,"zOrder":27,"numberProperties":[],"stringProperties":[],"initialVariables":[]},{"angle":180.0,"customSize":true,"depth":170.0,"height":50.0,"keepRatio":true,"layer":"","name":"InvisibleBarrier","persistentUuid":"688e5da2-367b-4e13-b4dc-5706f769012b","width":175.0,"x":-3700.0,"y":150.0,"zOrder":27,"numberProperties":[],"stringProperties":[],"initialVariables":[]},{"angle":180.0,"customSize":true,"depth":170.0,"height":50.0,"keepRatio":true,"layer":"","name":"InvisibleBarrier","persistentUuid":"f1a19180-5b97-4811-8f4f-8b9022022cc6","width":175.0,"x":-3700.0,"y":400.0,"zOrder":27,"numberProperties":[],"stringProperties":[],"initialVariables":[]},{"angle":180.0,"customSize":true,"depth":180.0,"height":100.0,"keepRatio":true,"layer":"","name":"BlinkingLight","persistentUuid":"e96e74d6-96eb-49e7-9983-72097ab20c65","rotationY":90.0,"width":125.0,"x":-5500.0,"y":250.0,"z":300.0,"zOrder":11,"numberProperties":[],"stringProperties":[],"initialVariables":[]},{"angle":180.0,"customSize":false,"height":0.0,"keepRatio":true,"layer":"","name":"InlineSewer","persistentUuid":"98d4f78c-8835-47b9-a4fc-9afb1e52e8ce","width":0.0,"x":-6570.0,"y":156.0,"z":135.0,"zOrder":26,"numberProperties":[],"stringProperties":[],"initialVariables":[]},{"angle":180.0,"customSize":true,"depth":616.0,"height":249.10998307952642,"keepRatio":true,"layer":"","name":"sewer_directions","persistentUuid":"bd92b76a-204d-429e-8282-7ae9708e600c","rotationX":270.0,"width":616.0000000000002,"x":-5433.0,"y":303.0,"z":135.0,"zOrder":29,"numberProperties":[],"stringProperties":[],"initialVariables":[]},{"angle":270.0,"customSize":true,"depth":450.0,"height":245.2655889145496,"keepRatio":true,"layer":"","name":"sewer_curve","persistentUuid":"95b7c8d0-dfff-4ee9-a177-980edcfcc23b","rotationX":270.0,"width":449.9999999999999,"x":-5513.0,"y":814.0,"z":134.0,"zOrder":30,"numberProperties":[],"stringProperties":[],"initialVariables":[]},{"angle":180.0,"customSize":true,"depth":452.0,"height":246.08888888888888,"keepRatio":true,"layer":"","name":"sewer_curve","persistentUuid":"daf4a310-8089-4503-8b2b-c303a124c0df","rotationX":270.0,"width":472.08888888888887,"x":-5514.0,"y":-223.0,"z":135.0,"zOrder":30,"numberProperties":[],"stringProperties":[],"initialVariables":[]},{"angle":180.0,"customSize":false,"height":0.0,"keepRatio":true,"layer":"","name":"InlineSewer","persistentUuid":"08dff069-e3c1-4e44-ac63-ae1e56ccee5f","width":0.0,"x":-6568.0,"y":-451.0,"z":135.0,"zOrder":26,"numberProperties":[],"stringProperties":[],"initialVariables":[]},{"angle":0.0,"customSize":true,"depth":450.0,"height":245.2655889145496,"keepRatio":true,"layer":"","name":"sewer_curve","persistentUuid":"bf9c5306-4bdf-42ec-b803-0b9c056159ed","rotationX":270.0,"width":449.9999999999999,"x":-6751.0,"y":-384.0,"z":135.0,"zOrder":30,"numberProperties":[],"stringProperties":[],"initialVariables":[]},{"angle":90.0,"customSize":true,"depth":450.0,"height":245.2655889145496,"keepRatio":true,"layer":"","name":"sewer_curve","persistentUuid":"853c9260-3062-4e18-a2f6-0eb0b685f485","rotationX":270.0,"width":449.9999999999999,"x":-6748.0,"y":-819.0,"z":135.0,"zOrder":30,"numberProperties":[],"stringProperties":[],"initialVariables":[]},{"angle":180.0,"customSize":false,"height":0.0,"keepRatio":true,"layer":"","name":"InlineSewer","persistentUuid":"b9634114-1cce-4641-97bc-89494cf2094e","width":0.0,"x":-6562.0,"y":-1045.0,"z":135.0,"zOrder":26,"numberProperties":[],"stringProperties":[],"initialVariables":[]},{"angle":180.0,"customSize":true,"depth":206.0,"height":291.0,"keepRatio":true,"layer":"","name":"InlineSewer","persistentUuid":"4b33093f-7f46-472c-b839-b6ad8d27992f","width":867.0,"x":-5740.0,"y":-1045.0,"z":135.0,"zOrder":26,"numberProperties":[],"stringProperties":[],"initialVariables":[]},{"angle":180.0,"customSize":true,"depth":450.0,"height":245.2655889145496,"keepRatio":true,"layer":"","name":"sewer_curve","persistentUuid":"8711509f-5b38-4647-8057-7826a0d4539c","rotationX":270.0,"width":449.9999999999999,"x":-4692.0,"y":-818.0,"z":134.0,"zOrder":30,"numberProperties":[],"stringProperties":[],"initialVariables":[]},{"angle":180.0,"customSize":false,"height":0.0,"keepRatio":true,"layer":"","name":"InlineSewer","persistentUuid":"fa6bfea4-fd5c-408c-9e04-4a54c434d336","width":0.0,"x":-6567.0,"y":749.0,"z":134.0,"zOrder":26,"numberProperties":[],"stringProperties":[],"initialVariables":[]},{"angle":90.0,"customSize":true,"depth":450.0,"height":245.2655889145496,"keepRatio":true,"layer":"","name":"sewer_curve","persistentUuid":"2e1ba9c1-6452-42d2-a030-59a219aff196","rotationX":270.0,"width":449.9999999999999,"x":-6752.0,"y":975.0,"z":134.0,"zOrder":30,"numberProperties":[],"stringProperties":[],"initialVariables":[]},{"angle":270.0,"customSize":true,"depth":450.0,"height":245.2655889145496,"keepRatio":true,"layer":"","name":"sewer_curve","persistentUuid":"825b4455-6118-4c27-b983-6283015407f1","rotationX":270.0,"width":449.9999999999999,"x":-4686.0,"y":1393.0,"z":135.0,"zOrder":30,"numberProperties":[],"stringProperties":[],"initialVariables":[]},{"angle":180.0,"customSize":false,"height":0.0,"keepRatio":true,"layer":"","name":"InlineSewer","persistentUuid":"d761956f-7108-449a-825d-5d948e87eb46","width":0.0,"x":-5147.0,"y":158.0,"z":135.0,"zOrder":26,"numberProperties":[],"stringProperties":[],"initialVariables":[]},{"angle":0.0,"customSize":true,"depth":450.0,"height":245.2655889145496,"keepRatio":true,"layer":"","name":"sewer_curve","persistentUuid":"1c8dd00b-adfc-4928-9109-d0e94dd96476","rotationX":270.0,"width":449.9999999999999,"x":-4531.0,"y":-373.0,"z":133.0,"zOrder":30,"numberProperties":[],"stringProperties":[],"initialVariables":[]},{"angle":180.0,"customSize":true,"depth":450.0,"height":245.2655889145496,"keepRatio":true,"layer":"","name":"sewer_curve","persistentUuid":"c87f4e10-f2b4-4648-b13a-211ba6b81511","rotationX":270.0,"width":449.9999999999999,"x":-4084.0,"y":-212.0,"z":134.0,"zOrder":30,"numberProperties":[],"stringProperties":[],"initialVariables":[]},{"angle":180.0,"customSize":true,"depth":614.0,"height":248.30118443316429,"keepRatio":true,"layer":"","name":"sewer_directions","persistentUuid":"46363a92-eb62-4b5d-bc84-51e6dcbe9482","rotationX":270.0,"width":614.0000000000002,"x":-4004.0,"y":303.0,"z":135.0,"zOrder":29,"numberProperties":[],"stringProperties":[],"initialVariables":[]},{"angle":0.0,"customSize":true,"depth":450.0,"height":245.2655889145496,"keepRatio":true,"layer":"","name":"sewer_curve","persistentUuid":"a3e8f363-f87e-425c-8c18-0ef42ce224d1","rotationX":270.0,"width":449.9999999999999,"x":-6753.0,"y":1393.0,"z":135.0,"zOrder":30,"numberProperties":[],"stringProperties":[],"initialVariables":[]},{"angle":180.0,"customSize":false,"height":0.0,"keepRatio":true,"layer":"","name":"InlineSewer","persistentUuid":"4ef05a98-174c-4200-b8a3-ab406dfddced","width":0.0,"x":-6564.0,"y":1329.0,"z":135.0,"zOrder":26,"numberProperties":[],"stringProperties":[],"initialVariables":[]},{"angle":180.0,"customSize":false,"height":0.0,"keepRatio":true,"layer":"","name":"InlineSewer","persistentUuid":"e87c928f-841a-4d5d-ba19-36713efec4aa","width":0.0,"x":-5745.0,"y":1329.0,"z":135.0,"zOrder":26,"numberProperties":[],"stringProperties":[],"initialVariables":[]},{"angle":90.0,"customSize":true,"depth":450.0,"height":245.2655889145496,"keepRatio":true,"layer":"","name":"sewer_curve","persistentUuid":"dbd96acd-0778-4d46-a793-219a92881c10","rotationX":270.0,"width":449.9999999999999,"x":-4529.0,"y":979.0,"z":134.0,"zOrder":30,"numberProperties":[],"stringProperties":[],"initialVariables":[]},{"angle":270.0,"customSize":true,"depth":450.0,"height":245.2655889145496,"keepRatio":true,"layer":"","name":"sewer_curve","persistentUuid":"824d7131-27e0-43d1-b34c-fb648d78caaa","rotationX":270.0,"width":449.9999999999999,"x":-4084.0,"y":819.0,"z":135.0,"zOrder":30,"numberProperties":[],"stringProperties":[],"initialVariables":[]},{"angle":180.0,"customSize":true,"depth":170.0,"height":150.0,"keepRatio":true,"layer":"","name":"InvisibleBarrier","persistentUuid":"4196ec40-355b-4032-a70f-64dad6334d94","width":25.0,"x":-5581.0,"y":444.0,"zOrder":27,"numberProperties":[],"stringProperties":[],"initialVariables":[]},{"angle":207.0,"customSize":true,"depth":175.0,"height":155.0,"keepRatio":true,"layer":"","name":"InvisibleBarrier","persistentUuid":"506691a6-92d7-4e78-b212-aebaf3df5c36","width":26.0,"x":-5583.0,"y":564.0,"zOrder":27,"numberProperties":[],"stringProperties":[],"initialVariables":[]},{"angle":180.0,"customSize":true,"depth":170.0,"height":50.0,"keepRatio":true,"layer":"","name":"InvisibleBarrier","persistentUuid":"10bd6fe0-6761-4ed2-b683-b8413ed39ff4","width":1025.0,"x":-6657.0,"y":716.0,"zOrder":27,"numberProperties":[],"stringProperties":[],"initialVariables":[]},{"angle":140.0,"customSize":true,"depth":75.0,"height":33.0,"keepRatio":true,"layer":"","name":"InvisibleBarrier","persistentUuid":"24529292-ff43-4e46-ae63-ee0b1e290b17","width":422.0,"x":-7030.0,"y":854.0,"zOrder":27,"numberProperties":[],"stringProperties":[],"initialVariables":[]},{"angle":180.0,"customSize":true,"depth":170.0,"height":50.0,"keepRatio":true,"layer":"","name":"InvisibleBarrier","persistentUuid":"278bb11b-f23b-4e19-9e2b-3fda0f3700d3","width":1050.0,"x":-6634.0,"y":1015.0,"zOrder":27,"numberProperties":[],"stringProperties":[],"initialVariables":[]},{"angle":220.0,"customSize":true,"depth":422.0,"height":373.0,"keepRatio":true,"layer":"","name":"InvisibleBarrier","persistentUuid":"3b11813c-6d30-48e3-b6e6-0d15a7b53db7","width":62.0,"x":-5445.0,"y":647.0,"zOrder":27,"numberProperties":[],"stringProperties":[],"initialVariables":[]},{"angle":180.0,"customSize":true,"depth":170.0,"height":250.0,"keepRatio":true,"layer":"","name":"InvisibleBarrier","persistentUuid":"79fcd265-1771-40a9-8ef7-35acd3ae402c","width":50.0,"x":-5331.0,"y":445.0,"zOrder":27,"numberProperties":[],"stringProperties":[],"initialVariables":[]},{"angle":180.0,"customSize":true,"depth":170.0,"height":50.0,"keepRatio":true,"layer":"","name":"InvisibleBarrier","persistentUuid":"d0e6d270-5e77-41b3-9da0-b2fc54afb5d2","width":1175.0,"x":-5306.0,"y":399.0,"zOrder":27,"numberProperties":[],"stringProperties":[],"initialVariables":[]},{"angle":180.0,"customSize":true,"depth":170.0,"height":75.0,"keepRatio":true,"layer":"","name":"InvisibleBarrier","persistentUuid":"022fdc51-ca90-41d2-ac76-95bcca6c49f5","width":1200.0,"x":-5304.0,"y":123.0,"zOrder":27,"numberProperties":[],"stringProperties":[],"initialVariables":[]},{"angle":180.0,"customSize":true,"depth":170.0,"height":275.0,"keepRatio":true,"layer":"","name":"InvisibleBarrier","persistentUuid":"a54c6846-409d-413d-aa9b-37cdf348610b","width":50.0,"x":-5328.0,"y":-105.0,"zOrder":27,"numberProperties":[],"stringProperties":[],"initialVariables":[]},{"angle":152.0,"customSize":true,"depth":245.0,"height":396.0,"keepRatio":true,"layer":"","name":"InvisibleBarrier","persistentUuid":"8d597f09-c3dc-46a7-be0e-a237023aef7a","width":72.0,"x":-5424.0,"y":-452.0,"zOrder":27,"numberProperties":[],"stringProperties":[],"initialVariables":[]},{"angle":180.0,"customSize":true,"depth":170.0,"height":50.0,"keepRatio":true,"layer":"","name":"InvisibleBarrier","persistentUuid":"94d8567b-d2e8-472b-b286-3d6cdd864d42","width":1075.0,"x":-6677.0,"y":-185.0,"zOrder":27,"numberProperties":[],"stringProperties":[],"initialVariables":[]},{"angle":180.0,"customSize":true,"depth":170.0,"height":50.0,"keepRatio":true,"layer":"","name":"InvisibleBarrier","persistentUuid":"a0bc1931-eec4-453c-8a97-7d4c48d63344","width":1075.0,"x":-6600.0,"y":-459.0,"zOrder":27,"numberProperties":[],"stringProperties":[],"initialVariables":[]},{"angle":180.0,"customSize":true,"depth":170.0,"height":50.0,"keepRatio":true,"layer":"","name":"InvisibleBarrier","persistentUuid":"8d2422af-df10-47f2-ae5f-711574224289","width":1750.0,"x":-6624.0,"y":-807.0,"zOrder":27,"numberProperties":[],"stringProperties":[],"initialVariables":[]},{"angle":180.0,"customSize":true,"depth":170.0,"height":50.0,"keepRatio":true,"layer":"","name":"InvisibleBarrier","persistentUuid":"9922dccc-58e6-4a39-9ca8-d476e4ccd849","width":1825.0,"x":-6622.0,"y":-1057.0,"zOrder":27,"numberProperties":[],"stringProperties":[],"initialVariables":[]},{"angle":238.0,"customSize":true,"depth":35.0,"height":10.0,"keepRatio":true,"layer":"","name":"InvisibleBarrier","persistentUuid":"3d14bb02-e3e2-43a4-b71a-02bbe4694ecc","width":218.0,"x":-7019.0,"y":-374.0,"zOrder":27,"numberProperties":[],"stringProperties":[],"initialVariables":[]},{"angle":128.0,"customSize":true,"depth":88.0,"height":26.0,"keepRatio":true,"layer":"","name":"InvisibleBarrier","persistentUuid":"dd19bb41-3f5d-4dba-96d9-d505e9d97ee1","width":554.0,"x":-7152.0,"y":-890.0,"zOrder":27,"numberProperties":[],"stringProperties":[],"initialVariables":[]},{"angle":270.0,"customSize":true,"depth":170.0,"height":50.0,"keepRatio":true,"layer":"","name":"InvisibleBarrier","persistentUuid":"dfc334e0-4b40-459f-981f-2fecb19d83d1","width":363.0,"x":-7138.0,"y":-639.0,"zOrder":27,"numberProperties":[],"stringProperties":[],"initialVariables":[]},{"angle":270.0,"customSize":true,"depth":170.0,"height":50.0,"keepRatio":true,"layer":"","name":"InvisibleBarrier","persistentUuid":"898e0b31-700b-4b4f-a1c6-cd09e1e8de69","width":176.0,"x":-6776.0,"y":-612.0,"zOrder":27,"numberProperties":[],"stringProperties":[],"initialVariables":[]},{"angle":318.0,"customSize":true,"depth":170.0,"height":50.0,"keepRatio":true,"layer":"","name":"InvisibleBarrier","persistentUuid":"e4a1a14f-bc88-4de6-aa8f-3a95acb1aaba","width":176.0,"x":-6725.0,"y":-737.0,"zOrder":27,"numberProperties":[],"stringProperties":[],"initialVariables":[]},{"angle":213.0,"customSize":true,"depth":170.0,"height":50.0,"keepRatio":true,"layer":"","name":"InvisibleBarrier","persistentUuid":"604990f2-a15d-4309-9510-632fde9fbe4d","width":176.0,"x":-6727.0,"y":-512.0,"zOrder":27,"numberProperties":[],"stringProperties":[],"initialVariables":[]},{"angle":348.0,"customSize":true,"depth":170.0,"height":50.0,"keepRatio":true,"layer":"","name":"InvisibleBarrier","persistentUuid":"346136e8-f920-4b63-a23f-4ee5ad8af470","width":176.0,"x":-6748.0,"y":-1063.0,"zOrder":27,"numberProperties":[],"stringProperties":[],"initialVariables":[]},{"angle":180.0,"customSize":true,"depth":170.0,"height":175.0,"keepRatio":true,"layer":"","name":"InvisibleBarrier","persistentUuid":"e2b2111f-cc5d-4dce-bf3c-8d96267fa4e1","width":25.0,"x":-5579.0,"y":-6.0,"zOrder":27,"numberProperties":[],"stringProperties":[],"initialVariables":[]},{"angle":152.0,"customSize":true,"depth":145.0,"height":149.0,"keepRatio":true,"layer":"","name":"InvisibleBarrier","persistentUuid":"3eba4ad0-3eed-4816-849e-fd27d0c6ae01","width":21.0,"x":-5599.0,"y":-155.0,"zOrder":27,"numberProperties":[],"stringProperties":[],"initialVariables":[]},{"angle":211.0,"customSize":true,"depth":35.0,"height":10.0,"keepRatio":true,"layer":"","name":"InvisibleBarrier","persistentUuid":"bfefa645-d719-4d69-97f4-1bf48c19652e","width":218.0,"x":-6894.0,"y":-248.0,"zOrder":27,"numberProperties":[],"stringProperties":[],"initialVariables":[]},{"angle":217.0,"customSize":true,"depth":33.0,"height":9.0,"keepRatio":true,"layer":"","name":"InvisibleBarrier","persistentUuid":"53f8c3b0-3f9b-4856-86fd-57b63cc08513","width":338.0,"x":-4861.0,"y":-985.0,"zOrder":27,"numberProperties":[],"stringProperties":[],"initialVariables":[]},{"angle":231.0,"customSize":true,"depth":38.0,"height":10.0,"keepRatio":true,"layer":"","name":"InvisibleBarrier","persistentUuid":"a992a093-348d-4f2d-8f42-7e8a348719e9","width":384.0,"x":-4810.0,"y":-336.0,"zOrder":27,"numberProperties":[],"stringProperties":[],"initialVariables":[]},{"angle":252.0,"customSize":true,"depth":37.0,"height":11.0,"keepRatio":true,"layer":"","name":"InvisibleBarrier","persistentUuid":"10bd839d-258c-44a4-ac2a-ed053aa33cb6","width":379.0,"x":-4703.0,"y":-736.0,"zOrder":27,"numberProperties":[],"stringProperties":[],"initialVariables":[]},{"angle":259.0,"customSize":true,"depth":26.0,"height":7.0,"keepRatio":true,"layer":"","name":"InvisibleBarrier","persistentUuid":"c38156d0-64c6-4472-8625-5a86253a2799","width":258.0,"x":-4858.0,"y":-583.0,"zOrder":27,"numberProperties":[],"stringProperties":[],"initialVariables":[]},{"angle":222.0,"customSize":true,"depth":17.0,"height":4.0,"keepRatio":true,"layer":"","name":"InvisibleBarrier","persistentUuid":"5858cb6c-dfe4-47a5-b407-74c9f8b9fbdb","width":164.0,"x":-4913.0,"y":-731.0,"zOrder":27,"numberProperties":[],"stringProperties":[],"initialVariables":[]},{"angle":189.0,"customSize":true,"depth":37.0,"height":11.0,"keepRatio":true,"layer":"","name":"InvisibleBarrier","persistentUuid":"1df4ac2b-0f8c-49b8-88e4-14ca90c4dbf3","width":379.0,"x":-4454.0,"y":-435.0,"zOrder":27,"numberProperties":[],"stringProperties":[],"initialVariables":[]},{"angle":230.0,"customSize":true,"depth":27.0,"height":8.0,"keepRatio":true,"layer":"","name":"InvisibleBarrier","persistentUuid":"914682c2-6fd3-4ad3-80c1-e4d24e0cb1a7","width":273.0,"x":-4125.0,"y":-280.0,"zOrder":27,"numberProperties":[],"stringProperties":[],"initialVariables":[]},{"angle":269.0,"customSize":true,"depth":37.0,"height":11.0,"keepRatio":true,"layer":"","name":"InvisibleBarrier","persistentUuid":"b7622907-b275-4d51-ad56-1f56381c9d60","width":379.0,"x":-4057.0,"y":18.0,"zOrder":27,"numberProperties":[],"stringProperties":[],"initialVariables":[]},{"angle":198.0,"customSize":true,"depth":38.0,"height":10.0,"keepRatio":true,"layer":"","name":"InvisibleBarrier","persistentUuid":"ba8761c2-1ae5-4520-ba0a-f7403d9d487c","width":384.0,"x":-4536.0,"y":-159.0,"zOrder":27,"numberProperties":[],"stringProperties":[],"initialVariables":[]},{"angle":269.0,"customSize":true,"depth":21.0,"height":6.0,"keepRatio":true,"layer":"","name":"InvisibleBarrier","persistentUuid":"aed50b87-9958-4605-b4d3-53d05287ede9","width":222.0,"x":-4250.0,"y":21.0,"zOrder":27,"numberProperties":[],"stringProperties":[],"initialVariables":[]},{"angle":255.0,"customSize":true,"depth":11.0,"height":4.0,"keepRatio":true,"layer":"","name":"InvisibleBarrier","persistentUuid":"0ce6f3b8-bdba-4c33-8cc9-f513cea6d82b","width":117.0,"x":-4518.0,"y":-504.0,"zOrder":27,"numberProperties":[],"stringProperties":[],"initialVariables":[]},{"angle":270.0,"customSize":true,"depth":170.0,"height":50.0,"keepRatio":true,"layer":"","name":"InvisibleBarrier","persistentUuid":"459a3700-07ed-439b-8a5c-b90547472a53","width":200.0,"x":-4281.0,"y":527.0,"zOrder":27,"numberProperties":[],"stringProperties":[],"initialVariables":[]},{"angle":340.0,"customSize":true,"depth":150.0,"height":44.0,"keepRatio":true,"layer":"","name":"InvisibleBarrier","persistentUuid":"2623f413-ca97-4d93-b872-ca649c5a4d1e","width":176.0,"x":-4333.0,"y":683.0,"zOrder":27,"numberProperties":[],"stringProperties":[],"initialVariables":[]},{"angle":347.0,"customSize":true,"depth":144.0,"height":43.0,"keepRatio":true,"layer":"","name":"InvisibleBarrier","persistentUuid":"43f2fbd2-b3fa-4905-ad70-786c1c3b3a2e","width":170.0,"x":-4477.0,"y":758.0,"zOrder":27,"numberProperties":[],"stringProperties":[],"initialVariables":[]},{"angle":334.0,"customSize":true,"depth":144.0,"height":43.0,"keepRatio":true,"layer":"","name":"InvisibleBarrier","persistentUuid":"13bc5f83-464a-48c5-96ef-9e530550b8cb","width":170.0,"x":-4627.0,"y":807.0,"zOrder":27,"numberProperties":[],"stringProperties":[],"initialVariables":[]},{"angle":309.0,"customSize":true,"depth":144.0,"height":43.0,"keepRatio":true,"layer":"","name":"InvisibleBarrier","persistentUuid":"39a3650c-326e-4ed7-89b6-f879d25d2eab","width":170.0,"x":-4753.0,"y":881.0,"zOrder":27,"numberProperties":[],"stringProperties":[],"initialVariables":[]},{"angle":287.0,"customSize":true,"depth":144.0,"height":43.0,"keepRatio":true,"layer":"","name":"InvisibleBarrier","persistentUuid":"f1ea3713-9989-438a-a962-48b24c8ffe68","width":170.0,"x":-4829.0,"y":1030.0,"zOrder":27,"numberProperties":[],"stringProperties":[],"initialVariables":[]},{"angle":284.0,"customSize":true,"depth":144.0,"height":43.0,"keepRatio":true,"layer":"","name":"InvisibleBarrier","persistentUuid":"537caa91-2180-4515-b231-4c1eaf12722a","width":170.0,"x":-4855.0,"y":1181.0,"zOrder":27,"numberProperties":[],"stringProperties":[],"initialVariables":[]},{"angle":326.0,"customSize":true,"depth":99.0,"height":30.0,"keepRatio":true,"layer":"","name":"InvisibleBarrier","persistentUuid":"5afdeda8-8e5d-40b5-8054-24c7ea2f1f7f","width":117.0,"x":-4902.0,"y":1293.0,"zOrder":27,"numberProperties":[],"stringProperties":[],"initialVariables":[]},{"angle":0.0,"customSize":true,"depth":144.0,"height":43.0,"keepRatio":true,"layer":"","name":"InvisibleBarrier","persistentUuid":"ca39742b-c8d8-405e-a943-6431102f080f","width":1750.0,"x":-6635.0,"y":1300.0,"zOrder":27,"numberProperties":[],"stringProperties":[],"initialVariables":[]},{"angle":0.0,"customSize":true,"depth":144.0,"height":43.0,"keepRatio":true,"layer":"","name":"InvisibleBarrier","persistentUuid":"2123e071-f87d-4740-894f-424611718e1a","width":1825.0,"x":-6662.0,"y":1600.0,"zOrder":27,"numberProperties":[],"stringProperties":[],"initialVariables":[]},{"angle":151.0,"customSize":true,"depth":128.0,"height":37.0,"keepRatio":true,"layer":"","name":"InvisibleBarrier","persistentUuid":"7a4f6813-1cec-4087-a5e4-12b836b0dd45","width":150.0,"x":-5659.0,"y":1007.0,"zOrder":27,"numberProperties":[],"stringProperties":[],"initialVariables":[]},{"angle":270.0,"customSize":true,"depth":170.0,"height":50.0,"keepRatio":true,"layer":"","name":"InvisibleBarrier","persistentUuid":"305fb1bd-a236-4fa3-ab2c-b2ac8dff7494","width":200.0,"x":-3981.0,"y":504.0,"zOrder":27,"numberProperties":[],"stringProperties":[],"initialVariables":[]},{"angle":285.0,"customSize":true,"depth":170.0,"height":50.0,"keepRatio":true,"layer":"","name":"InvisibleBarrier","persistentUuid":"fb7d27d6-ec93-47a2-8266-18fadd67e411","width":200.0,"x":-4007.0,"y":678.0,"zOrder":27,"numberProperties":[],"stringProperties":[],"initialVariables":[]},{"angle":300.0,"customSize":true,"depth":145.0,"height":43.0,"keepRatio":true,"layer":"","name":"InvisibleBarrier","persistentUuid":"6a738e27-4771-4934-94cd-a7904c67db6c","width":170.0,"x":-4053.0,"y":859.0,"zOrder":27,"numberProperties":[],"stringProperties":[],"initialVariables":[]},{"angle":321.0,"customSize":true,"depth":108.0,"height":32.0,"keepRatio":true,"layer":"","name":"InvisibleBarrier","persistentUuid":"de69f3ea-c017-46b4-802f-b3adc8a0388e","width":127.0,"x":-4135.0,"y":945.0,"zOrder":27,"numberProperties":[],"stringProperties":[],"initialVariables":[]},{"angle":347.0,"customSize":true,"depth":85.0,"height":25.0,"keepRatio":true,"layer":"","name":"InvisibleBarrier","persistentUuid":"6e186817-c0b1-422b-8df0-ee222dce27ab","width":100.0,"x":-4209.0,"y":1002.0,"zOrder":27,"numberProperties":[],"stringProperties":[],"initialVariables":[]},{"angle":353.0,"customSize":true,"depth":170.0,"height":50.0,"keepRatio":true,"layer":"","name":"InvisibleBarrier","persistentUuid":"b28da834-1516-4326-b136-c80db09b0ac6","width":125.0,"x":-4334.0,"y":1026.0,"zOrder":27,"numberProperties":[],"stringProperties":[],"initialVariables":[]},{"angle":344.0,"customSize":true,"depth":170.0,"height":50.0,"keepRatio":true,"layer":"","name":"InvisibleBarrier","persistentUuid":"acdaf962-9b02-4086-8edf-3f42755262cf","width":125.0,"x":-4434.0,"y":1051.0,"zOrder":27,"numberProperties":[],"stringProperties":[],"initialVariables":[]},{"angle":284.0,"customSize":true,"depth":149.0,"height":44.0,"keepRatio":true,"layer":"","name":"InvisibleBarrier","persistentUuid":"53534452-82df-4634-82db-5aa2bda195af","width":176.0,"x":-4536.0,"y":1106.0,"zOrder":27,"numberProperties":[],"stringProperties":[],"initialVariables":[]},{"angle":289.0,"customSize":true,"depth":147.0,"height":43.0,"keepRatio":true,"layer":"","name":"InvisibleBarrier","persistentUuid":"c6d8446f-8b4b-4753-b340-1e95df3c2dd2","width":173.0,"x":-4584.0,"y":1282.0,"zOrder":27,"numberProperties":[],"stringProperties":[],"initialVariables":[]},{"angle":302.0,"customSize":true,"depth":170.0,"height":50.0,"keepRatio":true,"layer":"","name":"InvisibleBarrier","persistentUuid":"3c9a23b5-2d39-4265-9484-e47b3270c42a","width":150.0,"x":-4611.0,"y":1400.0,"zOrder":27,"numberProperties":[],"stringProperties":[],"initialVariables":[]},{"angle":324.0,"customSize":true,"depth":145.0,"height":43.0,"keepRatio":true,"layer":"","name":"InvisibleBarrier","persistentUuid":"35141068-8d5c-4cae-aa89-20b1ebf0b9c3","width":171.0,"x":-4732.0,"y":1506.0,"zOrder":27,"numberProperties":[],"stringProperties":[],"initialVariables":[]},{"angle":334.0,"customSize":true,"depth":140.0,"height":41.0,"keepRatio":true,"layer":"","name":"InvisibleBarrier","persistentUuid":"3bef7189-7208-4b03-a71a-07629243391b","width":164.0,"x":-4850.0,"y":1582.0,"zOrder":27,"numberProperties":[],"stringProperties":[],"initialVariables":[]},{"angle":121.0,"customSize":true,"depth":28.0,"height":12.0,"keepRatio":true,"layer":"","name":"InvisibleBarrier","persistentUuid":"f8b50b3d-4c08-4ea7-9e82-5bb522b741ae","width":154.0,"x":-7038.0,"y":1049.0,"zOrder":27,"numberProperties":[],"stringProperties":[],"initialVariables":[]},{"angle":102.0,"customSize":true,"depth":40.0,"height":18.0,"keepRatio":true,"layer":"","name":"InvisibleBarrier","persistentUuid":"729085dd-44a8-43b7-a973-a2949e781cfc","width":228.0,"x":-7088.0,"y":1143.0,"zOrder":27,"numberProperties":[],"stringProperties":[],"initialVariables":[]},{"angle":78.0,"customSize":true,"depth":27.0,"height":12.0,"keepRatio":true,"layer":"","name":"InvisibleBarrier","persistentUuid":"fcf79263-e1b7-48de-95e2-94da4ef3953a","width":153.0,"x":-7039.0,"y":1274.0,"zOrder":27,"numberProperties":[],"stringProperties":[],"initialVariables":[]},{"angle":64.0,"customSize":true,"depth":35.0,"height":15.0,"keepRatio":true,"layer":"","name":"InvisibleBarrier","persistentUuid":"f930c1a4-e698-4425-857b-edbaf0dfff0b","width":196.0,"x":-7006.0,"y":1347.0,"zOrder":27,"numberProperties":[],"stringProperties":[],"initialVariables":[]},{"angle":220.0,"customSize":true,"depth":75.0,"height":33.0,"keepRatio":true,"layer":"","name":"InvisibleBarrier","persistentUuid":"bd5fa6ea-a865-4f11-9fc6-e220adda7560","width":422.0,"x":-7009.0,"y":1479.0,"zOrder":27,"numberProperties":[],"stringProperties":[],"initialVariables":[]},{"angle":180.0,"customSize":true,"depth":170.0,"height":225.0,"keepRatio":true,"layer":"","name":"InvisibleBarrier","persistentUuid":"8ffafccb-4496-437b-bee7-34bf6b08230c","width":50.0,"x":-6709.0,"y":1063.0,"zOrder":27,"numberProperties":[],"stringProperties":[],"initialVariables":[]},{"angle":140.0,"customSize":true,"depth":48.0,"height":14.0,"keepRatio":true,"layer":"","name":"InvisibleBarrier","persistentUuid":"a41a5584-4af0-4f10-af47-0d120d207fff","width":140.0,"x":-6699.0,"y":1049.0,"zOrder":27,"numberProperties":[],"stringProperties":[],"initialVariables":[]},{"angle":34.0,"customSize":true,"depth":48.0,"height":14.0,"keepRatio":true,"layer":"","name":"InvisibleBarrier","persistentUuid":"7fb07a4d-3f14-4e9a-96b6-f66a5b7baf1f","width":140.0,"x":-6700.0,"y":1299.0,"zOrder":27,"numberProperties":[],"stringProperties":[],"initialVariables":[]},{"angle":0.0,"customSize":true,"depth":170.0,"height":50.0,"keepRatio":true,"layer":"","name":"InvisibleBarrier","persistentUuid":"d48908e7-b1ae-49c3-aa63-7c62e9590f3c","width":175.0,"x":-3880.0,"y":404.0,"zOrder":27,"numberProperties":[],"stringProperties":[],"initialVariables":[]},{"angle":0.0,"customSize":true,"depth":170.0,"height":50.0,"keepRatio":true,"layer":"","name":"InvisibleBarrier","persistentUuid":"988c3517-7bd5-49a7-ae01-90f6c7f256c1","width":175.0,"x":-3879.0,"y":154.0,"zOrder":27,"numberProperties":[],"stringProperties":[],"initialVariables":[]},{"angle":180.0,"customSize":true,"depth":170.0,"height":50.0,"keepRatio":true,"layer":"","name":"InvisibleBarrier","persistentUuid":"3a40470c-afc2-4051-80e2-24050087c8b4","width":1925.0,"x":-7425.0,"y":425.0,"zOrder":27,"numberProperties":[],"stringProperties":[],"initialVariables":[]},{"angle":180.0,"customSize":true,"depth":170.0,"height":50.0,"keepRatio":true,"layer":"","name":"InvisibleBarrier","persistentUuid":"500e4c82-8db4-4fbb-ac00-50ed207b9b01","width":1925.0,"x":-7425.0,"y":125.0,"zOrder":27,"numberProperties":[],"stringProperties":[],"initialVariables":[]},{"angle":180.0,"customSize":true,"depth":180.0,"height":100.0,"keepRatio":true,"layer":"","name":"BlinkingLight","persistentUuid":"8f13089c-b5b5-4e21-bc3e-713c2a6629ec","rotationY":90.0,"width":250.0,"x":-3800.0,"y":250.0,"z":300.0,"zOrder":11,"numberProperties":[],"stringProperties":[],"initialVariables":[]},{"angle":180.0,"customSize":true,"depth":180.0,"height":100.0,"keepRatio":true,"layer":"","name":"BlinkingLight","persistentUuid":"b239d31a-7218-4703-97c3-ad76a1fae2f2","rotationY":90.0,"width":150.0,"x":-2050.0,"y":250.0,"z":300.0,"zOrder":11,"numberProperties":[],"stringProperties":[],"initialVariables":[]},{"angle":0.0,"customSize":true,"depth":110.0,"height":110.0,"keepRatio":true,"layer":"","name":"RoofProp","persistentUuid":"b2187964-7757-4f84-9d4f-23588d3a1a7d","width":110.0,"x":778.0,"y":630.0,"z":254.0,"zOrder":31,"numberProperties":[],"stringProperties":[],"initialVariables":[]},{"angle":90.0,"customSize":true,"depth":100.0,"height":751.0,"keepRatio":true,"layer":"","name":"Roof","persistentUuid":"a1d612c7-9cc2-40f1-831c-076d0814ed4a","width":76.0,"x":312.0,"y":1244.5,"z":255.0,"zOrder":24,"numberProperties":[],"stringProperties":[],"initialVariables":[]},{"angle":90.0,"customSize":true,"depth":100.0,"height":525.0,"keepRatio":true,"layer":"","name":"Roof","persistentUuid":"d7a3df14-dd1b-42be-b467-d162910d23ff","width":76.0,"x":1050.0,"y":1357.5,"z":255.0,"zOrder":24,"numberProperties":[],"stringProperties":[],"initialVariables":[]},{"angle":110.0,"customSize":false,"height":0.0,"keepRatio":true,"layer":"","name":"sewer_wood_obstacle","persistentUuid":"9a6fe64b-b04f-470f-97f4-1d252f2f94b9","rotationX":270.0,"width":0.0,"x":53.0,"y":183.0,"z":30.0,"zOrder":32,"numberProperties":[],"stringProperties":[],"initialVariables":[]},{"angle":110.0,"customSize":false,"height":0.0,"keepRatio":true,"layer":"","name":"floor_debris01","persistentUuid":"e2adeca1-455e-47c2-9902-404cdaf683b6","rotationX":270.0,"width":0.0,"x":71.0,"y":102.0,"z":5.0,"zOrder":33,"numberProperties":[],"stringProperties":[],"initialVariables":[]},{"angle":133.0,"customSize":false,"height":0.0,"keepRatio":true,"layer":"","name":"floor_debris01","persistentUuid":"b5af18c1-a944-4d2d-ac92-29744ef71e78","rotationX":270.0,"width":0.0,"x":188.0,"y":64.0,"z":5.0,"zOrder":33,"numberProperties":[],"stringProperties":[],"initialVariables":[]},{"angle":251.0,"customSize":true,"depth":49.0,"height":58.0,"keepRatio":true,"layer":"","name":"floor_traffic","persistentUuid":"c95b15dd-b129-4a2c-a56e-f50ef6ea9ac7","rotationX":270.0,"width":42.0,"x":316.0,"y":46.0,"z":30.0,"zOrder":34,"numberProperties":[],"stringProperties":[],"initialVariables":[]},{"angle":313.0,"customSize":false,"height":0.0,"keepRatio":true,"layer":"","name":"floor_garbage02","persistentUuid":"1e55f87e-e6e9-4503-b61a-1007119b3c24","rotationX":270.0,"width":0.0,"x":1163.0,"y":89.0,"z":5.0,"zOrder":35,"numberProperties":[],"stringProperties":[],"initialVariables":[]},{"angle":133.0,"customSize":false,"height":0.0,"keepRatio":true,"layer":"","name":"floor_debris01","persistentUuid":"b40060cc-afec-4cc1-854f-adba5856582f","rotationX":270.0,"width":0.0,"x":1037.0,"y":136.0,"z":5.0,"zOrder":33,"numberProperties":[],"stringProperties":[],"initialVariables":[]},{"angle":39.0,"customSize":false,"height":0.0,"keepRatio":true,"layer":"","name":"floor_trash","persistentUuid":"10ffc592-ff0b-4380-a1dc-2422b154052e","rotationX":270.0,"width":0.0,"x":645.0,"y":609.0,"z":10.0,"zOrder":36,"numberProperties":[],"stringProperties":[],"initialVariables":[]},{"angle":39.0,"customSize":false,"height":0.0,"keepRatio":true,"layer":"","name":"floor_trash","persistentUuid":"1ae0d432-5389-4008-8874-cbd4aa0bdde6","rotationX":270.0,"width":0.0,"x":1145.0,"y":614.0,"z":10.0,"zOrder":36,"numberProperties":[],"stringProperties":[],"initialVariables":[]},{"angle":354.0,"customSize":false,"height":0.0,"keepRatio":true,"layer":"","name":"floor_garbage02","persistentUuid":"d1e24ea4-757a-4a4b-ac7f-24ad8bd0435e","rotationX":270.0,"width":0.0,"x":99.0,"y":585.0,"z":5.0,"zOrder":35,"numberProperties":[],"stringProperties":[],"initialVariables":[]},{"angle":251.0,"customSize":true,"depth":49.0,"height":58.0,"keepRatio":true,"layer":"","name":"floor_traffic","persistentUuid":"6d0ba778-35b0-46a6-818b-44f01f05a864","rotationX":270.0,"width":42.0,"x":941.0,"y":621.0,"z":30.0,"zOrder":34,"numberProperties":[],"stringProperties":[],"initialVariables":[]},{"angle":36.0,"customSize":false,"height":0.0,"keepRatio":true,"layer":"","name":"floor_debris02","persistentUuid":"dfc18648-a8ef-4fad-9ec1-8ac281262237","rotationX":270.0,"width":0.0,"x":1158.0,"y":369.0,"z":5.0,"zOrder":37,"numberProperties":[],"stringProperties":[],"initialVariables":[]},{"angle":36.0,"customSize":false,"height":0.0,"keepRatio":true,"layer":"","name":"floor_debris02","persistentUuid":"4949d737-3571-4c53-bbe8-10b457549f13","rotationX":270.0,"width":0.0,"x":517.0,"y":306.0,"z":5.0,"zOrder":37,"numberProperties":[],"stringProperties":[],"initialVariables":[]},{"angle":90.0,"customSize":true,"depth":1.0,"height":315.0,"keepRatio":true,"layer":"","locked":true,"name":"sewer_entrance","persistentUuid":"8ed7733e-8c12-408a-85f1-7620554fe3d1","rotationX":270.0,"rotationY":-2.0,"sealed":true,"width":276.0,"x":-21.0,"y":306.0,"z":101.0,"zOrder":38,"numberProperties":[],"stringProperties":[],"initialVariables":[]},{"angle":33.0,"customSize":false,"height":0.0,"keepRatio":true,"layer":"","name":"sewer_wood_obstacle","persistentUuid":"9ab9d113-e625-4f63-b965-ecb5f7afd0bc","rotationX":270.0,"width":0.0,"x":60.0,"y":429.0,"z":30.0,"zOrder":32,"numberProperties":[],"stringProperties":[],"initialVariables":[]},{"angle":0.0,"customSize":true,"depth":1.0,"height":900.0,"keepRatio":true,"layer":"UI","locked":true,"name":"vingette_effect","persistentUuid":"601ee705-fb3d-4abb-b2e6-0a6dd3baf135","sealed":true,"width":1375.0,"x":0.0,"y":0.0,"zOrder":39,"numberProperties":[],"stringProperties":[],"initialVariables":[]},{"angle":0.0,"customSize":false,"height":0.0,"keepRatio":true,"layer":"","name":"blinkUI","persistentUuid":"f772bad6-e5e4-4ea6-ba85-afc0c1cc1278","width":0.0,"x":1775.0,"y":275.0,"zOrder":42,"numberProperties":[],"stringProperties":[],"initialVariables":[]},{"angle":0.0,"customSize":true,"depth":1.0,"height":975.0,"keepRatio":true,"layer":"UI","name":"blinkUI","persistentUuid":"06f2cf97-bebb-4731-8f3d-bc4b83c9b916","width":1600.0,"x":-150.0,"y":-1150.0,"zOrder":43,"numberProperties":[],"stringProperties":[],"initialVariables":[]},{"angle":0.0,"customSize":true,"depth":100.0,"height":450.0,"keepRatio":true,"layer":"","name":"Teleporter","persistentUuid":"901d77c0-114d-463f-8647-c4d65c9540ec","width":25.0,"x":-5925.0,"y":75.0,"zOrder":40,"numberProperties":[],"stringProperties":[],"initialVariables":[]},{"angle":180.0,"customSize":true,"depth":33.0,"height":246.0,"keepRatio":true,"layer":"","name":"stairs","persistentUuid":"1988dfa4-ce84-488b-a8f5-42c6a21e0550","rotationX":270.0,"width":43.0,"x":778.0,"y":659.0,"z":146.0,"zOrder":50,"numberProperties":[],"stringProperties":[],"initialVariables":[]},{"angle":0.0,"customSize":false,"height":0.0,"keepRatio":true,"layer":"","name":"roof_light","persistentUuid":"5778a651-979c-4c06-bde9-8958bf1bd9f6","rotationX":270.0,"width":0.0,"x":-150.0,"y":297.0,"z":250.0,"zOrder":51,"numberProperties":[],"stringProperties":[],"initialVariables":[]},{"angle":0.0,"customSize":false,"height":56.0,"keepRatio":true,"layer":"","name":"roof_light","persistentUuid":"5552a1ff-2005-435f-b71f-9064d9aefec6","rotationX":270.0,"width":225.0,"x":-1985.0,"y":303.0,"z":250.0,"zOrder":51,"numberProperties":[],"stringProperties":[],"initialVariables":[]},{"angle":0.0,"customSize":false,"height":56.0,"keepRatio":true,"layer":"","name":"roof_light","persistentUuid":"1b38face-3015-4401-a045-740938327ad0","rotationX":270.0,"width":225.0,"x":-3725.0,"y":303.0,"z":250.0,"zOrder":51,"numberProperties":[],"stringProperties":[],"initialVariables":[]},{"angle":0.0,"customSize":false,"height":56.0,"keepRatio":true,"layer":"","name":"roof_light","persistentUuid":"fb4db458-7172-4ee1-bb36-294a95df05c3","rotationX":270.0,"width":225.0,"x":-5460.0,"y":303.0,"z":250.0,"zOrder":51,"numberProperties":[],"stringProperties":[],"initialVariables":[]},{"angle":0.0,"customSize":false,"height":56.0,"keepRatio":true,"layer":"","name":"roof_light","persistentUuid":"79948b6c-a5aa-4d0e-92c9-dd0124cf1cb4","rotationX":270.0,"width":225.0,"x":-3635.0,"y":2020.0,"z":250.0,"zOrder":51,"numberProperties":[],"stringProperties":[],"initialVariables":[]},{"angle":0.0,"customSize":false,"height":56.0,"keepRatio":true,"layer":"","name":"roof_light","persistentUuid":"6ed00986-c851-4f10-8d39-d072c35c76d9","rotationX":270.0,"width":225.0,"x":-535.0,"y":2020.0,"z":250.0,"zOrder":51,"numberProperties":[],"stringProperties":[],"initialVariables":[]},{"angle":0.0,"customSize":true,"depth":67.0,"height":179.0,"keepRatio":true,"layer":"","name":"Orc","persistentUuid":"bb2d7e14-10bc-4f29-aea9-bbbdb9138e99","rotationX":270.0,"width":187.0,"x":1619.0,"y":340.0,"z":110.0,"zOrder":53,"numberProperties":[],"stringProperties":[],"initialVariables":[]},{"angle":110.0,"customSize":false,"height":0.0,"keepRatio":true,"layer":"","name":"sewer_wood_obstacle","persistentUuid":"b4f57cd5-295a-46f8-8a2c-180f3162e236","rotationX":270.0,"width":0.0,"x":-7325.0,"y":249.0,"z":40.0,"zOrder":32,"numberProperties":[],"stringProperties":[],"initialVariables":[]},{"angle":81.0,"customSize":false,"height":0.0,"keepRatio":true,"layer":"","name":"sewer_wood_obstacle","persistentUuid":"5ec9ec18-d6b5-44ee-b286-1b619fd3685d","rotationX":270.0,"width":0.0,"x":-7325.0,"y":356.0,"z":40.0,"zOrder":32,"numberProperties":[],"stringProperties":[],"initialVariables":[]},{"angle":0.0,"customSize":true,"depth":100.0,"height":475.0,"keepRatio":true,"layer":"","name":"Checkpoint01","persistentUuid":"29f470c5-6fc1-450a-ac0a-1018181559ff","width":50.0,"x":-6250.0,"y":75.0,"zOrder":54,"numberProperties":[],"stringProperties":[],"initialVariables":[]},{"angle":180.0,"customSize":false,"height":0.0,"keepRatio":true,"layer":"","name":"InlineSewer","persistentUuid":"94b391e2-05f8-418a-a1c4-ee24595107f9","width":0.0,"x":-7383.0,"y":156.0,"z":135.0,"zOrder":26,"numberProperties":[],"stringProperties":[],"initialVariables":[]},{"angle":0.0,"customSize":false,"height":0.0,"keepRatio":true,"layer":"Tutorial","name":"Tutorial01","opacity":153,"persistentUuid":"5d748082-e4d3-482a-ac00-d383684eefac","width":0.0,"x":36.0,"y":652.0,"zOrder":56,"numberProperties":[],"stringProperties":[],"initialVariables":[]}],"objects":[{"assetStoreId":"","name":"InlineSewer","type":"InlineSewer::InlineSewer","variables":[],"effects":[],"behaviors":[],"content":{}},{"assetStoreId":"","name":"Wall","type":"Scene3D::Cube3DObject","variables":[],"effects":[],"behaviors":[],"content":{"width":100.0,"height":100.0,"depth":100.0,"enableTextureTransparency":false,"facesOrientation":"Z","frontFaceResourceName":"CorridorWalls.png","backFaceResourceName":"CorridorWalls.png","backFaceUpThroughWhichAxisRotation":"X","leftFaceResourceName":"CorridorWalls.png","rightFaceResourceName":"CorridorWalls.png","topFaceResourceName":"CorridorWalls.png","bottomFaceResourceName":"CorridorWalls.png","frontFaceVisible":true,"backFaceVisible":true,"leftFaceVisible":true,"rightFaceVisible":true,"topFaceVisible":true,"bottomFaceVisible":true,"frontFaceResourceRepeat":true,"backFaceResourceRepeat":true,"leftFaceResourceRepeat":true,"rightFaceResourceRepeat":true,"topFaceResourceRepeat":true,"bottomFaceResourceRepeat":true,"materialType":"StandardWithoutMetalness"}},{"assetStoreId":"","name":"Camera","type":"Scene3D::Cube3DObject","variables":[],"effects":[],"behaviors":[{"name":"Jump3D","type":"Jump3D::Jump3D","Object3D":"Object3D","JumpHeight":0.0,"Time":150.00000000011648,"Duration":150.00000000011648,"MaxFallingSpeed":700.0,"Gravity":1000.0,"JumpSpeed":600.0,"JumpSustainTime":0.2,"State":"","CurrentJumpSpeed":0.19999992847454,"CurrentFallSpeed":0.19999992847454,"PreviousJumpSpeed":0.19999992847454,"PreviousFallSpeed":0.19999992847454,"HasPressedJumpKey":false,"ShouldStopAtZero":true},{"name":"TopDownWalk","type":"Walk3D::Walk3D","RotationSpeedMax":180.0,"RotationAcceleration":720.0,"RotationDeceleration":720.0,"TranslationSpeedMax":250.0,"TranslationAcceleration":1600.0,"TranslationDeceleration":1600.0,"ShouldNormalizeTranslation":true,"CurrentRotationSpeed":0.0,"PreviousRotationSpeed":0.0,"CurrentForwardSpeed":0.0,"CurrentSidewaysSpeed":0.0,"PreviousForwardSpeed":0.0,"PreviousSidewaysSpeed":0.0,"HasPressedTurnLeft":false,"HasPressedTurnRight":false,"HasPressedTurnLeftLast":false,"HadPressedTurnLeft":false,"HadPressedTurnRight":false,"HasPressedMoveForward":false,"HasPressedMoveBackward":false,"HadPressedMoveForward":false,"HadPressedMoveBackward":false,"HasPressedMoveBackwardLast":false,"HasPressedMoveLeft":false,"HasPressedMoveRight":false,"HadPressedMoveLeft":false,"HadPressedMoveRight":false,"HasPressedMoveLeftLast":false}],"content":{"width":100.0,"height":100.0,"depth":180.0,"enableTextureTransparency":false,"facesOrientation":"Y","frontFaceResourceName":"Camera.png","backFaceResourceName":"","backFaceUpThroughWhichAxisRotation":"X","leftFaceResourceName":"","rightFaceResourceName":"","topFaceResourceName":"","bottomFaceResourceName":"","frontFaceVisible":true,"backFaceVisible":false,"leftFaceVisible":false,"rightFaceVisible":false,"topFaceVisible":false,"bottomFaceVisible":false,"frontFaceResourceRepeat":false,"backFaceResourceRepeat":false,"leftFaceResourceRepeat":false,"rightFaceResourceRepeat":false,"topFaceResourceRepeat":false,"bottomFaceResourceRepeat":false}},{"assetStoreId":"9be1b0d0d5a1afad4537db989ea5e3a4a4564dfd123630a9bf61330a73803c63","name":"WalkJoystick","type":"SpriteMultitouchJoystick::SpriteMultitouchJoystick","variables":[],"effects":[],"behaviors":[],"content":{},"childrenContent":{"Border":{"adaptCollisionMaskAutomatically":false,"updateIfNotVisible":false,"animations":[{"name":"Idle","useMultipleDirections":false,"directions":[{"looping":false,"timeBetweenFrames":0.08,"sprites":[{"hasCustomCollisionMask":false,"image":"Shaded dark joystick border.png","points":[],"originPoint":{"name":"origine","x":0.0,"y":0.0},"centerPoint":{"automatic":true,"name":"centre","x":0.0,"y":0.0},"customCollisionMask":[]}]}]}]},"Thumb":{"adaptCollisionMaskAutomatically":false,"updateIfNotVisible":false,"animations":[{"name":"Idle","useMultipleDirections":false,"directions":[{"looping":false,"timeBetweenFrames":0.08,"sprites":[{"hasCustomCollisionMask":false,"image":"Shaded dark joystick thumb.png","points":[],"originPoint":{"name":"origine","x":0.0,"y":0.0},"centerPoint":{"automatic":true,"name":"centre","x":0.0,"y":0.0},"customCollisionMask":[]}]}]}]}}},{"assetStoreId":"9be1b0d0d5a1afad4537db989ea5e3a4a4564dfd123630a9bf61330a73803c63","name":"LookJoystick","type":"SpriteMultitouchJoystick::SpriteMultitouchJoystick","variables":[],"effects":[],"behaviors":[{"name":"Anchor","type":"AnchorBehavior::AnchorBehavior","bottomEdgeAnchor":0.0,"leftEdgeAnchor":0.0,"relativeToOriginalWindowSize":true,"rightEdgeAnchor":2.0,"topEdgeAnchor":0.0,"useLegacyBottomAndRightAnchors":false}],"content":{"ControllerIdentifier":2.0,"JoystickIdentifier":"Secondary"},"childrenContent":{"Border":{"adaptCollisionMaskAutomatically":false,"updateIfNotVisible":false,"animations":[{"name":"Idle","useMultipleDirections":false,"directions":[{"looping":false,"timeBetweenFrames":0.08,"sprites":[{"hasCustomCollisionMask":false,"image":"Shaded dark joystick border.png","points":[],"originPoint":{"name":"origine","x":0.0,"y":0.0},"centerPoint":{"automatic":true,"name":"centre","x":0.0,"y":0.0},"customCollisionMask":[]}]}]}]},"Thumb":{"adaptCollisionMaskAutomatically":false,"updateIfNotVisible":false,"animations":[{"name":"Idle","useMultipleDirections":false,"directions":[{"looping":false,"timeBetweenFrames":0.08,"sprites":[{"hasCustomCollisionMask":false,"image":"Shaded dark joystick thumb.png","points":[],"originPoint":{"name":"origine","x":0.0,"y":0.0},"centerPoint":{"automatic":true,"name":"centre","x":0.0,"y":0.0},"customCollisionMask":[]}]}]}]}}},{"adaptCollisionMaskAutomatically":false,"assetStoreId":"","name":"Crosshair","type":"Sprite","updateIfNotVisible":false,"variables":[],"effects":[],"behaviors":[],"animations":[{"name":"Interact","useMultipleDirections":false,"directions":[{"looping":false,"metadata":"{\"pskl\":{}}","timeBetweenFrames":0.08,"sprites":[{"hasCustomCollisionMask":false,"image":"hand-cursor.png","points":[],"originPoint":{"name":"origine","x":32.0,"y":32.0},"centerPoint":{"automatic":true,"name":"centre","x":0.0,"y":0.0},"customCollisionMask":[]}]}]},{"name":"Stairs","useMultipleDirections":false,"directions":[{"looping":false,"metadata":"{\"pskl\":{}}","timeBetweenFrames":0.08,"sprites":[{"hasCustomCollisionMask":false,"image":"Stairs","points":[],"originPoint":{"name":"origine","x":32.0,"y":32.0},"centerPoint":{"automatic":true,"name":"centre","x":0.0,"y":0.0},"customCollisionMask":[]}]}]}]},{"assetStoreId":"","name":"BlinkingLight","type":"Scene3D::Cube3DObject","variables":[],"effects":[],"behaviors":[{"name":"A3L","type":"A3F::A3L","Capability3d":"Object3D","Type":"Spot Light","Color":"255;255;255","Intensity":1.0,"Distance":0.0,"SpotAngle":45.0,"SpotPenumbra":0.5,"CastShadow":false,"ShadowMapSize":"512px","ShadowRange":256.0,"ShadowDepthBias":0.0,"ShadowNormalBias":0.0,"LightHelper":false,"ShadowHelper":false}],"content":{"width":100.0,"height":100.0,"depth":180.0,"enableTextureTransparency":true,"facesOrientation":"Y","frontFaceResourceName":"Flashlight_Front","backFaceResourceName":"","backFaceUpThroughWhichAxisRotation":"X","leftFaceResourceName":"","rightFaceResourceName":"Flashlight_Front","topFaceResourceName":"","bottomFaceResourceName":"","frontFaceVisible":false,"backFaceVisible":false,"leftFaceVisible":false,"rightFaceVisible":false,"topFaceVisible":false,"bottomFaceVisible":false,"frontFaceResourceRepeat":false,"backFaceResourceRepeat":false,"leftFaceResourceRepeat":false,"rightFaceResourceRepeat":false,"topFaceResourceRepeat":false,"bottomFaceResourceRepeat":false}},{"assetStoreId":"ae38399c26ba63498c27ca42e0b1f5d42c029914b48e39fabb07d253d44230be","name":"Player","type":"Scene3D::Model3DObject","variables":[],"effects":[],"behaviors":[{"name":"Walk3D","type":"Walk3D::Walk3D","RotationSpeedMax":180.0,"RotationAcceleration":720.0,"RotationDeceleration":720.0,"TranslationSpeedMax":200.0,"TranslationAcceleration":1600.0,"TranslationDeceleration":1600.0,"CurrentRotationSpeed":0.0,"PreviousRotationSpeed":0.0,"CurrentForwardSpeed":0.0,"CurrentSidewaysSpeed":0.0,"PreviousForwardSpeed":0.0,"PreviousSidewaysSpeed":0.0,"HasPressedTurnLeft":false,"HasPressedTurnRight":false,"HasPressedTurnLeftLast":false,"HadPressedTurnLeft":false,"HadPressedTurnRight":false,"HasPressedMoveForward":false,"HasPressedMoveBackward":false,"HadPressedMoveForward":false,"HadPressedMoveBackward":false,"HasPressedMoveBackwardLast":false,"HasPressedMoveLeft":false,"HasPressedMoveRight":false,"HadPressedMoveLeft":false,"HadPressedMoveRight":false,"HasPressedMoveLeftLast":false,"TargetedForwardSpeed":0.0,"TargetedSidewaysSpeed":0.0,"TargetedRotationSpeed":0.0}],"content":{"centerLocation":"ObjectCenter","depth":143.0,"height":143.0,"keepAspectRatio":true,"materialType":"StandardWithoutMetalness","modelResourceName":"Male Casual 2.glb","originLocation":"ModelOrigin","rotationX":90.0,"rotationY":0.0,"rotationZ":90.0,"width":143.0,"animations":[{"loop":true,"name":"Idle","source":"Idle"},{"loop":true,"name":"Walk","source":"Walk"},{"loop":true,"name":"Run","source":"Run"},{"loop":false,"name":"Death","source":"Death"},{"loop":false,"name":"GunShoot","source":"Gun_Shoot"},{"loop":false,"name":"HitRecieve2","source":"HitRecieve_2"},{"loop":false,"name":"HitRecieve","source":"HitRecieve"},{"loop":true,"name":"IdleGun","source":"Idle_Gun"},{"loop":true,"name":"IdleGunPointing","source":"Idle_Gun_Pointing"},{"loop":false,"name":"IdleGunShoot","source":"Idle_Gun_Shoot"},{"loop":true,"name":"IdleNeutral","source":"Idle_Neutral"},{"loop":true,"name":"IdleSword","source":"Idle_Sword"},{"loop":false,"name":"Interact","source":"Interact"},{"loop":false,"name":"KickLeft","source":"Kick_Left"},{"loop":false,"name":"KickRight","source":"Kick_Right"},{"loop":false,"name":"PunchLeft","source":"Punch_Left"},{"loop":false,"name":"PunchRight","source":"Punch_Right"},{"loop":false,"name":"Roll","source":"Roll"},{"loop":true,"name":"RunBack","source":"Run_Back"},{"loop":true,"name":"RunLeft","source":"Run_Left"},{"loop":true,"name":"RunRight","source":"Run_Right"},{"loop":false,"name":"RunShoot","source":"Run_Shoot"},{"loop":false,"name":"SwordSlash","source":"Sword_Slash"},{"loop":false,"name":"Wave","source":"Wave"}]}},{"assetStoreId":"","bold":false,"italic":false,"name":"Debug01","smoothed":true,"type":"TextObject::Text","underlined":false,"variables":[],"effects":[],"behaviors":[],"string":"F - flashlight","font":"aberatn.ttf","textAlignment":"left","characterSize":40.0,"color":{"b":255,"g":255,"r":255},"content":{"bold":false,"isOutlineEnabled":false,"isShadowEnabled":true,"italic":false,"outlineColor":"255;255;255","outlineThickness":2.0,"shadowAngle":90.0,"shadowBlurRadius":2.0,"shadowColor":"0;0;0","shadowDistance":4.0,"shadowOpacity":127.0,"smoothed":true,"underlined":false,"text":"F - flashlight","font":"aberatn.ttf","textAlignment":"left","verticalTextAlignment":"top","characterSize":40.0,"color":"255;255;255"}},{"assetStoreId":"","bold":false,"italic":false,"name":"Debug02","smoothed":true,"type":"TextObject::Text","underlined":false,"variables":[],"effects":[],"behaviors":[],"string":"Flashlight","font":"","textAlignment":"left","characterSize":30.0,"color":{"b":2,"g":2,"r":179},"content":{"bold":false,"isOutlineEnabled":false,"isShadowEnabled":true,"italic":false,"outlineColor":"255;255;255","outlineThickness":2.0,"shadowAngle":90.0,"shadowBlurRadius":2.0,"shadowColor":"0;0;0","shadowDistance":4.0,"shadowOpacity":127.0,"smoothed":true,"underlined":false,"text":"Flashlight","font":"","textAlignment":"left","verticalTextAlignment":"top","characterSize":30.0,"color":"179;2;2"}},{"assetStoreId":"","name":"Flashlight","type":"Scene3D::Model3DObject","variables":[],"effects":[],"behaviors":[{"name":"A3L","type":"A3F::A3L","Capability3d":"Object3D","Type":"Spot Light","Color":"255;255;255","Intensity":1.0,"Distance":0.0,"SpotAngle":45.0,"SpotPenumbra":0.5,"CastShadow":false,"ShadowMapSize":"512px","ShadowRange":256.0,"ShadowDepthBias":0.0,"ShadowNormalBias":0.0,"LightHelper":false,"ShadowHelper":false}],"content":{"centerLocation":"ObjectCenter","depth":100.0,"height":100.0,"keepAspectRatio":true,"materialType":"StandardWithoutMetalness","modelResourceName":"flaslightglb.glb","originLocation":"ObjectCenter","rotationX":0.0,"rotationY":0.0,"rotationZ":0.0,"width":100.0,"animations":[]}},{"assetStoreId":"","name":"WaterBox","type":"Scene3D::Cube3DObject","variables":[],"effects":[],"behaviors":[],"content":{"width":100.0,"height":100.0,"depth":100.0,"enableTextureTransparency":false,"facesOrientation":"Y","frontFaceResourceName":"Water.png","backFaceResourceName":"","backFaceUpThroughWhichAxisRotation":"X","leftFaceResourceName":"","rightFaceResourceName":"","topFaceResourceName":"","bottomFaceResourceName":"","frontFaceVisible":true,"backFaceVisible":false,"leftFaceVisible":false,"rightFaceVisible":false,"topFaceVisible":false,"bottomFaceVisible":false,"frontFaceResourceRepeat":true,"backFaceResourceRepeat":false,"leftFaceResourceRepeat":false,"rightFaceResourceRepeat":false,"topFaceResourceRepeat":false,"bottomFaceResourceRepeat":false,"materialType":"StandardWithoutMetalness"}},{"assetStoreId":"","name":"Floor","type":"Scene3D::Cube3DObject","variables":[],"effects":[],"behaviors":[],"content":{"width":100.0,"height":100.0,"depth":100.0,"enableTextureTransparency":false,"facesOrientation":"Y","frontFaceResourceName":"Floor.png","backFaceResourceName":"assets\\Floor.png","backFaceUpThroughWhichAxisRotation":"X","leftFaceResourceName":"assets\\Floor.png","rightFaceResourceName":"assets\\Floor.png","topFaceResourceName":"assets\\Floor.png","bottomFaceResourceName":"assets\\Floor.png","frontFaceVisible":true,"backFaceVisible":true,"leftFaceVisible":true,"rightFaceVisible":true,"topFaceVisible":true,"bottomFaceVisible":true,"frontFaceResourceRepeat":true,"backFaceResourceRepeat":true,"leftFaceResourceRepeat":true,"rightFaceResourceRepeat":true,"topFaceResourceRepeat":true,"bottomFaceResourceRepeat":true,"materialType":"StandardWithoutMetalness"}},{"assetStoreId":"","name":"sewer_curve","type":"Scene3D::Model3DObject","variables":[],"effects":[],"behaviors":[],"content":{"centerLocation":"ObjectCenter","depth":100.0,"height":100.0,"keepAspectRatio":true,"materialType":"StandardWithoutMetalness","modelResourceName":"curve-sewer.glb","originLocation":"ObjectCenter","rotationX":0.0,"rotationY":0.0,"rotationZ":0.0,"width":100.0,"animations":[]}},{"assetStoreId":"","name":"Roof","type":"Scene3D::Cube3DObject","variables":[],"effects":[],"behaviors":[],"content":{"width":100.0,"height":100.0,"depth":100.0,"enableTextureTransparency":false,"facesOrientation":"Y","frontFaceResourceName":"assets\\Floor.png","backFaceResourceName":"CorridorRoof.png2","backFaceUpThroughWhichAxisRotation":"X","leftFaceResourceName":"assets\\Floor.png","rightFaceResourceName":"assets\\Floor.png","topFaceResourceName":"assets\\Floor.png","bottomFaceResourceName":"assets\\Floor.png","frontFaceVisible":false,"backFaceVisible":true,"leftFaceVisible":false,"rightFaceVisible":false,"topFaceVisible":false,"bottomFaceVisible":false,"frontFaceResourceRepeat":false,"backFaceResourceRepeat":true,"leftFaceResourceRepeat":false,"rightFaceResourceRepeat":false,"topFaceResourceRepeat":false,"bottomFaceResourceRepeat":false,"materialType":"StandardWithoutMetalness"}},{"assetStoreId":"","name":"Sewer_front","type":"Scene3D::Model3DObject","variables":[],"effects":[],"behaviors":[],"content":{"centerLocation":"ObjectCenter","depth":100.0,"height":100.0,"keepAspectRatio":true,"materialType":"StandardWithoutMetalness","modelResourceName":"sewer-front.glb","originLocation":"ObjectCenter","rotationX":0.0,"rotationY":0.0,"rotationZ":0.0,"width":100.0,"animations":[]}},{"assetStoreId":"","name":"InvisibleBarrier","type":"Scene3D::Cube3DObject","variables":[],"effects":[],"behaviors":[{"name":"PathfindingObstacle","type":"PathfindingBehavior::PathfindingObstacleBehavior","cost":2.0,"impassable":true}],"content":{"width":100.0,"height":100.0,"depth":100.0,"enableTextureTransparency":false,"facesOrientation":"Y","frontFaceResourceName":"InvisibleBarrier_Front","backFaceResourceName":"InvisibleBarrier_Front","backFaceUpThroughWhichAxisRotation":"X","leftFaceResourceName":"InvisibleBarrier_Front","rightFaceResourceName":"InvisibleBarrier_Front","topFaceResourceName":"InvisibleBarrier_Front","bottomFaceResourceName":"InvisibleBarrier_Front","frontFaceVisible":true,"backFaceVisible":true,"leftFaceVisible":true,"rightFaceVisible":true,"topFaceVisible":true,"bottomFaceVisible":true,"frontFaceResourceRepeat":true,"backFaceResourceRepeat":true,"leftFaceResourceRepeat":true,"rightFaceResourceRepeat":true,"topFaceResourceRepeat":true,"bottomFaceResourceRepeat":true,"materialType":"StandardWithoutMetalness"}},{"assetStoreId":"","name":"sewer_directions","type":"Scene3D::Model3DObject","variables":[],"effects":[],"behaviors":[],"content":{"centerLocation":"ObjectCenter","depth":100.0,"height":100.0,"keepAspectRatio":true,"materialType":"StandardWithoutMetalness","modelResourceName":"directions.glb","originLocation":"ObjectCenter","rotationX":0.0,"rotationY":0.0,"rotationZ":0.0,"width":100.0,"animations":[]}},{"assetStoreId":"35a842ae8b8a0d42e3e76e091d0dbc39f82bee9a4803f99fd86ab686e40e8c2f","name":"RoofProp","type":"Scene3D::Model3DObject","variables":[],"effects":[],"behaviors":[],"content":{"centerLocation":"ObjectCenter","depth":60.0,"height":60.0,"keepAspectRatio":false,"materialType":"StandardWithoutMetalness","modelResourceName":"roof-prop.glb","originLocation":"ObjectCenter","rotationX":90.0,"rotationY":0.0,"rotationZ":90.0,"width":60.0,"animations":[]}},{"assetStoreId":"","name":"sewer_wood_obstacle","type":"Scene3D::Model3DObject","variables":[],"effects":[],"behaviors":[],"content":{"centerLocation":"ObjectCenter","depth":100.0,"height":100.0,"keepAspectRatio":true,"materialType":"StandardWithoutMetalness","modelResourceName":"sewerobstacle.glb","originLocation":"ObjectCenter","rotationX":0.0,"rotationY":0.0,"rotationZ":0.0,"width":100.0,"animations":[]}},{"assetStoreId":"","name":"floor_debris01","type":"Scene3D::Model3DObject","variables":[],"effects":[],"behaviors":[],"content":{"centerLocation":"ObjectCenter","depth":100.0,"height":100.0,"keepAspectRatio":true,"materialType":"StandardWithoutMetalness","modelResourceName":"debris01.glb","originLocation":"ObjectCenter","rotationX":0.0,"rotationY":0.0,"rotationZ":0.0,"width":100.0,"animations":[]}},{"assetStoreId":"","name":"floor_traffic","type":"Scene3D::Model3DObject","variables":[],"effects":[],"behaviors":[],"content":{"centerLocation":"ObjectCenter","depth":100.0,"height":100.0,"keepAspectRatio":true,"materialType":"StandardWithoutMetalness","modelResourceName":"trafficcone.glb","originLocation":"ObjectCenter","rotationX":0.0,"rotationY":0.0,"rotationZ":0.0,"width":100.0,"animations":[]}},{"assetStoreId":"","name":"floor_garbage02","type":"Scene3D::Model3DObject","variables":[],"effects":[],"behaviors":[],"content":{"centerLocation":"ObjectCenter","depth":100.0,"height":100.0,"keepAspectRatio":true,"materialType":"StandardWithoutMetalness","modelResourceName":"woodpallet.glb","originLocation":"ObjectCenter","rotationX":0.0,"rotationY":0.0,"rotationZ":0.0,"width":100.0,"animations":[]}},{"assetStoreId":"","name":"floor_trash","type":"Scene3D::Model3DObject","variables":[],"effects":[],"behaviors":[],"content":{"centerLocation":"ObjectCenter","depth":100.0,"height":100.0,"keepAspectRatio":true,"materialType":"StandardWithoutMetalness","modelResourceName":"floorgarbage.glb","originLocation":"ObjectCenter","rotationX":0.0,"rotationY":0.0,"rotationZ":0.0,"width":100.0,"animations":[]}},{"assetStoreId":"","name":"floor_debris02","type":"Scene3D::Model3DObject","variables":[],"effects":[],"behaviors":[],"content":{"centerLocation":"ObjectCenter","depth":100.0,"height":100.0,"keepAspectRatio":true,"materialType":"StandardWithoutMetalness","modelResourceName":"debris02.glb","originLocation":"ObjectCenter","rotationX":0.0,"rotationY":0.0,"rotationZ":0.0,"width":100.0,"animations":[]}},{"assetStoreId":"","name":"sewer_entrance","type":"Scene3D::Model3DObject","variables":[],"effects":[],"behaviors":[],"content":{"centerLocation":"ObjectCenter","depth":100.0,"height":100.0,"keepAspectRatio":true,"materialType":"StandardWithoutMetalness","modelResourceName":"entrance-mesh-new.glb","originLocation":"ObjectCenter","rotationX":0.0,"rotationY":0.0,"rotationZ":0.0,"width":100.0,"animations":[]}},{"adaptCollisionMaskAutomatically":true,"assetStoreId":"","name":"vingette_effect","type":"Sprite","updateIfNotVisible":false,"variables":[],"effects":[],"behaviors":[],"animations":[{"name":"","useMultipleDirections":false,"directions":[{"looping":false,"timeBetweenFrames":0.08,"sprites":[{"hasCustomCollisionMask":true,"image":"Vingette.png","points":[],"originPoint":{"name":"origine","x":0.0,"y":0.0},"centerPoint":{"automatic":true,"name":"centre","x":0.0,"y":0.0},"customCollisionMask":[[{"x":0.0,"y":0.0},{"x":384.0,"y":0.0},{"x":384.0,"y":216.0},{"x":0.0,"y":216.0}]]}]}]}]},{"assetStoreId":"","name":"Teleporter","type":"Scene3D::Cube3DObject","variables":[],"effects":[],"behaviors":[],"content":{"width":100.0,"height":100.0,"depth":100.0,"enableTextureTransparency":false,"facesOrientation":"Z","frontFaceResourceName":"Teleporter_Front","backFaceResourceName":"Teleporter_Front","backFaceUpThroughWhichAxisRotation":"X","leftFaceResourceName":"Teleporter_Front","rightFaceResourceName":"Teleporter_Front","topFaceResourceName":"Teleporter_Front","bottomFaceResourceName":"Teleporter_Front","frontFaceVisible":true,"backFaceVisible":true,"leftFaceVisible":true,"rightFaceVisible":true,"topFaceVisible":true,"bottomFaceVisible":true,"frontFaceResourceRepeat":true,"backFaceResourceRepeat":true,"leftFaceResourceRepeat":true,"rightFaceResourceRepeat":true,"topFaceResourceRepeat":true,"bottomFaceResourceRepeat":true,"materialType":"StandardWithoutMetalness"}},{"adaptCollisionMaskAutomatically":true,"assetStoreId":"","name":"blinkUI","type":"Sprite","updateIfNotVisible":false,"variables":[],"effects":[],"behaviors":[],"animations":[{"name":"NewSprite","useMultipleDirections":false,"directions":[{"looping":false,"metadata":"{\"pskl\":{}}","timeBetweenFrames":0.08,"sprites":[{"hasCustomCollisionMask":true,"image":"NewSprite","points":[],"originPoint":{"name":"origine","x":0.0,"y":0.0},"centerPoint":{"automatic":true,"name":"centre","x":0.0,"y":0.0},"customCollisionMask":[[{"x":0.0,"y":0.0},{"x":64.0,"y":0.0},{"x":64.0,"y":64.0},{"x":0.0,"y":64.0}]]}]}]}]},{"assetStoreId":"","name":"Checkpoint01","type":"Scene3D::Cube3DObject","variables":[],"effects":[],"behaviors":[],"content":{"width":100.0,"height":100.0,"depth":100.0,"enableTextureTransparency":false,"facesOrientation":"Z","frontFaceResourceName":"Teleporter_Front","backFaceResourceName":"Teleporter_Front","backFaceUpThroughWhichAxisRotation":"X","leftFaceResourceName":"Teleporter_Front","rightFaceResourceName":"Teleporter_Front","topFaceResourceName":"Teleporter_Front","bottomFaceResourceName":"Teleporter_Front","frontFaceVisible":true,"backFaceVisible":true,"leftFaceVisible":true,"rightFaceVisible":true,"topFaceVisible":true,"bottomFaceVisible":true,"frontFaceResourceRepeat":true,"backFaceResourceRepeat":true,"leftFaceResourceRepeat":true,"rightFaceResourceRepeat":true,"topFaceResourceRepeat":true,"bottomFaceResourceRepeat":true,"materialType":"StandardWithoutMetalness"}},{"assetStoreId":"","name":"stairs","type":"Scene3D::Model3DObject","variables":[],"effects":[],"behaviors":[],"content":{"centerLocation":"ObjectCenter","depth":100.0,"height":100.0,"keepAspectRatio":true,"materialType":"StandardWithoutMetalness","modelResourceName":"stairs.glb","originLocation":"ObjectCenter","rotationX":0.0,"rotationY":0.0,"rotationZ":0.0,"width":100.0,"animations":[]}},{"assetStoreId":"","name":"roof_light","type":"Scene3D::Model3DObject","variables":[],"effects":[],"behaviors":[],"content":{"centerLocation":"ObjectCenter","depth":100.0,"height":100.0,"keepAspectRatio":true,"materialType":"StandardWithoutMetalness","modelResourceName":"light02.glb","originLocation":"ObjectCenter","rotationX":0.0,"rotationY":0.0,"rotationZ":0.0,"width":100.0,"animations":[]}},{"assetStoreId":"","name":"Orc","type":"Scene3D::Model3DObject","variables":[],"effects":[],"behaviors":[{"name":"Pathfinding","type":"PathfindingBehavior::PathfindingBehavior","maxSpeed":150.0,"rotateObject":false,"acceleration":9999.0,"allowDiagonals":true,"angleOffset":0.0,"angularMaxSpeed":180.0,"cellHeight":10.0,"cellWidth":10.0,"extraBorder":0.0,"gridOffsetX":0.0,"gridOffsetY":0.0,"smoothingMaxCellGap":1.0}],"content":{"centerLocation":"ObjectCenter","depth":100.0,"height":100.0,"keepAspectRatio":true,"materialType":"StandardWithoutMetalness","modelResourceName":"finalglborc2.glb","originLocation":"ObjectCenter","rotationX":0.0,"rotationY":0.0,"rotationZ":0.0,"width":100.0,"animations":[{"loop":true,"name":"Idle","source":"Idle"},{"loop":true,"name":"Walk","source":"Armature.001|mixamo.com|Layer0"}]}},{"assetStoreId":"","bold":false,"italic":false,"name":"Tutorial01","smoothed":true,"type":"TextObject::Text","underlined":false,"variables":[],"effects":[],"behaviors":[],"string":"F - flashlight","font":"aberatn.ttf","textAlignment":"left","characterSize":40.0,"color":{"b":255,"g":255,"r":255},"content":{"bold":false,"isOutlineEnabled":false,"isShadowEnabled":true,"italic":false,"outlineColor":"255;255;255","outlineThickness":2.0,"shadowAngle":90.0,"shadowBlurRadius":2.0,"shadowColor":"0;0;0","shadowDistance":4.0,"shadowOpacity":127.0,"smoothed":true,"underlined":false,"text":"F - flashlight","font":"aberatn.ttf","textAlignment":"left","verticalTextAlignment":"top","characterSize":40.0,"color":"255;255;255"}}],"objectsFolderStructure":{"folderName":"__ROOT","children":[{"folderName":"UI","children":[{"objectName":"Crosshair"},{"objectName":"LookJoystick"},{"objectName":"WalkJoystick"}]},{"folderName":"Obstacles","children":[{"objectName":"InvisibleBarrier"},{"objectName":"Wall"},{"objectName":"Teleporter"},{"objectName":"Checkpoint01"}]},{"folderName":"3d","children":[{"objectName":"Player"},{"objectName":"Flashlight"},{"objectName":"Orc"},{"objectName":"RoofProp"},{"objectName":"sewer_curve"},{"objectName":"sewer_wood_obstacle"},{"objectName":"floor_debris01"},{"objectName":"floor_debris02"},{"objectName":"floor_trash"},{"objectName":"floor_traffic"},{"objectName":"roof_light"},{"objectName":"stairs"},{"objectName":"floor_garbage02"},{"objectName":"sewer_entrance"},{"objectName":"sewer_directions"},{"objectName":"Sewer_front"},{"objectName":"InlineSewer"}]},{"objectName":"Camera"},{"objectName":"BlinkingLight"},{"objectName":"Floor"},{"objectName":"Roof"},{"objectName":"Debug01"},{"objectName":"Tutorial01"},{"objectName":"Debug02"},{"objectName":"WaterBox"},{"objectName":"vingette_effect"},{"objectName":"blinkUI"}]},"events":[{"folded":true,"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"DepartScene"},"parameters":[""]}],"actions":[{"type":{"value":"SetBooleanVariable"},"parameters":["Debug","False",""]},{"type":{"value":"Cache"},"parameters":["Hide"]},{"type":{"value":"HideLayer"},"parameters":["Hide","\"Crosshair\""]},{"type":{"value":"ShowLayer"},"parameters":["Hide","\"UI\""]},{"type":{"value":"A3F::ChangeOpacity"},"parameters":["","Flashlight","Object3D","\"=\"","1",""]},{"type":{"value":"A3F::ChangeOpacity"},"parameters":["","WaterBox","Object3D","\"=\"","75",""]},{"type":{"value":"MettreY"},"parameters":["Roof","-","1000"]}],"events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[],"actions":[{"type":{"value":"Scene3D::Base3DBehavior::SetZ"},"parameters":["Flashlight","Object3D","=","80"]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"inverted":true,"value":"SystemInfo::IsMobile"},"parameters":[]}],"actions":[{"type":{"value":"Delete"},"parameters":["WalkJoystick",""]},{"type":{"value":"Delete"},"parameters":["LookJoystick",""]}]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"DepartScene"},"parameters":[""]}],"actions":[{"type":{"value":"A3F::ChangeOpacity"},"parameters":["Teleporter","Teleporter","Object3D","\"=\"","0",""]},{"type":{"value":"A3F::ChangeOpacity"},"parameters":["Teleporter","Checkpoint01","Object3D","\"=\"","0",""]}]},{"colorB":228,"colorG":176,"colorR":74,"creationTime":0,"folded":true,"name":"Camera in Preview","source":"","type":"BuiltinCommonInstructions::Group","events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"SystemInfo::IsPreview"},"parameters":[""]},{"type":{"value":"BooleanVariable"},"parameters":["Debug","True",""]}],"actions":[],"events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"BuiltinCommonInstructions::Once"},"parameters":[]}],"actions":[{"type":{"value":"ActivateBehavior"},"parameters":["Camera","Jump3D",""]},{"type":{"value":"Walk3D::Walk3D::SetTranslationSpeedMax"},"parameters":["Camera","TopDownWalk","=","600",""]}]},{"colorB":228,"colorG":176,"colorR":74,"creationTime":0,"folded":true,"name":"Camera controls","source":"","type":"BuiltinCommonInstructions::Group","events":[{"type":"BuiltinCommonInstructions::Comment","color":{"b":109,"g":230,"r":255,"textB":0,"textG":0,"textR":0},"comment":"Camera object rotates along with the player's cursor, and the in game camera rotates based on the position of the Camera object"},{"folded":true,"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"inverted":true,"value":"SystemInfo::IsMobile"},"parameters":[]}],"actions":[],"events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"MouseButtonReleased"},"parameters":["","Left"]},{"type":{"inverted":true,"value":"MousePointerLock::isPointerLocked"},"parameters":["",""]}],"actions":[{"type":{"value":"MousePointerLock::RequestPointerLock"},"parameters":["",""]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"MousePointerLock::isPointerLocked"},"parameters":["",""]}],"actions":[{"type":{"value":"SetAngle"},"parameters":["Camera","+","MousePointerLock::MovementX() / 20"]},{"type":{"value":"Scene3D::Base3DBehavior::SetRotationY"},"parameters":["Camera","Object3D","+","MousePointerLock::MovementY() / 20"]}]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"KeyPressed"},"parameters":["","LShift"]}],"actions":[{"type":{"value":"Scene3D::Base3DBehavior::SetZ"},"parameters":["Camera","Object3D","-","5"]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"KeyPressed"},"parameters":["","Space"]}],"actions":[{"type":{"value":"Scene3D::Base3DBehavior::SetZ"},"parameters":["Camera","Object3D","+","5"]}]},{"disabled":true,"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"SpriteMultitouchJoystick::SpriteMultitouchJoystick::IsPressed"},"parameters":["LookJoystick",""]}],"actions":[{"type":{"value":"Walk3D::Walk3D::SimulateRotationStick"},"parameters":["Camera","TopDownWalk","LookJoystick.StickForceX()",""]},{"type":{"value":"Scene3D::Base3DBehavior::SetRotationY"},"parameters":["Camera","Object3D","+","LookJoystick.StickForceY() * 120 * TimeDelta()"]}]},{"disabled":true,"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"Gamepads::C_Controller_X_is_connected"},"parameters":["","1",""]}],"actions":[{"type":{"value":"Walk3D::Walk3D::SimulateRotationStick"},"parameters":["Camera","TopDownWalk","Gamepads::StickForceX(1, \"Right\")",""]},{"type":{"value":"Scene3D::Base3DBehavior::SetRotationY"},"parameters":["Camera","Object3D","+","Gamepads::StickForceY(1, \"Right\") * 120 * TimeDelta()"]}]},{"type":"BuiltinCommonInstructions::Comment","color":{"b":109,"g":230,"r":255,"textB":0,"textG":0,"textR":0},"comment":"Make sure the camera doesn't get upsidedown."},{"type":"BuiltinCommonInstructions::Standard","conditions":[],"actions":[{"type":{"value":"Scene3D::Base3DBehavior::SetRotationY"},"parameters":["Camera","Object3D","=","clamp(Camera.RotationY(), -90, 90)"]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[],"actions":[{"type":{"value":"FirstPersonCamera::LookFromObjectEyes"},"parameters":["","Camera","",""]},{"type":{"value":"Scene3D::SetCameraZ"},"parameters":["","+","Camera.Object3D::Depth()","",""]}]}],"parameters":[]},{"colorB":228,"colorG":176,"colorR":74,"creationTime":0,"folded":true,"name":"Player movement controls","source":"","type":"BuiltinCommonInstructions::Group","events":[{"type":"BuiltinCommonInstructions::Comment","color":{"b":109,"g":230,"r":255,"textB":0,"textG":0,"textR":0},"comment":"Moving the Camera object along the X/Y plane with forces"},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"KeyPressed"},"parameters":["","w"]}],"actions":[{"type":{"value":"Walk3D::Walk3D::SimulateMoveForwardKey"},"parameters":["Camera","TopDownWalk",""]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"KeyPressed"},"parameters":["","s"]}],"actions":[{"type":{"value":"Walk3D::Walk3D::SimulateMoveBackwardKey"},"parameters":["Camera","TopDownWalk",""]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"KeyPressed"},"parameters":["","d"]}],"actions":[{"type":{"value":"Walk3D::Walk3D::SimulateMoveRightKey"},"parameters":["Camera","TopDownWalk",""]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"KeyPressed"},"parameters":["","a"]}],"actions":[{"type":{"value":"Walk3D::Walk3D::SimulateMoveLeftKey"},"parameters":["Camera","TopDownWalk",""]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"KeyPressed"},"parameters":["","Space"]}],"actions":[{"type":{"value":"Scene3D::Base3DBehavior::SetZ"},"parameters":["Camera","Object3D","+","5"]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"KeyPressed"},"parameters":["","LControl"]}],"actions":[{"type":{"value":"Scene3D::Base3DBehavior::SetZ"},"parameters":["Camera","Object3D","-","5"]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"SpriteMultitouchJoystick::SpriteMultitouchJoystick::IsPressed"},"parameters":["WalkJoystick",""]}],"actions":[{"type":{"value":"Walk3D::Walk3D::SimulateMoveStick"},"parameters":["Camera","TopDownWalk","WalkJoystick.StickAngle()","WalkJoystick.StickForce()",""]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"Gamepads::C_Controller_X_is_connected"},"parameters":["","1",""]}],"actions":[{"type":{"value":"Walk3D::Walk3D::SimulateMoveStick"},"parameters":["Camera","TopDownWalk","Gamepads::StickAngle(1, \"Left\")","Gamepads::StickForce(1, \"Left\")",""]}]}],"parameters":[]}]}],"parameters":[]},{"colorB":228,"colorG":176,"colorR":74,"creationTime":0,"folded":true,"name":"Camera controls","source":"","type":"BuiltinCommonInstructions::Group","events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"BooleanVariable"},"parameters":["Debug","False",""]}],"actions":[],"events":[{"type":"BuiltinCommonInstructions::Comment","color":{"b":109,"g":230,"r":255,"textB":0,"textG":0,"textR":0},"comment":"Camera object rotates along with the player's cursor, and the in game camera rotates based on the position of the Camera object"},{"folded":true,"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"inverted":true,"value":"SystemInfo::IsMobile"},"parameters":[]}],"actions":[],"events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"MouseButtonReleased"},"parameters":["","Left"]},{"type":{"inverted":true,"value":"MousePointerLock::isPointerLocked"},"parameters":["",""]}],"actions":[{"type":{"value":"MousePointerLock::RequestPointerLock"},"parameters":["",""]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"MousePointerLock::isPointerLocked"},"parameters":["",""]}],"actions":[{"type":{"value":"SetAngle"},"parameters":["Camera","+","MousePointerLock::MovementX() / 20"]},{"type":{"value":"Scene3D::Base3DBehavior::SetRotationY"},"parameters":["Camera","Object3D","+","MousePointerLock::MovementY() / 20"]}]}]},{"disabled":true,"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"SpriteMultitouchJoystick::SpriteMultitouchJoystick::IsPressed"},"parameters":["LookJoystick",""]}],"actions":[{"type":{"value":"Walk3D::Walk3D::SimulateRotationStick"},"parameters":["Camera","TopDownWalk","LookJoystick.StickForceX()",""]},{"type":{"value":"Scene3D::Base3DBehavior::SetRotationY"},"parameters":["Camera","Object3D","+","LookJoystick.StickForceY() * 120 * TimeDelta()"]}]},{"disabled":true,"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"Gamepads::C_Controller_X_is_connected"},"parameters":["","1",""]}],"actions":[{"type":{"value":"Walk3D::Walk3D::SimulateRotationStick"},"parameters":["Camera","TopDownWalk","Gamepads::StickForceX(1, \"Right\")",""]},{"type":{"value":"Scene3D::Base3DBehavior::SetRotationY"},"parameters":["Camera","Object3D","+","Gamepads::StickForceY(1, \"Right\") * 120 * TimeDelta()"]}]},{"type":"BuiltinCommonInstructions::Comment","color":{"b":109,"g":230,"r":255,"textB":0,"textG":0,"textR":0},"comment":"Make sure the camera doesn't get upsidedown."},{"type":"BuiltinCommonInstructions::Standard","conditions":[],"actions":[{"type":{"value":"FirstPersonCamera::LookFromObjectEyes"},"parameters":["","Camera","",""]},{"type":{"value":"Scene3D::Base3DBehavior::SetRotationY"},"parameters":["Camera","Object3D","=","clamp(Camera.RotationY(), -90, 90)"]},{"type":{"value":"Scene3D::SetCameraZ"},"parameters":["","=","130","",""]},{"type":{"value":"MettreXY"},"parameters":["Crosshair","=","CameraCenterX(\"Crosshair\")+50","=","CameraCenterY(\"Crosshair\")+50"]}]},{"type":"BuiltinCommonInstructions::Comment","color":{"b":109,"g":230,"r":255,"textB":0,"textG":0,"textR":0},"comment":"Head effect"},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"BuiltinCommonInstructions::Or"},"parameters":[],"subInstructions":[{"type":{"value":"Walk3D::Walk3D::CurrentForwardSpeed"},"parameters":["Camera","TopDownWalk",">","0",""]},{"type":{"value":"Walk3D::Walk3D::CurrentSidewaysSpeed"},"parameters":["Camera","TopDownWalk",">","0",""]}]},{"type":{"value":"BuiltinCommonInstructions::Once"},"parameters":[]}],"actions":[{"type":{"value":"CameraShake::StartShaking"},"parameters":["",".5",""]},{"type":{"value":"CameraShake::SetDefaultShakingFrequency"},"parameters":["","2",""]},{"type":{"value":"CameraShake::SetDefaultTranslationAmplitude"},"parameters":["","5","5",""]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"Walk3D::Walk3D::CurrentForwardSpeed"},"parameters":["Camera","TopDownWalk","=","0",""]},{"type":{"value":"Walk3D::Walk3D::CurrentSidewaysSpeed"},"parameters":["Camera","TopDownWalk","=","0",""]},{"type":{"value":"BuiltinCommonInstructions::Once"},"parameters":[]}],"actions":[{"type":{"value":"CameraShake::SetDefaultShakingFrequency"},"parameters":["",".5",""]},{"type":{"value":"CameraShake::SetDefaultTranslationAmplitude"},"parameters":["","1","1",""]}]}]}],"parameters":[]},{"colorB":228,"colorG":176,"colorR":74,"creationTime":0,"folded":true,"name":"Player","source":"","type":"BuiltinCommonInstructions::Group","events":[{"colorB":228,"colorG":176,"colorR":74,"creationTime":0,"folded":true,"name":"Flashlight","source":"","type":"BuiltinCommonInstructions::Group","events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"BooleanVariable"},"parameters":["Debug","False",""]}],"actions":[],"events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"KeyReleased"},"parameters":["","f"]},{"type":{"value":"BooleanVariable"},"parameters":["FlashlightVar.Buzz","False",""]}],"actions":[{"type":{"value":"PlaySound"},"parameters":["","flashlight-toggle.wav","","20","RandomFloatInRange(0.8,1.2)"]},{"type":{"value":"Wait"},"parameters":[".1"]},{"type":{"value":"SetBooleanVariable"},"parameters":["FlashlightVar.Toggled","Toggle",""]}]},{"folded":true,"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"BooleanVariable"},"parameters":["FlashlightVar.Toggled","True",""]}],"actions":[],"events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"BuiltinCommonInstructions::Once"},"parameters":[]}],"actions":[{"type":{"value":"Scene3D::Base3DBehavior::SetZ"},"parameters":["Flashlight","Object3D","=","80"]}]}]},{"folded":true,"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"BooleanVariable"},"parameters":["FlashlightVar.Toggled","False",""]}],"actions":[],"events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"BuiltinCommonInstructions::Once"},"parameters":[]}],"actions":[{"type":{"value":"Scene3D::Base3DBehavior::SetZ"},"parameters":["Flashlight","Object3D","=","-420"]}]}]},{"type":"BuiltinCommonInstructions::Comment","color":{"b":109,"g":230,"r":255,"textB":0,"textG":0,"textR":0},"comment":"Buzz"},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"RepeatEveryXSeconds::Repeat"},"parameters":["","\"flashlight-buzz-toggle\"","30",""]},{"type":{"value":"BooleanVariable"},"parameters":["FlashlightVar.Toggled","True",""]}],"actions":[{"type":{"value":"SetBooleanVariable"},"parameters":["FlashlightVar.Buzz","True",""]}]},{"folded":true,"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"BooleanVariable"},"parameters":["FlashlightVar.Buzz","True",""]}],"actions":[],"events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"BuiltinCommonInstructions::Once"},"parameters":[]}],"actions":[{"type":{"value":"PlaySound"},"parameters":["","flashlight-buzz.wav","","20","RandomFloatInRange(.8,1.2)"]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"RepeatEveryXSeconds::Repeat"},"parameters":["","\"flashlight-buzz\"",".05",""]}],"actions":[{"type":{"value":"SetBooleanVariable"},"parameters":["FlashlightVar.Toggled","Toggle",""]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"BuiltinCommonInstructions::Once"},"parameters":[]}],"actions":[{"type":{"value":"Wait"},"parameters":["3"]},{"type":{"value":"SetBooleanVariable"},"parameters":["FlashlightVar.Buzz","False",""]},{"type":{"value":"SetBooleanVariable"},"parameters":["FlashlightVar.Toggled","True",""]}]}]}]}],"parameters":[]},{"colorB":228,"colorG":176,"colorR":74,"creationTime":0,"folded":true,"name":"Blink","source":"","type":"BuiltinCommonInstructions::Group","events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"RepeatEveryXSeconds::Repeat"},"parameters":["","\"blink\"","RandomInRange(3,8)",""]}],"actions":[{"type":{"value":"SetBooleanVariable"},"parameters":["Blink","True",""]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"BooleanVariable"},"parameters":["Blink","True",""]}],"actions":[],"events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"BuiltinCommonInstructions::Once"},"parameters":[]}],"actions":[{"type":{"value":"MettreY"},"parameters":["blinkUI","=","-150"]},{"type":{"value":"Wait"},"parameters":[".2"]},{"type":{"value":"SetBooleanVariable"},"parameters":["Blink","False",""]}]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"BooleanVariable"},"parameters":["Blink","False",""]}],"actions":[],"events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"BuiltinCommonInstructions::Once"},"parameters":[]}],"actions":[{"type":{"value":"MettreY"},"parameters":["blinkUI","=","-1150"]}]}]}],"parameters":[]},{"colorB":228,"colorG":176,"colorR":74,"creationTime":0,"folded":true,"name":"Interactions","source":"","type":"BuiltinCommonInstructions::Group","events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"Distance"},"parameters":["Camera","Interactions","200",""]}],"actions":[{"type":{"value":"ShowLayer"},"parameters":["Hide","\"Crosshair\""]}],"events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"IsTurnedTowardObject"},"parameters":["Camera","stairs","10",""]}],"actions":[{"type":{"value":"AnimatableCapability::AnimatableBehavior::SetName"},"parameters":["Crosshair","Animation","=","\"Stairs\""]}],"events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"MouseButtonReleased"},"parameters":["","Left"]},{"type":{"value":"BuiltinCommonInstructions::Once"},"parameters":[]}],"actions":[{"type":{"value":"MousePointerLock::ExitPointerLock"},"parameters":["",""]},{"type":{"value":"Wait"},"parameters":["1"]},{"type":{"value":"Scene"},"parameters":["","\"Menu\"",""]}]}]}]},{"folded":true,"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"BuiltinCommonInstructions::Or"},"parameters":[],"subInstructions":[{"type":{"inverted":true,"value":"IsTurnedTowardObject"},"parameters":["Camera","Interactions","10",""]},{"type":{"inverted":true,"value":"Distance"},"parameters":["Camera","Interactions","200",""]}]}],"actions":[],"events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[],"actions":[{"type":{"value":"HideLayer"},"parameters":["Hide","\"Crosshair\""]}]}]},{"folded":true,"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"CollisionNP"},"parameters":["Camera","Teleporter","","",""]},{"type":{"value":"BooleanVariable"},"parameters":["FirstCheckpoint","True",""]}],"actions":[],"events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"BuiltinCommonInstructions::Once"},"parameters":[]}],"actions":[{"type":{"value":"SetBooleanVariable"},"parameters":["Blink","True",""]},{"type":{"value":"Wait"},"parameters":[".1"]},{"type":{"value":"MettreXY"},"parameters":["Camera","=","-2375","=","286"]},{"type":{"value":"SetBooleanVariable"},"parameters":["FirstCheckpoint","False",""]}]}]},{"folded":true,"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"CollisionNP"},"parameters":["Camera","Checkpoint01","","",""]},{"type":{"value":"BooleanVariable"},"parameters":["DeathCheckpoint","True",""]}],"actions":[],"events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"BuiltinCommonInstructions::Once"},"parameters":[]}],"actions":[{"type":{"value":"MettreXY"},"parameters":["Orc","=","-5381","=","286"]},{"type":{"value":"SetBooleanVariable"},"parameters":["DeathCheckpoint","False",""]}]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"CollisionNP"},"parameters":["Camera","Orc","","",""]}],"actions":[{"type":{"value":"Scene"},"parameters":["","\"End\"",""]}]}],"parameters":[]},{"colorB":228,"colorG":176,"colorR":74,"creationTime":0,"folded":true,"name":"Movement","source":"","type":"BuiltinCommonInstructions::Group","events":[{"type":"BuiltinCommonInstructions::Comment","color":{"b":109,"g":230,"r":255,"textB":0,"textG":0,"textR":0},"comment":"NonDebug"},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"BooleanVariable"},"parameters":["Debug","False",""]}],"actions":[],"events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"BuiltinCommonInstructions::Once"},"parameters":[]}],"actions":[{"type":{"value":"Cache"},"parameters":["Player"]}]},{"type":"BuiltinCommonInstructions::Comment","color":{"b":109,"g":230,"r":255,"textB":0,"textG":0,"textR":0},"comment":"Moving the Camera object along the X/Y plane with forces"},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"KeyPressed"},"parameters":["","w"]}],"actions":[{"type":{"value":"Walk3D::Walk3D::SimulateMoveForwardKey"},"parameters":["Camera","TopDownWalk",""]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"KeyPressed"},"parameters":["","s"]}],"actions":[{"type":{"value":"Walk3D::Walk3D::SimulateMoveBackwardKey"},"parameters":["Camera","TopDownWalk",""]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"KeyPressed"},"parameters":["","d"]}],"actions":[{"type":{"value":"Walk3D::Walk3D::SimulateMoveRightKey"},"parameters":["Camera","TopDownWalk",""]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"KeyPressed"},"parameters":["","a"]}],"actions":[{"type":{"value":"Walk3D::Walk3D::SimulateMoveLeftKey"},"parameters":["Camera","TopDownWalk",""]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[],"actions":[{"type":{"value":"MettreXY"},"parameters":["Flashlight","=","Camera.CenterX()","=","Camera.CenterY()"]},{"type":{"value":"RotateTowardAngle"},"parameters":["Flashlight","Camera.Angle()","0","0"]}]}]},{"type":"BuiltinCommonInstructions::Comment","color":{"b":109,"g":230,"r":255,"textB":0,"textG":0,"textR":0},"comment":"Debug"},{"folded":true,"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"SystemInfo::IsPreview"},"parameters":[""]},{"type":{"value":"BooleanVariable"},"parameters":["Debug","True",""]}],"actions":[],"events":[{"type":"BuiltinCommonInstructions::Comment","color":{"b":109,"g":230,"r":255,"textB":0,"textG":0,"textR":0},"comment":"Moving the Camera object along the X/Y plane with forces"},{"type":"BuiltinCommonInstructions::Standard","conditions":[],"actions":[{"type":{"value":"MettreXY"},"parameters":["Flashlight","=","Player.CenterX()","=","Player.CenterY()"]},{"type":{"value":"RotateTowardAngle"},"parameters":["Flashlight","Player.Angle()","0","0"]},{"type":{"value":"Scene3D::Base3DBehavior::SetZ"},"parameters":["Flashlight","Object3D","=","80"]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"KeyPressed"},"parameters":["","Up"]}],"actions":[{"type":{"value":"Walk3D::Walk3D::SimulateMoveForwardKey"},"parameters":["Player","Walk3D",""]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"KeyPressed"},"parameters":["","Down"]}],"actions":[{"type":{"value":"Walk3D::Walk3D::SimulateMoveBackwardKey"},"parameters":["Player","Walk3D",""]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"KeyPressed"},"parameters":["","Right"]}],"actions":[{"type":{"value":"Scene3D::Base3DBehavior::TurnAroundZ"},"parameters":["Player","Object3D","3"]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"KeyPressed"},"parameters":["","Left"]}],"actions":[{"type":{"value":"Scene3D::Base3DBehavior::TurnAroundZ"},"parameters":["Player","Object3D","-3"]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"BuiltinCommonInstructions::Or"},"parameters":[],"subInstructions":[{"type":{"value":"Walk3D::Walk3D::CurrentForwardSpeed"},"parameters":["Player","Walk3D",">","0",""]},{"type":{"value":"Walk3D::Walk3D::CurrentSidewaysSpeed"},"parameters":["Player","Walk3D",">","0",""]}]},{"type":{"value":"BuiltinCommonInstructions::Once"},"parameters":[]}],"actions":[{"type":{"value":"AnimatableCapability::AnimatableBehavior::SetName"},"parameters":["Player","Animation","=","\"Walk\""]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"Walk3D::Walk3D::CurrentForwardSpeed"},"parameters":["Player","Walk3D","=","0",""]},{"type":{"value":"Walk3D::Walk3D::CurrentSidewaysSpeed"},"parameters":["Player","Walk3D","=","0",""]},{"type":{"value":"BuiltinCommonInstructions::Once"},"parameters":[]}],"actions":[{"type":{"value":"AnimatableCapability::AnimatableBehavior::SetName"},"parameters":["Player","Animation","=","\"Idle\""]}]}]}],"parameters":[]}],"parameters":[]},{"colorB":228,"colorG":176,"colorR":74,"creationTime":0,"folded":true,"name":"Enemy","source":"","type":"BuiltinCommonInstructions::Group","events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"BuiltinCommonInstructions::Once"},"parameters":[]}],"actions":[{"type":{"value":"AnimatableCapability::AnimatableBehavior::SetName"},"parameters":["Orc","Animation","=","\"Walk\""]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"BooleanVariable"},"parameters":["DeathCheckpoint","False",""]}],"actions":[],"events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"BuiltinCommonInstructions::Once"},"parameters":[]}],"actions":[{"type":{"value":"PlaySound"},"parameters":["","assets\\horror-approaching.wav","","100","1"]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[],"actions":[{"type":{"value":"PathfindingBehavior::SetDestination"},"parameters":["Orc","Pathfinding","","Camera.X()","Camera.Y()"]},{"type":{"value":"RotateTowardAngle"},"parameters":["Orc","Camera.Angle()+90","0",""]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"RepeatEveryXSeconds::Repeat"},"parameters":["","\"steps-water-enemy\"","1",""]},{"type":{"value":"BuiltinCommonInstructions::Once"},"parameters":[]}],"actions":[{"type":{"value":"PlaySound"},"parameters":["","assets\\water-step-edited.ogg","","80",".5"]}]}]}],"parameters":[]},{"colorB":228,"colorG":176,"colorR":74,"creationTime":0,"folded":true,"name":"Lightning","source":"","type":"BuiltinCommonInstructions::Group","events":[{"folded":true,"type":"BuiltinCommonInstructions::ForEach","object":"BlinkingLight","conditions":[],"actions":[],"events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"RepeatEveryXSeconds::Repeat"},"parameters":["","\"flashlight_blink\"+ ToString(BlinkingLight.X())","0.5",""]}],"actions":[{"type":{"value":"Scene3D::Base3DBehavior::SetZ"},"parameters":["BlinkingLight","Object3D","-","500"]},{"type":{"value":"Wait"},"parameters":[".1"]},{"type":{"value":"Scene3D::Base3DBehavior::SetZ"},"parameters":["BlinkingLight","Object3D","+","500"]}]}]}],"parameters":[]},{"colorB":228,"colorG":176,"colorR":74,"creationTime":0,"folded":true,"name":"Separate","source":"","type":"BuiltinCommonInstructions::Group","events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"BooleanVariable"},"parameters":["Debug","False",""]}],"actions":[{"type":{"value":"Jump3D::Jump3D::SeparateFromPlatforms"},"parameters":["Camera","Jump3D","Obstacle","Object3D",""]},{"type":{"value":"Jump3D::Jump3D::SeparateFromPlatforms"},"parameters":["Camera","Jump3D","InvisibleBarrier","Object3D",""]}]}],"parameters":[]},{"colorB":228,"colorG":176,"colorR":74,"creationTime":0,"folded":true,"name":"Sound","source":"","type":"BuiltinCommonInstructions::Group","events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"BooleanVariable"},"parameters":["Debug","False",""]}],"actions":[],"events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"DepartScene"},"parameters":[""]}],"actions":[{"type":{"value":"PlaySoundCanal"},"parameters":["","creepy-ambience.ogg","1","yes","2","1"]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"BuiltinCommonInstructions::Or"},"parameters":[],"subInstructions":[{"type":{"value":"Walk3D::Walk3D::CurrentForwardSpeed"},"parameters":["Camera","TopDownWalk",">","0",""]},{"type":{"value":"Walk3D::Walk3D::CurrentSidewaysSpeed"},"parameters":["Camera","TopDownWalk",">","0",""]}]},{"type":{"value":"RepeatEveryXSeconds::Repeat"},"parameters":["","\"steps-normal\"",".8",""]},{"type":{"inverted":true,"value":"CollisionNP"},"parameters":["Camera","WaterBox","","",""]},{"type":{"value":"BuiltinCommonInstructions::Once"},"parameters":[]}],"actions":[{"type":{"value":"PlaySound"},"parameters":["","assets\\foot-step-default.ogg","","50","RandomFloatInRange(0.8,1.2)"]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"BuiltinCommonInstructions::Or"},"parameters":[],"subInstructions":[{"type":{"value":"Walk3D::Walk3D::CurrentForwardSpeed"},"parameters":["Camera","TopDownWalk",">","0",""]},{"type":{"value":"Walk3D::Walk3D::CurrentSidewaysSpeed"},"parameters":["Camera","TopDownWalk",">","0",""]}]},{"type":{"value":"RepeatEveryXSeconds::Repeat"},"parameters":["","\"steps-water\"",".8",""]},{"type":{"value":"CollisionNP"},"parameters":["Camera","WaterBox","","",""]},{"type":{"value":"BuiltinCommonInstructions::Once"},"parameters":[]}],"actions":[{"type":{"value":"PlaySound"},"parameters":["","assets\\water-step-edited.ogg","","50","RandomFloatInRange(0.8,1.2)"]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"CollisionNP"},"parameters":["Camera","WaterBox","","",""]}],"actions":[],"events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"RepeatEveryXSeconds::Repeat"},"parameters":["","\"steps-normal\"","RandomFloatInRange(15,20)",""]}],"actions":[{"type":{"value":"PlaySound"},"parameters":["","assets\\water-drop.ogg","","50","RandomFloatInRange(0.8,1.2)"]}]}]}]}],"parameters":[]},{"colorB":228,"colorG":176,"colorR":74,"creationTime":0,"folded":true,"name":"Debug","source":"","type":"BuiltinCommonInstructions::Group","events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"BooleanVariable"},"parameters":["Debug","True",""]}],"actions":[{"type":{"value":"TextContainerCapability::TextContainerBehavior::SetValue"},"parameters":["Debug01","Text","=","\"Camera:\"+ToString(Camera.Angle())"]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"BooleanVariable"},"parameters":["Debug","False",""]}],"actions":[{"type":{"value":"Delete"},"parameters":["Debug01",""]},{"type":{"value":"Delete"},"parameters":["Debug02",""]}]}],"parameters":[]},{"colorB":228,"colorG":176,"colorR":74,"creationTime":0,"name":"Tutorial","source":"","type":"BuiltinCommonInstructions::Group","events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"DepartScene"},"parameters":[""]}],"actions":[{"type":{"value":"Wait"},"parameters":["10"]},{"type":{"value":"Cache"},"parameters":["Tutorial01"]}]}],"parameters":[]}],"layers":[{"ambientLightColorB":196608,"ambientLightColorG":0,"ambientLightColorR":8126128,"camera3DFarPlaneDistance":10000.0,"camera3DFieldOfView":45.0,"camera3DNearPlaneDistance":0.1,"cameraType":"perspective","followBaseLayerCamera":false,"isLightingLayer":false,"isLocked":false,"name":"","renderingType":"3d","visibility":true,"cameras":[{"defaultSize":true,"defaultViewport":true,"height":0.0,"viewportBottom":1.0,"viewportLeft":0.0,"viewportRight":1.0,"viewportTop":0.0,"width":0.0}],"effects":[{"effectType":"Scene3D::ExponentialFog","name":"Effect","doubleParameters":{"density":0.0018},"stringParameters":{"color":"0;0;0"},"booleanParameters":{}},{"effectType":"Scene3D::HemisphereLight","name":"Effect2","doubleParameters":{"elevation":70.0,"intensity":0.0,"rotation":0.0},"stringParameters":{"groundColor":"127;127;127","skyColor":"255;255;255","top":"Z+"},"booleanParameters":{}},{"effectType":"Scene3D::BrightnessAndContrast","name":"Effect3","doubleParameters":{"brightness":0.0,"contrast":0.005},"stringParameters":{},"booleanParameters":{}}]},{"ambientLightColorB":8908016,"ambientLightColorG":0,"ambientLightColorR":6071712,"camera3DFarPlaneDistance":10000.0,"camera3DFieldOfView":45.0,"camera3DNearPlaneDistance":0.1,"cameraType":"perspective","followBaseLayerCamera":false,"isLightingLayer":false,"isLocked":false,"name":"MobileUI","renderingType":"","visibility":false,"cameras":[],"effects":[]},{"ambientLightColorB":200,"ambientLightColorG":200,"ambientLightColorR":200,"camera3DFarPlaneDistance":10000.0,"camera3DFieldOfView":45.0,"camera3DNearPlaneDistance":0.1,"cameraType":"perspective","followBaseLayerCamera":false,"isLightingLayer":false,"isLocked":false,"name":"Crosshair","renderingType":"","visibility":true,"cameras":[],"effects":[{"effectType":"Scene3D::HemisphereLight","name":"3D Light","doubleParameters":{"elevation":45.0,"intensity":1.0,"rotation":0.0},"stringParameters":{"groundColor":"64;64;64","skyColor":"255;255;255","top":"Y-"},"booleanParameters":{}}]},{"ambientLightColorB":200,"ambientLightColorG":200,"ambientLightColorR":200,"camera3DFarPlaneDistance":10000.0,"camera3DFieldOfView":45.0,"camera3DNearPlaneDistance":3.0,"cameraType":"","followBaseLayerCamera":false,"isLightingLayer":false,"isLocked":false,"name":"UI","renderingType":"","visibility":true,"cameras":[],"effects":[{"effectType":"Scene3D::HemisphereLight","name":"3D Light","doubleParameters":{"elevation":45.0,"intensity":1.0,"rotation":0.0},"stringParameters":{"groundColor":"64;64;64","skyColor":"255;255;255","top":"Y-"},"booleanParameters":{}},{"effectType":"OldFilm","name":"Effect","doubleParameters":{"animationFrequency":30.0,"noise":0.08,"noiseSize":1.0,"scratch":0.5,"scratchDensity":0.3,"scratchWidth":1.0,"sepia":0.3,"vignetting":0.3,"vignettingAlpha":1.0,"vignettingBlur":0.3},"stringParameters":{},"booleanParameters":{}}]},{"ambientLightColorB":200,"ambientLightColorG":200,"ambientLightColorR":200,"camera3DFarPlaneDistance":10000.0,"camera3DFieldOfView":45.0,"camera3DNearPlaneDistance":3.0,"cameraType":"","followBaseLayerCamera":false,"isLightingLayer":false,"isLocked":false,"name":"Tutorial","renderingType":"","visibility":true,"cameras":[],"effects":[{"effectType":"Scene3D::HemisphereLight","name":"3D Light","doubleParameters":{"elevation":45.0,"intensity":1.0,"rotation":0.0},"stringParameters":{"groundColor":"64;64;64","skyColor":"255;255;255","top":"Y-"},"booleanParameters":{}}]}],"behaviorsSharedData":[{"name":"A3L","type":"A3F::A3L"},{"name":"Anchor","type":"AnchorBehavior::AnchorBehavior"},{"name":"Animation","type":"AnimatableCapability::AnimatableBehavior"},{"name":"Effect","type":"EffectCapability::EffectBehavior"},{"name":"Flippable","type":"FlippableCapability::FlippableBehavior"},{"name":"Jump3D","type":"Jump3D::Jump3D"},{"name":"Object3D","type":"Scene3D::Base3DBehavior"},{"name":"Opacity","type":"OpacityCapability::OpacityBehavior"},{"name":"Pathfinding","type":"PathfindingBehavior::PathfindingBehavior"},{"name":"PathfindingObstacle","type":"PathfindingBehavior::PathfindingObstacleBehavior"},{"name":"Resizable","type":"ResizableCapability::ResizableBehavior"},{"name":"Scale","type":"ScalableCapability::ScalableBehavior"},{"name":"Text","type":"TextContainerCapability::TextContainerBehavior"},{"name":"TopDownWalk","type":"Walk3D::Walk3D"},{"name":"Walk3D","type":"Walk3D::Walk3D","Cos":0.0,"Sin":0.0}]},{"b":0,"disableInputWhenNotFocused":true,"mangledName":"End","name":"End","r":0,"standardSortMethod":true,"stopSoundsOnStartup":true,"title":"","v":0,"uiSettings":{"grid":false,"gridType":"rectangular","gridWidth":32.0,"gridHeight":32.0,"gridOffsetX":0.0,"gridOffsetY":0.0,"gridColor":10401023.0,"gridAlpha":0.8,"snap":false,"zoomFactor":0.546875,"windowMask":false},"objectsGroups":[{"name":"opacity","objects":[{"name":"Title"},{"name":"Text"},{"name":"Highlight01"},{"name":"Highlight02"},{"name":"ko_fi"},{"name":"support"},{"name":"RightArrow"}]}],"variables":[{"name":"descend","type":"boolean","value":true},{"name":"supportToggle","type":"boolean","value":false}],"instances":[{"angle":0.0,"customSize":true,"depth":1.0,"height":111.0,"keepRatio":true,"layer":"","name":"Title","persistentUuid":"c503169e-ab74-4a58-ac32-c6a00a1e85d3","width":1277.0,"x":1.0,"y":124.0,"zOrder":1,"numberProperties":[],"stringProperties":[],"initialVariables":[]},{"angle":0.0,"customSize":true,"depth":1.0,"height":145.0,"keepRatio":true,"layer":"","name":"Text","persistentUuid":"fee98432-53a9-4adf-bc6d-03dfbb49e3ee","width":1060.0,"x":116.0,"y":371.0,"zOrder":2,"numberProperties":[],"stringProperties":[],"initialVariables":[]}],"objects":[{"assetStoreId":"","bold":true,"italic":false,"name":"Title","smoothed":true,"type":"TextObject::Text","underlined":false,"variables":[],"effects":[],"behaviors":[],"string":"Thanks for playing!","font":"aberatn.ttf","textAlignment":"center","characterSize":100.0,"color":{"b":0,"g":0,"r":255},"content":{"bold":true,"isOutlineEnabled":false,"isShadowEnabled":false,"italic":false,"outlineColor":"255;255;255","outlineThickness":2.0,"shadowAngle":90.0,"shadowBlurRadius":2.0,"shadowColor":"0;0;0","shadowDistance":4.0,"shadowOpacity":127.0,"smoothed":true,"underlined":false,"text":"Thanks for playing!","font":"aberatn.ttf","textAlignment":"center","verticalTextAlignment":"center","characterSize":100.0,"color":"255;0;0"}},{"assetStoreId":"","bold":true,"italic":false,"name":"Text","smoothed":true,"type":"TextObject::Text","underlined":false,"variables":[],"effects":[],"behaviors":[],"string":"The full game will have many more features.\nThis was just a small DEMO.\nThanks again and see you soon.","font":"","textAlignment":"center","characterSize":40.0,"color":{"b":255,"g":255,"r":255},"content":{"bold":true,"isOutlineEnabled":false,"isShadowEnabled":false,"italic":false,"outlineColor":"255;255;255","outlineThickness":2.0,"shadowAngle":90.0,"shadowBlurRadius":2.0,"shadowColor":"0;0;0","shadowDistance":4.0,"shadowOpacity":127.0,"smoothed":true,"underlined":false,"text":"The full game will have many more features.\nThis was just a small DEMO.\nThanks again and see you soon.","font":"","textAlignment":"center","verticalTextAlignment":"center","characterSize":40.0,"color":"255;255;255"}},{"assetStoreId":"","bold":true,"italic":false,"name":"Highlight01","smoothed":true,"type":"TextObject::Text","underlined":false,"variables":[],"effects":[],"behaviors":[],"string":"DEMO","font":"aberatn.ttf","textAlignment":"center","characterSize":40.0,"color":{"b":0,"g":0,"r":255},"content":{"bold":true,"isOutlineEnabled":false,"isShadowEnabled":false,"italic":false,"outlineColor":"255;255;255","outlineThickness":2.0,"shadowAngle":90.0,"shadowBlurRadius":2.0,"shadowColor":"0;0;0","shadowDistance":4.0,"shadowOpacity":127.0,"smoothed":true,"underlined":false,"text":"DEMO","font":"aberatn.ttf","textAlignment":"center","verticalTextAlignment":"center","characterSize":40.0,"color":"255;0;0"}},{"assetStoreId":"","bold":true,"italic":false,"name":"Highlight02","smoothed":true,"type":"TextObject::Text","underlined":false,"variables":[],"effects":[],"behaviors":[],"string":"RATE","font":"aberatn.ttf","textAlignment":"center","characterSize":40.0,"color":{"b":0,"g":0,"r":255},"content":{"bold":true,"isOutlineEnabled":false,"isShadowEnabled":false,"italic":false,"outlineColor":"255;255;255","outlineThickness":2.0,"shadowAngle":90.0,"shadowBlurRadius":2.0,"shadowColor":"0;0;0","shadowDistance":4.0,"shadowOpacity":127.0,"smoothed":true,"underlined":false,"text":"RATE","font":"aberatn.ttf","textAlignment":"center","verticalTextAlignment":"center","characterSize":40.0,"color":"255;0;0"}},{"adaptCollisionMaskAutomatically":true,"assetStoreId":"","name":"ko_fi","type":"Sprite","updateIfNotVisible":false,"variables":[],"effects":[],"behaviors":[{"name":"ButtonFSM","type":"ButtonStates::ButtonFSM","ShouldCheckHovering":true,"State":"Idle","TouchId":0.0,"TouchIsInside":false,"MouseIsInside":false,"Index":2.0247e-320}],"animations":[{"name":"","useMultipleDirections":false,"directions":[{"looping":false,"timeBetweenFrames":0.08,"sprites":[{"hasCustomCollisionMask":true,"image":"assets\\ko-fi.png","points":[],"originPoint":{"name":"origine","x":0.0,"y":0.0},"centerPoint":{"automatic":true,"name":"centre","x":0.0,"y":0.0},"customCollisionMask":[[{"x":0.0,"y":0.0},{"x":1475.0,"y":0.0},{"x":1475.0,"y":402.0},{"x":0.0,"y":402.0}]]}]}]}]},{"assetStoreId":"","bold":true,"italic":false,"name":"support","smoothed":true,"type":"TextObject::Text","underlined":false,"variables":[],"effects":[],"behaviors":[],"string":"support us here","font":"aberatn.ttf","textAlignment":"center","characterSize":30.0,"color":{"b":155,"g":155,"r":158},"content":{"bold":true,"isOutlineEnabled":false,"isShadowEnabled":false,"italic":false,"outlineColor":"255;255;255","outlineThickness":2.0,"shadowAngle":90.0,"shadowBlurRadius":2.0,"shadowColor":"0;0;0","shadowDistance":4.0,"shadowOpacity":127.0,"smoothed":true,"underlined":false,"text":"support us here","font":"aberatn.ttf","textAlignment":"center","verticalTextAlignment":"center","characterSize":30.0,"color":"158;155;155"}},{"adaptCollisionMaskAutomatically":true,"assetStoreId":"f54fecd6e221a9968e175ebdb5171185c3e13bdc56282776270df4f791575ab8","name":"RightArrow","type":"Sprite","updateIfNotVisible":false,"variables":[],"effects":[],"behaviors":[],"animations":[{"name":"Right-Arrow","useMultipleDirections":false,"directions":[{"looping":true,"metadata":"{\"pskl\":{}}","timeBetweenFrames":0.025,"sprites":[{"hasCustomCollisionMask":true,"image":"Right-Arrow.png","points":[],"originPoint":{"name":"origine","x":0.0,"y":0.0},"centerPoint":{"automatic":true,"name":"centre","x":0.0,"y":0.0},"customCollisionMask":[[{"x":1.0,"y":0.0},{"x":14.0,"y":0.0},{"x":14.0,"y":14.0},{"x":1.0,"y":14.0}]]}]}]}]}],"objectsFolderStructure":{"folderName":"__ROOT","children":[{"objectName":"Title"},{"objectName":"Text"},{"objectName":"Highlight01"},{"objectName":"support"},{"objectName":"Highlight02"},{"objectName":"ko_fi"},{"objectName":"RightArrow"}]},"events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"DepartScene"},"parameters":[""]}],"actions":[{"type":{"value":"OpacityCapability::OpacityBehavior::SetValue"},"parameters":["opacity","Opacity","=","5"]},{"type":{"value":"SetBooleanVariable"},"parameters":["descend","False",""]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"RepeatEveryXSeconds::Repeat"},"parameters":["","\"text-ascend\"",".1",""]},{"type":{"value":"BooleanVariable"},"parameters":["descend","False",""]}],"actions":[{"type":{"value":"OpacityCapability::OpacityBehavior::SetValue"},"parameters":["opacity","Opacity","+","15"]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"RepeatEveryXSeconds::Repeat"},"parameters":["","\"text-descend\"",".1",""]},{"type":{"value":"BooleanVariable"},"parameters":["descend","True",""]}],"actions":[{"type":{"value":"OpacityCapability::OpacityBehavior::SetValue"},"parameters":["opacity","Opacity","-","5"]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"OpacityCapability::OpacityBehavior::Value"},"parameters":["opacity","Opacity",">=","255"]},{"type":{"value":"BuiltinCommonInstructions::Once"},"parameters":[]}],"actions":[{"type":{"value":"Wait"},"parameters":["1"]},{"type":{"value":"SetBooleanVariable"},"parameters":["descend","True",""]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"RepeatEveryXSeconds::Repeat"},"parameters":["","\"support\"","1",""]}],"actions":[{"type":{"value":"SetBooleanVariable"},"parameters":["supportToggle","Toggle",""]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"BooleanVariable"},"parameters":["supportToggle","True",""]},{"type":{"value":"BuiltinCommonInstructions::Once"},"parameters":[]}],"actions":[{"type":{"value":"MettreX"},"parameters":["RightArrow","=","491"]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"BooleanVariable"},"parameters":["supportToggle","False",""]},{"type":{"value":"BuiltinCommonInstructions::Once"},"parameters":[]}],"actions":[{"type":{"value":"MettreX"},"parameters":["RightArrow","=","471"]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"ButtonStates::ButtonFSM::IsClicked"},"parameters":["ko_fi","ButtonFSM",""]},{"type":{"value":"BuiltinCommonInstructions::Once"},"parameters":[]}],"actions":[{"type":{"value":"LaunchFile"},"parameters":["\"https://ko-fi.com/gamercave\"",""]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"BooleanVariable"},"parameters":["descend","True",""]},{"type":{"value":"OpacityCapability::OpacityBehavior::Value"},"parameters":["opacity","Opacity","=","0"]}],"actions":[{"type":{"value":"Quit"},"parameters":[""]}]}],"layers":[{"ambientLightColorB":200,"ambientLightColorG":200,"ambientLightColorR":200,"camera3DFarPlaneDistance":10000.0,"camera3DFieldOfView":45.0,"camera3DNearPlaneDistance":3.0,"cameraType":"","followBaseLayerCamera":false,"isLightingLayer":false,"isLocked":false,"name":"","renderingType":"","visibility":true,"cameras":[{"defaultSize":true,"defaultViewport":true,"height":0.0,"viewportBottom":1.0,"viewportLeft":0.0,"viewportRight":1.0,"viewportTop":0.0,"width":0.0}],"effects":[{"effectType":"Scene3D::HemisphereLight","name":"3D Light","doubleParameters":{"elevation":45.0,"intensity":1.0,"rotation":0.0},"stringParameters":{"groundColor":"64;64;64","skyColor":"255;255;255","top":"Y-"},"booleanParameters":{}}]}],"behaviorsSharedData":[{"name":"Animation","type":"AnimatableCapability::AnimatableBehavior"},{"name":"ButtonFSM","type":"ButtonStates::ButtonFSM"},{"name":"Effect","type":"EffectCapability::EffectBehavior"},{"name":"Flippable","type":"FlippableCapability::FlippableBehavior"},{"name":"Opacity","type":"OpacityCapability::OpacityBehavior"},{"name":"Resizable","type":"ResizableCapability::ResizableBehavior"},{"name":"Scale","type":"ScalableCapability::ScalableBehavior"},{"name":"Text","type":"TextContainerCapability::TextContainerBehavior"}]}],"externalEvents":[],"eventsFunctionsExtensions":[{"author":"","category":"User interface","extensionNamespace":"","fullName":"Button states and effects","helpPath":"/objects/button","iconUrl":"data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiPz48IURPQ1RZUEUgc3ZnIFBVQkxJQyAiLS8vVzNDLy9EVEQgU1ZHIDEuMS8vRU4iICJodHRwOi8vd3d3LnczLm9yZy9HcmFwaGljcy9TVkcvMS4xL0RURC9zdmcxMS5kdGQiPjxzdmcgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayIgdmVyc2lvbj0iMS4xIiBpZD0ibWRpLWdlc3R1cmUtdGFwLWJ1dHRvbiIgd2lkdGg9IjI0IiBoZWlnaHQ9IjI0IiB2aWV3Qm94PSIwIDAgMjQgMjQiPjxwYXRoIGQ9Ik0xMyA1QzE1LjIxIDUgMTcgNi43OSAxNyA5QzE3IDEwLjUgMTYuMiAxMS43NyAxNSAxMi40NlYxMS4yNEMxNS42MSAxMC42OSAxNiA5Ljg5IDE2IDlDMTYgNy4zNCAxNC42NiA2IDEzIDZTMTAgNy4zNCAxMCA5QzEwIDkuODkgMTAuMzkgMTAuNjkgMTEgMTEuMjRWMTIuNDZDOS44IDExLjc3IDkgMTAuNSA5IDlDOSA2Ljc5IDEwLjc5IDUgMTMgNU0yMCAyMC41QzE5Ljk3IDIxLjMyIDE5LjMyIDIxLjk3IDE4LjUgMjJIMTNDMTIuNjIgMjIgMTIuMjYgMjEuODUgMTIgMjEuNTdMOCAxNy4zN0w4Ljc0IDE2LjZDOC45MyAxNi4zOSA5LjIgMTYuMjggOS41IDE2LjI4SDkuN0wxMiAxOFY5QzEyIDguNDUgMTIuNDUgOCAxMyA4UzE0IDguNDUgMTQgOVYxMy40N0wxNS4yMSAxMy42TDE5LjE1IDE1Ljc5QzE5LjY4IDE2LjAzIDIwIDE2LjU2IDIwIDE3LjE0VjIwLjVNMjAgMkg0QzIuOSAyIDIgMi45IDIgNFYxMkMyIDEzLjExIDIuOSAxNCA0IDE0SDhWMTJMNCAxMkw0IDRIMjBMMjAgMTJIMThWMTRIMjBWMTMuOTZMMjAuMDQgMTRDMjEuMTMgMTQgMjIgMTMuMDkgMjIgMTJWNEMyMiAyLjkgMjEuMTEgMiAyMCAyWiIgLz48L3N2Zz4=","name":"ButtonStates","previewIconUrl":"https://asset-resources.gdevelop.io/public-resources/Icons/753a9a794bd885058159b7509f06f5a8f67f72decfccb9a1b0efee26f41c3c4c_gesture-tap-button.svg","shortDescription":"Use any object as a button and change appearance according to user interactions.","version":"1.1.1","description":["Use the \"Button states\" behavior to track user interactions with an object, including:","","- Hovered","- Pressed","- Clicked","- Idle","","Add additional behaviors to make juicy buttons with animated responses to user input:","","- Size","- Color","- Animation","- Object effects"],"origin":{"identifier":"ButtonStates","name":"gdevelop-extension-store"},"tags":["ui","button"],"authorIds":["IWykYNRvhCZBN3vEgKEbBPOR3Oc2","gqDaZjCfevOOxBYkK6zlhtZnXCg1"],"dependencies":[],"globalVariables":[],"sceneVariables":[],"eventsFunctions":[],"eventsBasedBehaviors":[{"description":"Use objects as buttons.","fullName":"Button states","name":"ButtonFSM","objectType":"","eventsFunctions":[{"fullName":"","functionType":"Action","name":"doStepPostEvents","sentence":"","events":[{"colorB":228,"colorG":176,"colorR":74,"creationTime":0,"name":"Finite state machine","source":"","type":"BuiltinCommonInstructions::Group","events":[{"type":"BuiltinCommonInstructions::Comment","color":{"b":109,"g":230,"r":255,"textB":0,"textG":0,"textR":0},"comment":"The \"Validated\" state only last one frame."},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"ButtonStates::ButtonFSM::PropertyState"},"parameters":["Object","Behavior","=","\"Validated\""]}],"actions":[{"type":{"value":"ButtonStates::ButtonFSM::SetPropertyState"},"parameters":["Object","Behavior","=","\"Idle\""]}]},{"colorB":228,"colorG":176,"colorR":74,"creationTime":0,"name":"Check position","source":"","type":"BuiltinCommonInstructions::Group","events":[{"type":"BuiltinCommonInstructions::Comment","color":{"b":109,"g":230,"r":255,"textB":0,"textG":0,"textR":0},"comment":"Make sure the cursor position is only checked once per frame."},{"type":"BuiltinCommonInstructions::Standard","conditions":[],"actions":[{"type":{"value":"ButtonStates::ButtonFSM::SetPropertyMouseIsInside"},"parameters":["Object","Behavior","no"]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"ButtonStates::ButtonFSM::PropertyShouldCheckHovering"},"parameters":["Object","Behavior"]},{"type":{"value":"CollisionPoint"},"parameters":["Object","MouseOnlyCursorX(Object.Layer(), 0)","MouseOnlyCursorY(Object.Layer(), 0)"]}],"actions":[{"type":{"value":"ButtonStates::ButtonFSM::SetPropertyMouseIsInside"},"parameters":["Object","Behavior","yes"]}]},{"type":"BuiltinCommonInstructions::Comment","color":{"b":109,"g":230,"r":255,"textB":0,"textG":0,"textR":0},"comment":"Touches are always pressed, so ShouldCheckHovering doesn't matter."},{"type":"BuiltinCommonInstructions::Standard","conditions":[],"actions":[{"type":{"value":"ButtonStates::ButtonFSM::SetPropertyTouchIsInside"},"parameters":["Object","Behavior","no"]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"ButtonStates::ButtonFSM::PropertyTouchId"},"parameters":["Object","Behavior","!=","0"]},{"type":{"value":"CollisionPoint"},"parameters":["Object","TouchX(TouchId, Object.Layer(), 0)","TouchY(TouchId, Object.Layer(), 0)"]}],"actions":[{"type":{"value":"ButtonStates::ButtonFSM::SetPropertyTouchIsInside"},"parameters":["Object","Behavior","yes"]}]}],"parameters":[]},{"colorB":228,"colorG":176,"colorR":74,"creationTime":0,"name":"Handle touch start","source":"","type":"BuiltinCommonInstructions::Group","events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"HasAnyTouchOrMouseStarted"},"parameters":[""]}],"actions":[{"type":{"value":"ButtonStates::ButtonFSM::SetPropertyIndex"},"parameters":["Object","Behavior","=","0"]}],"events":[{"type":"BuiltinCommonInstructions::Repeat","repeatExpression":"StartedTouchOrMouseCount()","conditions":[],"actions":[],"events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"CollisionPoint"},"parameters":["Object","TouchX(StartedTouchOrMouseId(Index), Object.Layer(), 0)","TouchY(StartedTouchOrMouseId(Index), Object.Layer(), 0)"]}],"actions":[{"type":{"value":"ButtonStates::ButtonFSM::SetPropertyTouchId"},"parameters":["Object","Behavior","=","StartedTouchOrMouseId(Index)"]},{"type":{"value":"ButtonStates::ButtonFSM::SetPropertyTouchIsInside"},"parameters":["Object","Behavior","yes"]}],"events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"BuiltinCommonInstructions::Or"},"parameters":[],"subInstructions":[{"type":{"value":"ButtonStates::ButtonFSM::PropertyState"},"parameters":["Object","Behavior","=","\"Hovered\""]},{"type":{"value":"ButtonStates::ButtonFSM::PropertyState"},"parameters":["Object","Behavior","=","\"Idle\""]}]}],"actions":[{"type":{"value":"ButtonStates::ButtonFSM::SetPropertyState"},"parameters":["Object","Behavior","=","\"PressedInside\""]}]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[],"actions":[{"type":{"value":"ButtonStates::ButtonFSM::SetPropertyIndex"},"parameters":["Object","Behavior","+","1"]}]}]}]}],"parameters":[]},{"colorB":228,"colorG":176,"colorR":74,"creationTime":0,"name":"Apply position changes","source":"","type":"BuiltinCommonInstructions::Group","events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"inverted":true,"value":"ButtonStates::ButtonFSM::PropertyMouseIsInside"},"parameters":["Object","Behavior"]},{"type":{"value":"ButtonStates::ButtonFSM::PropertyState"},"parameters":["Object","Behavior","=","\"Hovered\""]}],"actions":[{"type":{"value":"ButtonStates::ButtonFSM::SetPropertyState"},"parameters":["Object","Behavior","=","\"Idle\""]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"ButtonStates::ButtonFSM::PropertyMouseIsInside"},"parameters":["Object","Behavior"]},{"type":{"value":"ButtonStates::ButtonFSM::PropertyState"},"parameters":["Object","Behavior","=","\"Idle\""]}],"actions":[{"type":{"value":"ButtonStates::ButtonFSM::SetPropertyState"},"parameters":["Object","Behavior","=","\"Hovered\""]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"inverted":true,"value":"ButtonStates::ButtonFSM::PropertyTouchIsInside"},"parameters":["Object","Behavior"]},{"type":{"value":"ButtonStates::ButtonFSM::PropertyState"},"parameters":["Object","Behavior","=","\"PressedInside\""]}],"actions":[{"type":{"value":"ButtonStates::ButtonFSM::SetPropertyState"},"parameters":["Object","Behavior","=","\"PressedOutside\""]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"ButtonStates::ButtonFSM::PropertyTouchIsInside"},"parameters":["Object","Behavior"]},{"type":{"value":"ButtonStates::ButtonFSM::PropertyState"},"parameters":["Object","Behavior","=","\"PressedOutside\""]}],"actions":[{"type":{"value":"ButtonStates::ButtonFSM::SetPropertyState"},"parameters":["Object","Behavior","=","\"PressedInside\""]}]}],"parameters":[]},{"colorB":228,"colorG":176,"colorR":74,"creationTime":0,"name":"Handle touch end","source":"","type":"BuiltinCommonInstructions::Group","events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"HasTouchEnded"},"parameters":["","TouchId"]}],"actions":[{"type":{"value":"ButtonStates::ButtonFSM::SetPropertyTouchId"},"parameters":["Object","Behavior","=","0"]}],"events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"ButtonStates::ButtonFSM::PropertyState"},"parameters":["Object","Behavior","=","\"PressedInside\""]}],"actions":[{"type":{"value":"ButtonStates::ButtonFSM::SetPropertyState"},"parameters":["Object","Behavior","=","\"Validated\""]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"inverted":true,"value":"ButtonStates::ButtonFSM::PropertyState"},"parameters":["Object","Behavior","=","\"PressedInside\""]},{"type":{"inverted":true,"value":"ButtonStates::ButtonFSM::PropertyState"},"parameters":["Object","Behavior","=","\"Validated\""]}],"actions":[{"type":{"value":"ButtonStates::ButtonFSM::SetPropertyState"},"parameters":["Object","Behavior","=","\"Idle\""]}]}]}],"parameters":[]}],"parameters":[]}],"parameters":[{"description":"Object","name":"Object","type":"object"},{"description":"Behavior","name":"Behavior","supplementaryInformation":"ButtonStates::ButtonFSM","type":"behavior"}],"objectGroups":[]},{"fullName":"","functionType":"Action","name":"onDeActivate","sentence":"","events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[],"actions":[{"type":{"value":"ButtonStates::ButtonFSM::ResetState"},"parameters":["Object","Behavior",""]}]}],"parameters":[{"description":"Object","name":"Object","type":"object"},{"description":"Behavior","name":"Behavior","supplementaryInformation":"ButtonStates::ButtonFSM","type":"behavior"}],"objectGroups":[]},{"description":"Reset the state of the button.","fullName":"Reset state","functionType":"Action","name":"ResetState","private":true,"sentence":"Reset the button state of _PARAM0_","events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[],"actions":[{"type":{"value":"ButtonStates::ButtonFSM::SetPropertyState"},"parameters":["Object","Behavior","=","\"Idle\""]},{"type":{"value":"ButtonStates::ButtonFSM::SetPropertyTouchId"},"parameters":["Object","Behavior","=","0"]}]}],"parameters":[{"description":"Object","name":"Object","type":"object"},{"description":"Behavior","name":"Behavior","supplementaryInformation":"ButtonStates::ButtonFSM","type":"behavior"}],"objectGroups":[]},{"description":"Check if the button is not used.","fullName":"Is idle","functionType":"Condition","name":"IsIdle","sentence":"_PARAM0_ is idle","events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"ButtonStates::ButtonFSM::PropertyState"},"parameters":["Object","Behavior","=","\"Idle\""]}],"actions":[{"type":{"value":"SetReturnBoolean"},"parameters":["True"]}]}],"parameters":[{"description":"Object","name":"Object","type":"object"},{"description":"Behavior","name":"Behavior","supplementaryInformation":"ButtonStates::ButtonFSM","type":"behavior"}],"objectGroups":[]},{"description":"Check if the button was just clicked.","fullName":"Is clicked","functionType":"Condition","name":"IsClicked","sentence":"_PARAM0_ is clicked","events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"ButtonStates::ButtonFSM::PropertyState"},"parameters":["Object","Behavior","=","\"Validated\""]}],"actions":[{"type":{"value":"SetReturnBoolean"},"parameters":["True"]}]}],"parameters":[{"description":"Object","name":"Object","type":"object"},{"description":"Behavior","name":"Behavior","supplementaryInformation":"ButtonStates::ButtonFSM","type":"behavior"}],"objectGroups":[]},{"description":"Check if the cursor is hovered over the button.","fullName":"Is hovered","functionType":"Condition","name":"IsHovered","sentence":"_PARAM0_ is hovered","events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"ButtonStates::ButtonFSM::PropertyState"},"parameters":["Object","Behavior","=","\"Hovered\""]}],"actions":[{"type":{"value":"SetReturnBoolean"},"parameters":["True"]}]}],"parameters":[{"description":"Object","name":"Object","type":"object"},{"description":"Behavior","name":"Behavior","supplementaryInformation":"ButtonStates::ButtonFSM","type":"behavior"}],"objectGroups":[]},{"description":"Check if the button is either hovered or pressed but not hovered.","fullName":"Is focused","functionType":"Condition","name":"IsFocused","sentence":"_PARAM0_ is focused","events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"ButtonStates::ButtonFSM::PropertyState"},"parameters":["Object","Behavior","=","\"Hovered\""]}],"actions":[{"type":{"value":"SetReturnBoolean"},"parameters":["True"]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"ButtonStates::ButtonFSM::PropertyState"},"parameters":["Object","Behavior","=","\"PressedOutside\""]}],"actions":[{"type":{"value":"SetReturnBoolean"},"parameters":["True"]}]}],"parameters":[{"description":"Object","name":"Object","type":"object"},{"description":"Behavior","name":"Behavior","supplementaryInformation":"ButtonStates::ButtonFSM","type":"behavior"}],"objectGroups":[]},{"description":"Check if the button is currently being pressed with mouse or touch.","fullName":"Is pressed","functionType":"Condition","name":"IsPressed","sentence":"_PARAM0_ is pressed","events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"ButtonStates::ButtonFSM::PropertyState"},"parameters":["Object","Behavior","=","\"PressedInside\""]}],"actions":[{"type":{"value":"SetReturnBoolean"},"parameters":["True"]}]}],"parameters":[{"description":"Object","name":"Object","type":"object"},{"description":"Behavior","name":"Behavior","supplementaryInformation":"ButtonStates::ButtonFSM","type":"behavior"}],"objectGroups":[]},{"description":"Check if the button is currently being pressed outside with mouse or touch.","fullName":"Is held outside","functionType":"Condition","name":"IsPressedOutside","sentence":"_PARAM0_ is held outside","events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"ButtonStates::ButtonFSM::PropertyState"},"parameters":["Object","Behavior","=","\"PressedOutside\""]}],"actions":[{"type":{"value":"SetReturnBoolean"},"parameters":["True"]}]}],"parameters":[{"description":"Object","name":"Object","type":"object"},{"description":"Behavior","name":"Behavior","supplementaryInformation":"ButtonStates::ButtonFSM","type":"behavior"}],"objectGroups":[]},{"description":"the touch id that is using the button or 0 if none.","fullName":"Touch id","functionType":"ExpressionAndCondition","name":"TouchId","sentence":"the touch id","events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[],"actions":[{"type":{"value":"SetReturnNumber"},"parameters":["TouchId"]}]}],"expressionType":{"type":"expression"},"parameters":[{"description":"Object","name":"Object","type":"object"},{"description":"Behavior","name":"Behavior","supplementaryInformation":"ButtonStates::ButtonFSM","type":"behavior"}],"objectGroups":[]}],"propertyDescriptors":[{"value":"true","type":"Boolean","label":"","description":"Should check hovering","group":"","extraInformation":[],"hidden":true,"name":"ShouldCheckHovering"},{"value":"Idle","type":"Choice","label":"State","description":"","group":"","extraInformation":["Idle","Hovered","PressedInside","PressedOutside","Validated"],"hidden":true,"name":"State"},{"value":"0","type":"Number","label":"Touch id","description":"","group":"","extraInformation":[],"hidden":true,"name":"TouchId"},{"value":"","type":"Boolean","label":"Touch is inside","description":"","group":"","extraInformation":[],"hidden":true,"name":"TouchIsInside"},{"value":"","type":"Boolean","label":"Mouse is inside","description":"","group":"","extraInformation":[],"hidden":true,"name":"MouseIsInside"},{"value":"","type":"Number","label":"","description":"","group":"","extraInformation":[],"hidden":true,"name":"Index"}],"sharedPropertyDescriptors":[]},{"description":"Enable effects on buttons based on their state.","fullName":"Button object effects","name":"ButtonObjectEffects","objectType":"","eventsFunctions":[{"fullName":"","functionType":"Action","name":"onCreated","sentence":"","events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[],"actions":[{"type":{"value":"EffectCapability::EffectBehavior::EnableEffect"},"parameters":["Object","Effect","IdleEffect","yes"]},{"type":{"value":"EffectCapability::EffectBehavior::EnableEffect"},"parameters":["Object","Effect","FocusedEffect","no"]},{"type":{"value":"EffectCapability::EffectBehavior::EnableEffect"},"parameters":["Object","Effect","PressedEffect","no"]}]}],"parameters":[{"description":"Object","name":"Object","type":"object"},{"description":"Behavior","name":"Behavior","supplementaryInformation":"ButtonStates::ButtonObjectEffects","type":"behavior"}],"objectGroups":[]},{"fullName":"","functionType":"Action","name":"doStepPreEvents","sentence":"","events":[{"colorB":228,"colorG":176,"colorR":74,"creationTime":0,"name":"States","source":"","type":"BuiltinCommonInstructions::Group","events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[],"actions":[{"type":{"value":"EffectCapability::EffectBehavior::EnableEffect"},"parameters":["Object","Effect","IdleEffect","no"]},{"type":{"value":"EffectCapability::EffectBehavior::EnableEffect"},"parameters":["Object","Effect","FocusedEffect","no"]},{"type":{"value":"EffectCapability::EffectBehavior::EnableEffect"},"parameters":["Object","Effect","PressedEffect","no"]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"ButtonStates::ButtonObjectEffects::PropertyIdleEffect"},"parameters":["Object","Behavior","!=","\"\""]},{"type":{"value":"ButtonStates::ButtonFSM::IsIdle"},"parameters":["Object","ButtonFSM",""]}],"actions":[{"type":{"value":"EffectCapability::EffectBehavior::EnableEffect"},"parameters":["Object","Effect","IdleEffect","yes"]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"ButtonStates::ButtonObjectEffects::PropertyFocusedEffect"},"parameters":["Object","Behavior","!=","\"\""]},{"type":{"value":"ButtonStates::ButtonFSM::IsFocused"},"parameters":["Object","ButtonFSM",""]}],"actions":[{"type":{"value":"EffectCapability::EffectBehavior::EnableEffect"},"parameters":["Object","Effect","FocusedEffect","yes"]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"ButtonStates::ButtonObjectEffects::PropertyPressedEffect"},"parameters":["Object","Behavior","!=","\"\""]},{"type":{"value":"ButtonStates::ButtonFSM::IsPressed"},"parameters":["Object","ButtonFSM",""]}],"actions":[{"type":{"value":"EffectCapability::EffectBehavior::EnableEffect"},"parameters":["Object","Effect","PressedEffect","yes"]}]}],"parameters":[]}],"parameters":[{"description":"Object","name":"Object","type":"object"},{"description":"Behavior","name":"Behavior","supplementaryInformation":"ButtonStates::ButtonObjectEffects","type":"behavior"}],"objectGroups":[]},{"description":"the idle state effect of the object.","fullName":"Idle state effect","functionType":"ExpressionAndCondition","group":"Button object effects configuration","name":"IdleEffect","sentence":"the idle state effect","events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[],"actions":[{"type":{"value":"SetReturnString"},"parameters":["IdleEffect"]}]}],"expressionType":{"type":"string"},"parameters":[{"description":"Object","name":"Object","type":"object"},{"description":"Behavior","name":"Behavior","supplementaryInformation":"ButtonStates::ButtonObjectEffects","type":"behavior"}],"objectGroups":[]},{"fullName":"","functionType":"ActionWithOperator","getterName":"IdleEffect","name":"SetIdleEffect","sentence":"","events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[],"actions":[{"type":{"value":"ButtonStates::ButtonObjectEffects::SetPropertyIdleEffect"},"parameters":["Object","Behavior","=","Value"]}]}],"parameters":[{"description":"Object","name":"Object","type":"object"},{"description":"Behavior","name":"Behavior","supplementaryInformation":"ButtonStates::ButtonObjectEffects","type":"behavior"}],"objectGroups":[]},{"description":"the focused state effect of the object. The state is Focused when the button is hovered or held outside.","fullName":"Focused state effect","functionType":"ExpressionAndCondition","group":"Button object effects configuration","name":"FocusedEffect","sentence":"the focused state effect","events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[],"actions":[{"type":{"value":"SetReturnString"},"parameters":["FocusedEffect"]}]}],"expressionType":{"type":"string"},"parameters":[{"description":"Object","name":"Object","type":"object"},{"description":"Behavior","name":"Behavior","supplementaryInformation":"ButtonStates::ButtonObjectEffects","type":"behavior"}],"objectGroups":[]},{"fullName":"","functionType":"ActionWithOperator","getterName":"FocusedEffect","name":"SetFocusedEffect","sentence":"","events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[],"actions":[{"type":{"value":"ButtonStates::ButtonObjectEffects::SetPropertyFocusedEffect"},"parameters":["Object","Behavior","=","Value"]}]}],"parameters":[{"description":"Object","name":"Object","type":"object"},{"description":"Behavior","name":"Behavior","supplementaryInformation":"ButtonStates::ButtonObjectEffects","type":"behavior"}],"objectGroups":[]},{"description":"the pressed state effect of the object.","fullName":"Pressed state effect","functionType":"ExpressionAndCondition","group":"Button object effects configuration","name":"PressedEffect","sentence":"the pressed state effect","events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[],"actions":[{"type":{"value":"SetReturnString"},"parameters":["PressedEffect"]}]}],"expressionType":{"type":"string"},"parameters":[{"description":"Object","name":"Object","type":"object"},{"description":"Behavior","name":"Behavior","supplementaryInformation":"ButtonStates::ButtonObjectEffects","type":"behavior"}],"objectGroups":[]},{"fullName":"","functionType":"ActionWithOperator","getterName":"PressedEffect","name":"SetPressedEffect","sentence":"","events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[],"actions":[{"type":{"value":"ButtonStates::ButtonObjectEffects::SetPropertyPressedEffect"},"parameters":["Object","Behavior","=","Value"]}]}],"parameters":[{"description":"Object","name":"Object","type":"object"},{"description":"Behavior","name":"Behavior","supplementaryInformation":"ButtonStates::ButtonObjectEffects","type":"behavior"}],"objectGroups":[]}],"propertyDescriptors":[{"value":"","type":"Behavior","label":"Button states","description":"","group":"","extraInformation":["ButtonStates::ButtonFSM"],"name":"ButtonFSM"},{"value":"","type":"Behavior","label":"Effect capability","description":"","group":"","extraInformation":["EffectCapability::EffectBehavior"],"name":"Effect"},{"value":"","type":"String","label":"Idle state effect","description":"","group":"Effects","extraInformation":[],"name":"IdleEffect"},{"value":"","type":"String","label":"Focused state effect","description":"The state is Focused when the button is hovered or held outside.","group":"Effects","extraInformation":[],"name":"FocusedEffect"},{"value":"","type":"String","label":"Pressed state effect","description":"","group":"Effects","extraInformation":[],"name":"PressedEffect"}],"sharedPropertyDescriptors":[]},{"description":"Change the animation of buttons according to their state.","fullName":"Button animation","name":"ButtonAnimationName","objectType":"","eventsFunctions":[{"fullName":"","functionType":"Action","name":"onCreated","sentence":"","events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[],"actions":[{"type":{"value":"AnimatableCapability::AnimatableBehavior::SetName"},"parameters":["Object","Animation","=","IdleAnimationName"]}]}],"parameters":[{"description":"Object","name":"Object","type":"object"},{"description":"Behavior","name":"Behavior","supplementaryInformation":"ButtonStates::ButtonAnimationName","type":"behavior"}],"objectGroups":[]},{"fullName":"","functionType":"Action","name":"doStepPreEvents","sentence":"","events":[{"colorB":228,"colorG":176,"colorR":74,"creationTime":0,"name":"Change based on state","source":"","type":"BuiltinCommonInstructions::Group","events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"ButtonStates::ButtonFSM::IsIdle"},"parameters":["Object","ButtonFSM",""]}],"actions":[{"type":{"value":"AnimatableCapability::AnimatableBehavior::SetName"},"parameters":["Object","Animation","=","IdleAnimationName"]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"ButtonStates::ButtonFSM::IsFocused"},"parameters":["Object","ButtonFSM",""]}],"actions":[{"type":{"value":"AnimatableCapability::AnimatableBehavior::SetName"},"parameters":["Object","Animation","=","FocusedAnimationName"]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"ButtonStates::ButtonFSM::IsPressed"},"parameters":["Object","ButtonFSM",""]}],"actions":[{"type":{"value":"AnimatableCapability::AnimatableBehavior::SetName"},"parameters":["Object","Animation","=","PressedAnimationName"]}]}],"parameters":[]}],"parameters":[{"description":"Object","name":"Object","type":"object"},{"description":"Behavior","name":"Behavior","supplementaryInformation":"ButtonStates::ButtonAnimationName","type":"behavior"}],"objectGroups":[]},{"description":"the idle state animation name of the object.","fullName":"Idle state animation name","functionType":"ExpressionAndCondition","group":"Button animation configuration","name":"IdleAnimationName","sentence":"the idle state animation name","events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[],"actions":[{"type":{"value":"SetReturnString"},"parameters":["IdleAnimationName"]}]}],"expressionType":{"type":"string"},"parameters":[{"description":"Object","name":"Object","type":"object"},{"description":"Behavior","name":"Behavior","supplementaryInformation":"ButtonStates::ButtonAnimationName","type":"behavior"}],"objectGroups":[]},{"fullName":"","functionType":"ActionWithOperator","getterName":"IdleAnimationName","name":"SetIdleAnimationName","sentence":"","events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[],"actions":[{"type":{"value":"ButtonStates::ButtonAnimationName::SetPropertyIdleAnimationName"},"parameters":["Object","Behavior","=","Value"]}]}],"parameters":[{"description":"Object","name":"Object","type":"object"},{"description":"Behavior","name":"Behavior","supplementaryInformation":"ButtonStates::ButtonAnimationName","type":"behavior"}],"objectGroups":[]},{"description":"the focused state animation name of the object. The state is Focused when the button is hovered or held outside.","fullName":"Focused state animation name","functionType":"ExpressionAndCondition","group":"Button animation configuration","name":"FocusedAnimationName","sentence":"the focused state animation name","events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[],"actions":[{"type":{"value":"SetReturnString"},"parameters":["FocusedAnimationName"]}]}],"expressionType":{"type":"string"},"parameters":[{"description":"Object","name":"Object","type":"object"},{"description":"Behavior","name":"Behavior","supplementaryInformation":"ButtonStates::ButtonAnimationName","type":"behavior"}],"objectGroups":[]},{"fullName":"","functionType":"ActionWithOperator","getterName":"FocusedAnimationName","name":"SetFocusedAnimationName","sentence":"","events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[],"actions":[{"type":{"value":"ButtonStates::ButtonAnimationName::SetPropertyFocusedAnimationName"},"parameters":["Object","Behavior","=","Value"]}]}],"parameters":[{"description":"Object","name":"Object","type":"object"},{"description":"Behavior","name":"Behavior","supplementaryInformation":"ButtonStates::ButtonAnimationName","type":"behavior"}],"objectGroups":[]},{"description":"the pressed state animation name of the object.","fullName":"Pressed state animation name","functionType":"ExpressionAndCondition","group":"Button animation configuration","name":"PressedAnimationName","sentence":"the pressed state animation name","events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[],"actions":[{"type":{"value":"SetReturnString"},"parameters":["PressedAnimationName"]}]}],"expressionType":{"type":"string"},"parameters":[{"description":"Object","name":"Object","type":"object"},{"description":"Behavior","name":"Behavior","supplementaryInformation":"ButtonStates::ButtonAnimationName","type":"behavior"}],"objectGroups":[]},{"fullName":"","functionType":"ActionWithOperator","getterName":"PressedAnimationName","name":"SetPressedAnimationName","sentence":"","events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[],"actions":[{"type":{"value":"ButtonStates::ButtonAnimationName::SetPropertyPressedAnimationName"},"parameters":["Object","Behavior","=","Value"]}]}],"parameters":[{"description":"Object","name":"Object","type":"object"},{"description":"Behavior","name":"Behavior","supplementaryInformation":"ButtonStates::ButtonAnimationName","type":"behavior"}],"objectGroups":[]}],"propertyDescriptors":[{"value":"","type":"Behavior","label":"Animatable capability","description":"","group":"","extraInformation":["AnimatableCapability::AnimatableBehavior"],"name":"Animation"},{"value":"","type":"Behavior","label":"Button states","description":"","group":"","extraInformation":["ButtonStates::ButtonFSM"],"name":"ButtonFSM"},{"value":"Idle","type":"String","label":"Idle state animation name","description":"","group":"Animation","extraInformation":[],"name":"IdleAnimationName"},{"value":"Focused","type":"String","label":"Focused state animation name","description":"The state is Focused when the button is hovered or held outside.","group":"Animation","extraInformation":[],"name":"FocusedAnimationName"},{"value":"Pressed","type":"String","label":"Pressed state animation name","description":"","group":"Animation","extraInformation":[],"name":"PressedAnimationName"}],"sharedPropertyDescriptors":[]},{"description":"Smoothly change an effect on buttons according to their state.","fullName":"Button object effect tween","name":"ButtonObjectEffectTween","objectType":"","eventsFunctions":[{"fullName":"","functionType":"Action","name":"onCreated","sentence":"","events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[],"actions":[{"type":{"value":"ButtonStates::ButtonObjectEffectTween::SetPropertyEffectValue"},"parameters":["Object","Behavior","=","IdleValue"]}]}],"parameters":[{"description":"Object","name":"Object","type":"object"},{"description":"Behavior","name":"Behavior","supplementaryInformation":"ButtonStates::ButtonObjectEffectTween","type":"behavior"}],"objectGroups":[]},{"fullName":"","functionType":"Action","name":"doStepPreEvents","sentence":"","events":[{"colorB":228,"colorG":176,"colorR":74,"creationTime":0,"name":"States","source":"","type":"BuiltinCommonInstructions::Group","events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"ButtonStates::ButtonFSM::IsIdle"},"parameters":["Object","ButtonFSM",""]},{"type":{"value":"ButtonStates::ButtonObjectEffectTween::PropertyPreviousState"},"parameters":["Object","Behavior","!=","\"Idle\""]}],"actions":[{"type":{"value":"ButtonStates::ButtonObjectEffectTween::SetPropertyPreviousState"},"parameters":["Object","Behavior","=","\"Idle\""]},{"type":{"value":"ButtonStates::ButtonObjectEffectTween::FadeOut"},"parameters":["Object","Behavior","IdleValue",""]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"ButtonStates::ButtonFSM::IsFocused"},"parameters":["Object","ButtonFSM",""]}],"actions":[],"events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"ButtonStates::ButtonObjectEffectTween::PropertyPreviousState"},"parameters":["Object","Behavior","=","\"Idle\""]}],"actions":[{"type":{"value":"ButtonStates::ButtonObjectEffectTween::SetPropertyPreviousState"},"parameters":["Object","Behavior","=","\"Focused\""]},{"type":{"value":"ButtonStates::ButtonObjectEffectTween::FadeIn"},"parameters":["Object","Behavior","FocusedValue",""]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"ButtonStates::ButtonObjectEffectTween::PropertyPreviousState"},"parameters":["Object","Behavior","=","\"Pressed\""]}],"actions":[{"type":{"value":"ButtonStates::ButtonObjectEffectTween::SetPropertyPreviousState"},"parameters":["Object","Behavior","=","\"Focused\""]},{"type":{"value":"ButtonStates::ButtonObjectEffectTween::FadeOut"},"parameters":["Object","Behavior","FocusedValue",""]}]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"ButtonStates::ButtonFSM::IsPressed"},"parameters":["Object","ButtonFSM",""]},{"type":{"value":"ButtonStates::ButtonObjectEffectTween::PropertyPreviousState"},"parameters":["Object","Behavior","!=","\"Pressed\""]}],"actions":[{"type":{"value":"ButtonStates::ButtonObjectEffectTween::SetPropertyPreviousState"},"parameters":["Object","Behavior","=","\"Pressed\""]},{"type":{"value":"ButtonStates::ButtonObjectEffectTween::FadeIn"},"parameters":["Object","Behavior","PressedValue",""]}]}],"parameters":[]},{"colorB":228,"colorG":176,"colorR":74,"creationTime":0,"name":"Tween","source":"","type":"BuiltinCommonInstructions::Group","events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"ButtonStates::ButtonObjectEffectTween::PropertyTweenState"},"parameters":["Object","Behavior","=","\"FadeIn\""]}],"actions":[{"type":{"value":"ButtonStates::ButtonObjectEffectTween::PlayTween"},"parameters":["Object","Behavior","FadeInDuration","FadeInEasing",""]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"ButtonStates::ButtonObjectEffectTween::PropertyTweenState"},"parameters":["Object","Behavior","=","\"FadeOut\""]}],"actions":[{"type":{"value":"ButtonStates::ButtonObjectEffectTween::PlayTween"},"parameters":["Object","Behavior","FadeOutDuration","FadeOutEasing",""]}]}],"parameters":[]}],"parameters":[{"description":"Object","name":"Object","type":"object"},{"description":"Behavior","name":"Behavior","supplementaryInformation":"ButtonStates::ButtonObjectEffectTween","type":"behavior"}],"objectGroups":[]},{"fullName":"Time delta","functionType":"Expression","name":"TimeDelta","private":true,"sentence":"","events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[],"actions":[{"type":{"value":"SetReturnNumber"},"parameters":["TimeDelta() * LayerTimeScale(Object.Layer())"]}]}],"expressionType":{"type":"expression"},"parameters":[{"description":"Object","name":"Object","type":"object"},{"description":"Behavior","name":"Behavior","supplementaryInformation":"ButtonStates::ButtonObjectEffectTween","type":"behavior"}],"objectGroups":[]},{"fullName":"Fade in","functionType":"Action","name":"FadeIn","private":true,"sentence":"_PARAM0_ fade in to _PARAM2_","events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[],"actions":[{"type":{"value":"ButtonStates::ButtonObjectEffectTween::SetPropertyTweenTime"},"parameters":["Object","Behavior","=","0"]},{"type":{"value":"ButtonStates::ButtonObjectEffectTween::SetPropertyTweenState"},"parameters":["Object","Behavior","=","\"FadeIn\""]},{"type":{"value":"ButtonStates::ButtonObjectEffectTween::SetPropertyTweenInitialValue"},"parameters":["Object","Behavior","=","EffectValue"]},{"type":{"value":"ButtonStates::ButtonObjectEffectTween::SetPropertyTweenTargetedValue"},"parameters":["Object","Behavior","=","Value"]}]}],"parameters":[{"description":"Object","name":"Object","type":"object"},{"description":"Behavior","name":"Behavior","supplementaryInformation":"ButtonStates::ButtonObjectEffectTween","type":"behavior"},{"description":"Value","name":"Value","type":"expression"}],"objectGroups":[]},{"fullName":"Fade out","functionType":"Action","name":"FadeOut","private":true,"sentence":"_PARAM0_ fade out to _PARAM2_","events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[],"actions":[{"type":{"value":"ButtonStates::ButtonObjectEffectTween::SetPropertyTweenTime"},"parameters":["Object","Behavior","=","0"]},{"type":{"value":"ButtonStates::ButtonObjectEffectTween::SetPropertyTweenState"},"parameters":["Object","Behavior","=","\"FadeOut\""]},{"type":{"value":"ButtonStates::ButtonObjectEffectTween::SetPropertyTweenInitialValue"},"parameters":["Object","Behavior","=","EffectValue"]},{"type":{"value":"ButtonStates::ButtonObjectEffectTween::SetPropertyTweenTargetedValue"},"parameters":["Object","Behavior","=","Value"]}]}],"parameters":[{"description":"Object","name":"Object","type":"object"},{"description":"Behavior","name":"Behavior","supplementaryInformation":"ButtonStates::ButtonObjectEffectTween","type":"behavior"},{"description":"Value","name":"Value","type":"expression"}],"objectGroups":[]},{"fullName":"Play tween","functionType":"Action","name":"PlayTween","private":true,"sentence":"Tween the effect property of object _PARAM0_ over _PARAM2_ seconds with _PARAM3_ easing","events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"ButtonStates::ButtonObjectEffectTween::PropertyTweenTime"},"parameters":["Object","Behavior","<","Duration"]}],"actions":[{"type":{"value":"ButtonStates::ButtonObjectEffectTween::SetPropertyTweenTime"},"parameters":["Object","Behavior","+","Object.Behavior::TimeDelta()"]},{"type":{"value":"ButtonStates::ButtonObjectEffectTween::SetPropertyEffectValue"},"parameters":["Object","Behavior","=","Tween::Ease(Easing, TweenInitialValue, TweenTargetedValue, TweenTime / Duration)"]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"ButtonStates::ButtonObjectEffectTween::PropertyTweenTime"},"parameters":["Object","Behavior",">=","Duration"]}],"actions":[{"type":{"value":"ButtonStates::ButtonObjectEffectTween::SetPropertyTweenState"},"parameters":["Object","Behavior","=","\"NoTween\""]},{"type":{"value":"ButtonStates::ButtonObjectEffectTween::SetPropertyEffectValue"},"parameters":["Object","Behavior","=","TweenTargetedValue"]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[],"actions":[{"type":{"value":"EffectCapability::EffectBehavior::SetEffectDoubleParameter"},"parameters":["Object","Effect","EffectName","EffectProperty","EffectValue"]}]}],"parameters":[{"description":"Object","name":"Object","type":"object"},{"description":"Behavior","name":"Behavior","supplementaryInformation":"ButtonStates::ButtonObjectEffectTween","type":"behavior"},{"description":"Duration (in seconds)","name":"Duration","type":"expression"},{"description":"Easing","name":"Easing","supplementaryInformation":"[]","type":"string"}],"objectGroups":[]},{"description":"the effect name of the object.","fullName":"Effect name","functionType":"ExpressionAndCondition","group":"Button effect tween configuration","name":"EffectName","sentence":"the effect name","events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[],"actions":[{"type":{"value":"SetReturnString"},"parameters":["EffectName"]}]}],"expressionType":{"type":"string"},"parameters":[{"description":"Object","name":"Object","type":"object"},{"description":"Behavior","name":"Behavior","supplementaryInformation":"ButtonStates::ButtonObjectEffectTween","type":"behavior"}],"objectGroups":[]},{"description":"the effect parameter of the object. The effect parameter names can be found in the effects tab with the \"Show parameter names\" action of the drop down menu.","fullName":"Effect parameter","functionType":"ExpressionAndCondition","group":"Button effect tween configuration","name":"EffectProperty","sentence":"the effect parameter","events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[],"actions":[{"type":{"value":"SetReturnString"},"parameters":["EffectProperty"]}]}],"expressionType":{"type":"string"},"parameters":[{"description":"Object","name":"Object","type":"object"},{"description":"Behavior","name":"Behavior","supplementaryInformation":"ButtonStates::ButtonObjectEffectTween","type":"behavior"}],"objectGroups":[]},{"description":"Change the effect parameter of the object. The effect parameter names can be found in the effects tab with the \"Show parameter names\" action of the drop down menu.","fullName":"Effect parameter","functionType":"Action","getterName":"EffectName","group":"Button effect tween configuration","name":"SetEffectProperty","sentence":"Change the tweened effect of _PARAM0_ to _PARAM2_ with parameter _PARAM3_","events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[],"actions":[{"type":{"value":"ButtonStates::ButtonObjectEffectTween::SetPropertyEffectName"},"parameters":["Object","Behavior","=","Value"]},{"type":{"value":"ButtonStates::ButtonObjectEffectTween::SetPropertyEffectProperty"},"parameters":["Object","Behavior","=","Value"]}]}],"parameters":[{"description":"Object","name":"Object","type":"object"},{"description":"Behavior","name":"Behavior","supplementaryInformation":"ButtonStates::ButtonObjectEffectTween","type":"behavior"},{"description":"Effect name","name":"EffectName","type":"string"},{"description":"Parameter name","name":"PropertyName","type":"string"}],"objectGroups":[]},{"description":"the idle effect parameter value of the object.","fullName":"Idle effect parameter value","functionType":"ExpressionAndCondition","group":"Button effect tween configuration","name":"IdleValue","sentence":"the idle effect parameter value","events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[],"actions":[{"type":{"value":"SetReturnNumber"},"parameters":["IdleValue"]}]}],"expressionType":{"type":"expression"},"parameters":[{"description":"Object","name":"Object","type":"object"},{"description":"Behavior","name":"Behavior","supplementaryInformation":"ButtonStates::ButtonObjectEffectTween","type":"behavior"}],"objectGroups":[]},{"fullName":"","functionType":"ActionWithOperator","getterName":"IdleValue","name":"SetIdleValue","sentence":"","events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[],"actions":[{"type":{"value":"ButtonStates::ButtonObjectEffectTween::SetPropertyIdleValue"},"parameters":["Object","Behavior","=","Value"]}]}],"parameters":[{"description":"Object","name":"Object","type":"object"},{"description":"Behavior","name":"Behavior","supplementaryInformation":"ButtonStates::ButtonObjectEffectTween","type":"behavior"}],"objectGroups":[]},{"description":"the focused effect parameter value of the object. The state is Focused when the button is hovered or held outside.","fullName":"Focused effect parameter value","functionType":"ExpressionAndCondition","group":"Button effect tween configuration","name":"FocusedValue","sentence":"the focused effect parameter value","events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[],"actions":[{"type":{"value":"SetReturnNumber"},"parameters":["FocusedValue"]}]}],"expressionType":{"type":"expression"},"parameters":[{"description":"Object","name":"Object","type":"object"},{"description":"Behavior","name":"Behavior","supplementaryInformation":"ButtonStates::ButtonObjectEffectTween","type":"behavior"}],"objectGroups":[]},{"fullName":"","functionType":"ActionWithOperator","getterName":"FocusedValue","name":"SetFocusedValue","sentence":"","events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[],"actions":[{"type":{"value":"ButtonStates::ButtonObjectEffectTween::SetPropertyFocusedValue"},"parameters":["Object","Behavior","=","Value"]}]}],"parameters":[{"description":"Object","name":"Object","type":"object"},{"description":"Behavior","name":"Behavior","supplementaryInformation":"ButtonStates::ButtonObjectEffectTween","type":"behavior"}],"objectGroups":[]},{"description":"the pressed effect parameter value of the object.","fullName":"Pressed effect parameter value","functionType":"ExpressionAndCondition","group":"Button effect tween configuration","name":"PressedValue","sentence":"the pressed effect parameter value","events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[],"actions":[{"type":{"value":"SetReturnNumber"},"parameters":["PressedValue"]}]}],"expressionType":{"type":"expression"},"parameters":[{"description":"Object","name":"Object","type":"object"},{"description":"Behavior","name":"Behavior","supplementaryInformation":"ButtonStates::ButtonObjectEffectTween","type":"behavior"}],"objectGroups":[]},{"fullName":"","functionType":"ActionWithOperator","getterName":"PressedValue","name":"SetPressedValue","sentence":"","events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[],"actions":[{"type":{"value":"ButtonStates::ButtonObjectEffectTween::SetPropertyPressedValue"},"parameters":["Object","Behavior","=","Value"]}]}],"parameters":[{"description":"Object","name":"Object","type":"object"},{"description":"Behavior","name":"Behavior","supplementaryInformation":"ButtonStates::ButtonObjectEffectTween","type":"behavior"}],"objectGroups":[]},{"description":"the fade-in easing of the object.","fullName":"Fade-in easing","functionType":"ExpressionAndCondition","group":"Button effect tween configuration","name":"FadeInEasing","sentence":"the fade-in easing","events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[],"actions":[{"type":{"value":"SetReturnString"},"parameters":["FadeInEasing"]}]}],"expressionType":{"supplementaryInformation":"[\"linear\",\"easeInQuad\",\"easeOutQuad\",\"easeInOutQuad\",\"easeInCubic\",\"easeOutCubic\",\"easeInOutCubic\",\"easeInQuart\",\"easeOutQuart\",\"easeInOutQuart\",\"easeInQuint\",\"easeOutQuint\",\"easeInOutQuint\",\"easeInOutSine\",\"easeInExpo\",\"easeOutExpo\",\"easeInOutExpo\",\"easeInCirc\",\"easeOutCirc\",\"easeInOutCirc\",\"easeOutBounce\",\"easeInBack\",\"easeOutBack\",\"easeInOutBack\",\"elastic\",\"swingFromTo\",\"swingFrom\",\"swingTo\",\"bounce\",\"bouncePast\",\"easeFromTo\",\"easeFrom\",\"easeTo\"]","type":"stringWithSelector"},"parameters":[{"description":"Object","name":"Object","type":"object"},{"description":"Behavior","name":"Behavior","supplementaryInformation":"ButtonStates::ButtonObjectEffectTween","type":"behavior"}],"objectGroups":[]},{"fullName":"","functionType":"ActionWithOperator","getterName":"FadeInEasing","name":"SetFadeInEasing","sentence":"","events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[],"actions":[{"type":{"value":"ButtonStates::ButtonObjectEffectTween::SetPropertyFadeInEasing"},"parameters":["Object","Behavior","=","Value"]}]}],"parameters":[{"description":"Object","name":"Object","type":"object"},{"description":"Behavior","name":"Behavior","supplementaryInformation":"ButtonStates::ButtonObjectEffectTween","type":"behavior"}],"objectGroups":[]},{"description":"the fade-out easing of the object.","fullName":"Fade-out easing","functionType":"ExpressionAndCondition","group":"Button effect tween configuration","name":"FadeOutEasing","sentence":"the fade-out easing","events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[],"actions":[{"type":{"value":"SetReturnString"},"parameters":["FadeOutEasing"]}]}],"expressionType":{"supplementaryInformation":"[\"linear\",\"easeInQuad\",\"easeOutQuad\",\"easeInOutQuad\",\"easeInCubic\",\"easeOutCubic\",\"easeInOutCubic\",\"easeInQuart\",\"easeOutQuart\",\"easeInOutQuart\",\"easeInQuint\",\"easeOutQuint\",\"easeInOutQuint\",\"easeInOutSine\",\"easeInExpo\",\"easeOutExpo\",\"easeInOutExpo\",\"easeInCirc\",\"easeOutCirc\",\"easeInOutCirc\",\"easeOutBounce\",\"easeInBack\",\"easeOutBack\",\"easeInOutBack\",\"elastic\",\"swingFromTo\",\"swingFrom\",\"swingTo\",\"bounce\",\"bouncePast\",\"easeFromTo\",\"easeFrom\",\"easeTo\"]","type":"stringWithSelector"},"parameters":[{"description":"Object","name":"Object","type":"object"},{"description":"Behavior","name":"Behavior","supplementaryInformation":"ButtonStates::ButtonObjectEffectTween","type":"behavior"}],"objectGroups":[]},{"fullName":"","functionType":"ActionWithOperator","getterName":"FadeOutEasing","name":"SetFadeOutEasing","sentence":"","events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[],"actions":[{"type":{"value":"ButtonStates::ButtonObjectEffectTween::SetPropertyFadeOutEasing"},"parameters":["Object","Behavior","=","Value"]}]}],"parameters":[{"description":"Object","name":"Object","type":"object"},{"description":"Behavior","name":"Behavior","supplementaryInformation":"ButtonStates::ButtonObjectEffectTween","type":"behavior"}],"objectGroups":[]},{"description":"the fade-in duration of the object.","fullName":"Fade-in duration","functionType":"ExpressionAndCondition","group":"Button effect tween configuration","name":"FadeInDuration","sentence":"the fade-in duration","events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[],"actions":[{"type":{"value":"SetReturnNumber"},"parameters":["FadeInDuration"]}]}],"expressionType":{"type":"expression"},"parameters":[{"description":"Object","name":"Object","type":"object"},{"description":"Behavior","name":"Behavior","supplementaryInformation":"ButtonStates::ButtonObjectEffectTween","type":"behavior"}],"objectGroups":[]},{"fullName":"","functionType":"ActionWithOperator","getterName":"FadeInDuration","name":"SetFadeInDuration","sentence":"","events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[],"actions":[{"type":{"value":"ButtonStates::ButtonObjectEffectTween::SetPropertyFadeInDuration"},"parameters":["Object","Behavior","=","Value"]}]}],"parameters":[{"description":"Object","name":"Object","type":"object"},{"description":"Behavior","name":"Behavior","supplementaryInformation":"ButtonStates::ButtonObjectEffectTween","type":"behavior"}],"objectGroups":[]},{"description":"the fade-out duration of the object.","fullName":"Fade-out duration","functionType":"ExpressionAndCondition","group":"Button effect tween configuration","name":"FadeOutDuration","sentence":"the fade-out duration","events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[],"actions":[{"type":{"value":"SetReturnNumber"},"parameters":["FadeOutDuration"]}]}],"expressionType":{"type":"expression"},"parameters":[{"description":"Object","name":"Object","type":"object"},{"description":"Behavior","name":"Behavior","supplementaryInformation":"ButtonStates::ButtonObjectEffectTween","type":"behavior"}],"objectGroups":[]},{"fullName":"","functionType":"ActionWithOperator","getterName":"FadeOutDuration","name":"SetFadeOutDuration","sentence":"","events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[],"actions":[{"type":{"value":"ButtonStates::ButtonObjectEffectTween::SetPropertyFadeOutDuration"},"parameters":["Object","Behavior","=","Value"]}]}],"parameters":[{"description":"Object","name":"Object","type":"object"},{"description":"Behavior","name":"Behavior","supplementaryInformation":"ButtonStates::ButtonObjectEffectTween","type":"behavior"}],"objectGroups":[]}],"propertyDescriptors":[{"value":"","type":"Behavior","label":"Button states","description":"","group":"","extraInformation":["ButtonStates::ButtonFSM"],"name":"ButtonFSM"},{"value":"","type":"Behavior","label":"Effect capability","description":"","group":"","extraInformation":["EffectCapability::EffectBehavior"],"name":"Effect"},{"value":"Effect","type":"String","label":"Effect name","description":"","group":"Effect","extraInformation":[],"name":"EffectName"},{"value":"","type":"String","label":"Effect parameter","description":"The effect parameter names can be found in the effects tab with the \"Show parameter names\" action of the drop down menu.","group":"Effect","extraInformation":[],"name":"EffectProperty"},{"value":"0","type":"Number","label":"Idle effect parameter value","description":"","group":"Value","extraInformation":[],"name":"IdleValue"},{"value":"0","type":"Number","label":"Focused effect parameter value","description":"The state is Focused when the button is hovered or held outside.","group":"Value","extraInformation":[],"name":"FocusedValue"},{"value":"0","type":"Number","label":"Pressed effect parameter value","description":"","group":"Value","extraInformation":[],"name":"PressedValue"},{"value":"easeInOutQuad","type":"Choice","label":"Fade-in easing","description":"","group":"Speed","extraInformation":["linear","easeInQuad","easeOutQuad","easeInOutQuad","easeInCubic","easeOutCubic","easeInOutCubic","easeInQuart","easeOutQuart","easeInOutQuart","easeInQuint","easeOutQuint","easeInOutQuint","easeInOutSine","easeInExpo","easeOutExpo","easeInOutExpo","easeInCirc","easeOutCirc","easeInOutCirc","easeOutBounce","easeInBack","easeOutBack","easeInOutBack","elastic","swingFromTo","swingFrom","swingTo","bounce","bouncePast","easeFromTo","easeFrom","easeTo"],"name":"FadeInEasing"},{"value":"easeInOutQuad","type":"Choice","label":"Fade-out easing","description":"","group":"Speed","extraInformation":["linear","easeInQuad","easeOutQuad","easeInOutQuad","easeInCubic","easeOutCubic","easeInOutCubic","easeInQuart","easeOutQuart","easeInOutQuart","easeInQuint","easeOutQuint","easeInOutQuint","easeInOutSine","easeInExpo","easeOutExpo","easeInOutExpo","easeInCirc","easeOutCirc","easeInOutCirc","easeOutBounce","easeInBack","easeOutBack","easeInOutBack","elastic","swingFromTo","swingFrom","swingTo","bounce","bouncePast","easeFromTo","easeFrom","easeTo"],"name":"FadeOutEasing"},{"value":"0.125","type":"Number","unit":"Second","label":"Fade-in duration","description":"","group":"Speed","extraInformation":[],"name":"FadeInDuration"},{"value":"0.5","type":"Number","unit":"Second","label":"Fade-out duration","description":"","group":"Speed","extraInformation":[],"name":"FadeOutDuration"},{"value":"Idle","type":"Choice","label":"","description":"","group":"","extraInformation":["Idle","Focused","Pressed"],"hidden":true,"name":"PreviousState"},{"value":"0","type":"Number","label":"","description":"","group":"","extraInformation":[],"hidden":true,"name":"TweenInitialValue"},{"value":"0","type":"Number","label":"","description":"","group":"","extraInformation":[],"hidden":true,"name":"TweenTargetedValue"},{"value":"0","type":"Number","label":"","description":"","group":"","extraInformation":[],"hidden":true,"name":"TweenTime"},{"value":"NoTween","type":"Choice","label":"","description":"","group":"","extraInformation":["NoTween","FadeIn","FadeOut"],"hidden":true,"name":"TweenState"},{"value":"0","type":"Number","label":"","description":"","group":"","extraInformation":[],"hidden":true,"name":"EffectValue"}],"sharedPropertyDescriptors":[]},{"description":"Smoothly resize buttons according to their state.","fullName":"Button scale tween","name":"ButtonScaleTween","objectType":"","eventsFunctions":[{"fullName":"","functionType":"Action","name":"onCreated","sentence":"","events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[],"actions":[{"type":{"value":"ScalableCapability::ScalableBehavior::SetValue"},"parameters":["Object","Scale","=","IdleScale"]}]}],"parameters":[{"description":"Object","name":"Object","type":"object"},{"description":"Behavior","name":"Behavior","supplementaryInformation":"ButtonStates::ButtonScaleTween","type":"behavior"}],"objectGroups":[]},{"fullName":"","functionType":"Action","name":"doStepPreEvents","sentence":"","events":[{"colorB":228,"colorG":176,"colorR":74,"creationTime":0,"name":"Change based on state","source":"","type":"BuiltinCommonInstructions::Group","events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"ButtonStates::ButtonFSM::IsIdle"},"parameters":["Object","ButtonFSM",""]},{"type":{"value":"ButtonStates::ButtonScaleTween::PropertyPreviousState"},"parameters":["Object","Behavior","!=","\"Idle\""]}],"actions":[{"type":{"value":"ButtonStates::ButtonScaleTween::SetPropertyPreviousState"},"parameters":["Object","Behavior","=","\"Idle\""]},{"type":{"value":"ButtonStates::ButtonScaleTween::FadeOut"},"parameters":["Object","Behavior","IdleScale",""]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"ButtonStates::ButtonFSM::IsFocused"},"parameters":["Object","ButtonFSM",""]}],"actions":[],"events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"ButtonStates::ButtonScaleTween::PropertyPreviousState"},"parameters":["Object","Behavior","=","\"Idle\""]}],"actions":[{"type":{"value":"ButtonStates::ButtonScaleTween::SetPropertyPreviousState"},"parameters":["Object","Behavior","=","\"Focused\""]},{"type":{"value":"ButtonStates::ButtonScaleTween::FadeIn"},"parameters":["Object","Behavior","FocusedScale",""]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"ButtonStates::ButtonScaleTween::PropertyPreviousState"},"parameters":["Object","Behavior","=","\"Pressed\""]}],"actions":[{"type":{"value":"ButtonStates::ButtonScaleTween::SetPropertyPreviousState"},"parameters":["Object","Behavior","=","\"Focused\""]},{"type":{"value":"ButtonStates::ButtonScaleTween::FadeOut"},"parameters":["Object","Behavior","FocusedScale",""]}]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"ButtonStates::ButtonFSM::IsPressed"},"parameters":["Object","ButtonFSM",""]},{"type":{"value":"ButtonStates::ButtonScaleTween::PropertyPreviousState"},"parameters":["Object","Behavior","!=","\"Pressed\""]}],"actions":[{"type":{"value":"ButtonStates::ButtonScaleTween::SetPropertyPreviousState"},"parameters":["Object","Behavior","=","\"Pressed\""]},{"type":{"value":"ButtonStates::ButtonScaleTween::FadeIn"},"parameters":["Object","Behavior","PressedScale",""]}]}],"parameters":[]}],"parameters":[{"description":"Object","name":"Object","type":"object"},{"description":"Behavior","name":"Behavior","supplementaryInformation":"ButtonStates::ButtonScaleTween","type":"behavior"}],"objectGroups":[]},{"fullName":"Fade in","functionType":"Action","name":"FadeIn","private":true,"sentence":"_PARAM0_ fade in to _PARAM2_","events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[],"actions":[{"type":{"value":"Tween::AddObjectScaleTween"},"parameters":["Object","Tween","\"__ButtonScaleTween.Fade\"","Value","Value","FadeInEasing","1000 * FadeInDuration","no","yes"]}]}],"parameters":[{"description":"Object","name":"Object","type":"object"},{"description":"Behavior","name":"Behavior","supplementaryInformation":"ButtonStates::ButtonScaleTween","type":"behavior"},{"description":"Value","name":"Value","type":"expression"}],"objectGroups":[]},{"fullName":"Fade out","functionType":"Action","name":"FadeOut","private":true,"sentence":"_PARAM0_ fade out to _PARAM2_","events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[],"actions":[{"type":{"value":"Tween::AddObjectScaleTween"},"parameters":["Object","Tween","\"__ButtonScaleTween.Fade\"","Value","Value","FadeOutEasing","1000 * FadeOutDuration","no","yes"]}]}],"parameters":[{"description":"Object","name":"Object","type":"object"},{"description":"Behavior","name":"Behavior","supplementaryInformation":"ButtonStates::ButtonScaleTween","type":"behavior"},{"description":"Value","name":"Value","type":"expression"}],"objectGroups":[]},{"description":"the idle state size scale of the object.","fullName":"Idle state size scale","functionType":"ExpressionAndCondition","group":"Button scale tween configuration","name":"IdleScale","sentence":"the idle state size scale","events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[],"actions":[{"type":{"value":"SetReturnNumber"},"parameters":["IdleScale"]}]}],"expressionType":{"type":"expression"},"parameters":[{"description":"Object","name":"Object","type":"object"},{"description":"Behavior","name":"Behavior","supplementaryInformation":"ButtonStates::ButtonScaleTween","type":"behavior"}],"objectGroups":[]},{"fullName":"","functionType":"ActionWithOperator","getterName":"IdleScale","name":"SetIdleScale","sentence":"","events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[],"actions":[{"type":{"value":"ButtonStates::ButtonScaleTween::SetPropertyIdleScale"},"parameters":["Object","Behavior","=","Value"]}]}],"parameters":[{"description":"Object","name":"Object","type":"object"},{"description":"Behavior","name":"Behavior","supplementaryInformation":"ButtonStates::ButtonScaleTween","type":"behavior"}],"objectGroups":[]},{"description":"the focused state size scale of the object. The state is Focused when the button is hovered or held outside.","fullName":"Focused state size scale","functionType":"ExpressionAndCondition","group":"Button scale tween configuration","name":"FocusedScale","sentence":"the focused state size scale","events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[],"actions":[{"type":{"value":"SetReturnNumber"},"parameters":["FocusedScale"]}]}],"expressionType":{"type":"expression"},"parameters":[{"description":"Object","name":"Object","type":"object"},{"description":"Behavior","name":"Behavior","supplementaryInformation":"ButtonStates::ButtonScaleTween","type":"behavior"}],"objectGroups":[]},{"fullName":"","functionType":"ActionWithOperator","getterName":"FocusedScale","name":"SetFocusedScale","sentence":"","events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[],"actions":[{"type":{"value":"ButtonStates::ButtonScaleTween::SetPropertyFocusedScale"},"parameters":["Object","Behavior","=","Value"]}]}],"parameters":[{"description":"Object","name":"Object","type":"object"},{"description":"Behavior","name":"Behavior","supplementaryInformation":"ButtonStates::ButtonScaleTween","type":"behavior"}],"objectGroups":[]},{"description":"the pressed state size scale of the object.","fullName":"Pressed state size scale","functionType":"ExpressionAndCondition","group":"Button scale tween configuration","name":"PressedScale","sentence":"the pressed state size scale","events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[],"actions":[{"type":{"value":"SetReturnNumber"},"parameters":["PressedScale"]}]}],"expressionType":{"type":"expression"},"parameters":[{"description":"Object","name":"Object","type":"object"},{"description":"Behavior","name":"Behavior","supplementaryInformation":"ButtonStates::ButtonScaleTween","type":"behavior"}],"objectGroups":[]},{"fullName":"","functionType":"ActionWithOperator","getterName":"PressedScale","name":"SetPressedScale","sentence":"","events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[],"actions":[{"type":{"value":"ButtonStates::ButtonScaleTween::SetPropertyPressedScale"},"parameters":["Object","Behavior","=","Value"]}]}],"parameters":[{"description":"Object","name":"Object","type":"object"},{"description":"Behavior","name":"Behavior","supplementaryInformation":"ButtonStates::ButtonScaleTween","type":"behavior"}],"objectGroups":[]},{"description":"the fade-in duration of the object.","fullName":"Fade-in duration","functionType":"ExpressionAndCondition","group":"Button scale tween configuration","name":"FadeInDuration","sentence":"the fade-in duration","events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[],"actions":[{"type":{"value":"SetReturnNumber"},"parameters":["FadeInDuration"]}]}],"expressionType":{"type":"expression"},"parameters":[{"description":"Object","name":"Object","type":"object"},{"description":"Behavior","name":"Behavior","supplementaryInformation":"ButtonStates::ButtonScaleTween","type":"behavior"}],"objectGroups":[]},{"fullName":"","functionType":"ActionWithOperator","getterName":"FadeInDuration","name":"SetFadeInDuration","sentence":"","events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[],"actions":[{"type":{"value":"ButtonStates::ButtonScaleTween::SetPropertyFadeInDuration"},"parameters":["Object","Behavior","=","Value"]}]}],"parameters":[{"description":"Object","name":"Object","type":"object"},{"description":"Behavior","name":"Behavior","supplementaryInformation":"ButtonStates::ButtonScaleTween","type":"behavior"}],"objectGroups":[]},{"description":"the fade-out duration of the object.","fullName":"Fade-out duration","functionType":"ExpressionAndCondition","group":"Button scale tween configuration","name":"FadeOutDuration","sentence":"the fade-out duration","events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[],"actions":[{"type":{"value":"SetReturnNumber"},"parameters":["FadeOutDuration"]}]}],"expressionType":{"type":"expression"},"parameters":[{"description":"Object","name":"Object","type":"object"},{"description":"Behavior","name":"Behavior","supplementaryInformation":"ButtonStates::ButtonScaleTween","type":"behavior"}],"objectGroups":[]},{"fullName":"","functionType":"ActionWithOperator","getterName":"FadeOutDuration","name":"SetFadeOutDuration","sentence":"","events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[],"actions":[{"type":{"value":"ButtonStates::ButtonScaleTween::SetPropertyFadeOutDuration"},"parameters":["Object","Behavior","=","Value"]}]}],"parameters":[{"description":"Object","name":"Object","type":"object"},{"description":"Behavior","name":"Behavior","supplementaryInformation":"ButtonStates::ButtonScaleTween","type":"behavior"}],"objectGroups":[]},{"description":"the fade-in easing of the object.","fullName":"Fade-in easing","functionType":"ExpressionAndCondition","group":"Button scale tween configuration","name":"FadeInEasing","sentence":"the fade-in easing","events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[],"actions":[{"type":{"value":"SetReturnString"},"parameters":["FadeInEasing"]}]}],"expressionType":{"supplementaryInformation":"[\"linear\",\"easeInQuad\",\"easeOutQuad\",\"easeInOutQuad\",\"easeInCubic\",\"easeOutCubic\",\"easeInOutCubic\",\"easeInQuart\",\"easeOutQuart\",\"easeInOutQuart\",\"easeInQuint\",\"easeOutQuint\",\"easeInOutQuint\",\"easeInOutSine\",\"easeInExpo\",\"easeOutExpo\",\"easeInOutExpo\",\"easeInCirc\",\"easeOutCirc\",\"easeInOutCirc\",\"easeOutBounce\",\"easeInBack\",\"easeOutBack\",\"easeInOutBack\",\"elastic\",\"swingFromTo\",\"swingFrom\",\"swingTo\",\"bounce\",\"bouncePast\",\"easeFromTo\",\"easeFrom\",\"easeTo\"]","type":"stringWithSelector"},"parameters":[{"description":"Object","name":"Object","type":"object"},{"description":"Behavior","name":"Behavior","supplementaryInformation":"ButtonStates::ButtonScaleTween","type":"behavior"}],"objectGroups":[]},{"fullName":"","functionType":"ActionWithOperator","getterName":"FadeInEasing","name":"SetFadeInEasing","sentence":"","events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[],"actions":[{"type":{"value":"ButtonStates::ButtonScaleTween::SetPropertyFadeInEasing"},"parameters":["Object","Behavior","=","Value"]}]}],"parameters":[{"description":"Object","name":"Object","type":"object"},{"description":"Behavior","name":"Behavior","supplementaryInformation":"ButtonStates::ButtonScaleTween","type":"behavior"}],"objectGroups":[]},{"description":"the fade-out easing of the object.","fullName":"Fade-out easing","functionType":"ExpressionAndCondition","group":"Button scale tween configuration","name":"FadeOutEasing","sentence":"the fade-out easing","events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[],"actions":[{"type":{"value":"SetReturnString"},"parameters":["FadeOutEasing"]}]}],"expressionType":{"supplementaryInformation":"[\"linear\",\"easeInQuad\",\"easeOutQuad\",\"easeInOutQuad\",\"easeInCubic\",\"easeOutCubic\",\"easeInOutCubic\",\"easeInQuart\",\"easeOutQuart\",\"easeInOutQuart\",\"easeInQuint\",\"easeOutQuint\",\"easeInOutQuint\",\"easeInOutSine\",\"easeInExpo\",\"easeOutExpo\",\"easeInOutExpo\",\"easeInCirc\",\"easeOutCirc\",\"easeInOutCirc\",\"easeOutBounce\",\"easeInBack\",\"easeOutBack\",\"easeInOutBack\",\"elastic\",\"swingFromTo\",\"swingFrom\",\"swingTo\",\"bounce\",\"bouncePast\",\"easeFromTo\",\"easeFrom\",\"easeTo\"]","type":"stringWithSelector"},"parameters":[{"description":"Object","name":"Object","type":"object"},{"description":"Behavior","name":"Behavior","supplementaryInformation":"ButtonStates::ButtonScaleTween","type":"behavior"}],"objectGroups":[]},{"fullName":"","functionType":"ActionWithOperator","getterName":"FadeOutEasing","name":"SetFadeOutEasing","sentence":"","events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[],"actions":[{"type":{"value":"ButtonStates::ButtonScaleTween::SetPropertyFadeOutEasing"},"parameters":["Object","Behavior","=","Value"]}]}],"parameters":[{"description":"Object","name":"Object","type":"object"},{"description":"Behavior","name":"Behavior","supplementaryInformation":"ButtonStates::ButtonScaleTween","type":"behavior"}],"objectGroups":[]}],"propertyDescriptors":[{"value":"","type":"Behavior","label":"Scalable capability","description":"","group":"","extraInformation":["ScalableCapability::ScalableBehavior"],"name":"Scale"},{"value":"","type":"Behavior","label":"Button states behavior (required)","description":"","group":"","extraInformation":["ButtonStates::ButtonFSM"],"name":"ButtonFSM"},{"value":"","type":"Behavior","label":"Tween behavior (required)","description":"","group":"","extraInformation":["Tween::TweenBehavior"],"name":"Tween"},{"value":"1","type":"Number","unit":"Dimensionless","label":"Idle state size scale","description":"","group":"Size","extraInformation":[],"name":"IdleScale"},{"value":"1","type":"Number","unit":"Dimensionless","label":"Focused state size scale","description":"The state is Focused when the button is hovered or held outside.","group":"Size","extraInformation":[],"name":"FocusedScale"},{"value":"0.1","type":"Number","unit":"Second","label":"Fade-in duration","description":"","group":"Speed","extraInformation":[],"name":"FadeInDuration"},{"value":"0.2","type":"Number","unit":"Second","label":"Fade-out duration","description":"","group":"Speed","extraInformation":[],"name":"FadeOutDuration"},{"value":"0.95","type":"Number","unit":"Dimensionless","label":"Pressed state size scale","description":"","group":"Size","extraInformation":[],"name":"PressedScale"},{"value":"easeInOutQuad","type":"Choice","label":"Fade-in easing","description":"","group":"Speed","extraInformation":["linear","easeInQuad","easeOutQuad","easeInOutQuad","easeInCubic","easeOutCubic","easeInOutCubic","easeInQuart","easeOutQuart","easeInOutQuart","easeInQuint","easeOutQuint","easeInOutQuint","easeInOutSine","easeInExpo","easeOutExpo","easeInOutExpo","easeInCirc","easeOutCirc","easeInOutCirc","easeOutBounce","easeInBack","easeOutBack","easeInOutBack","elastic","swingFromTo","swingFrom","swingTo","bounce","bouncePast","easeFromTo","easeFrom","easeTo"],"name":"FadeInEasing"},{"value":"easeInOutQuad","type":"Choice","label":"Fade-out easing","description":"","group":"Speed","extraInformation":["linear","easeInQuad","easeOutQuad","easeInOutQuad","easeInCubic","easeOutCubic","easeInOutCubic","easeInQuart","easeOutQuart","easeInOutQuart","easeInQuint","easeOutQuint","easeInOutQuint","easeInOutSine","easeInExpo","easeOutExpo","easeInOutExpo","easeInCirc","easeOutCirc","easeInOutCirc","easeOutBounce","easeInBack","easeOutBack","easeInOutBack","elastic","swingFromTo","swingFrom","swingTo","bounce","bouncePast","easeFromTo","easeFrom","easeTo"],"name":"FadeOutEasing"},{"value":"Idle","type":"Choice","label":"","description":"","group":"","extraInformation":["Idle","Focused","Pressed"],"hidden":true,"name":"PreviousState"}],"sharedPropertyDescriptors":[]},{"description":"Smoothly change the color tint of buttons according to their state.","fullName":"Button color tint tween","name":"ButtonColorTintTween","objectType":"Sprite","eventsFunctions":[{"fullName":"","functionType":"Action","name":"onCreated","sentence":"","events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[],"actions":[{"type":{"value":"ChangeColor"},"parameters":["Object","IdleColorTint"]}]}],"parameters":[{"description":"Object","name":"Object","supplementaryInformation":"Sprite","type":"object"},{"description":"Behavior","name":"Behavior","supplementaryInformation":"ButtonStates::ButtonColorTintTween","type":"behavior"}],"objectGroups":[]},{"fullName":"","functionType":"Action","name":"doStepPreEvents","sentence":"","events":[{"colorB":228,"colorG":176,"colorR":74,"creationTime":0,"name":"States","source":"","type":"BuiltinCommonInstructions::Group","events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"ButtonStates::ButtonFSM::IsIdle"},"parameters":["Object","ButtonFSM",""]},{"type":{"value":"ButtonStates::ButtonColorTintTween::PropertyPreviousState"},"parameters":["Object","Behavior","!=","\"Idle\""]}],"actions":[{"type":{"value":"ButtonStates::ButtonColorTintTween::SetPropertyPreviousState"},"parameters":["Object","Behavior","=","\"Idle\""]},{"type":{"value":"ButtonStates::ButtonColorTintTween::FadeOut"},"parameters":["Object","Behavior","IdleColorTint",""]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"ButtonStates::ButtonFSM::IsFocused"},"parameters":["Object","ButtonFSM",""]}],"actions":[],"events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"ButtonStates::ButtonColorTintTween::PropertyPreviousState"},"parameters":["Object","Behavior","=","\"Idle\""]}],"actions":[{"type":{"value":"ButtonStates::ButtonColorTintTween::SetPropertyPreviousState"},"parameters":["Object","Behavior","=","\"Focused\""]},{"type":{"value":"ButtonStates::ButtonColorTintTween::FadeIn"},"parameters":["Object","Behavior","FocusedColorTint",""]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"ButtonStates::ButtonColorTintTween::PropertyPreviousState"},"parameters":["Object","Behavior","=","\"Pressed\""]}],"actions":[{"type":{"value":"ButtonStates::ButtonColorTintTween::SetPropertyPreviousState"},"parameters":["Object","Behavior","=","\"Focused\""]},{"type":{"value":"ButtonStates::ButtonColorTintTween::FadeOut"},"parameters":["Object","Behavior","FocusedColorTint",""]}]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"ButtonStates::ButtonFSM::IsPressed"},"parameters":["Object","ButtonFSM",""]},{"type":{"value":"ButtonStates::ButtonColorTintTween::PropertyPreviousState"},"parameters":["Object","Behavior","!=","\"Pressed\""]}],"actions":[{"type":{"value":"ButtonStates::ButtonColorTintTween::SetPropertyPreviousState"},"parameters":["Object","Behavior","=","\"Pressed\""]},{"type":{"value":"ButtonStates::ButtonColorTintTween::FadeIn"},"parameters":["Object","Behavior","PressedColorTint",""]}]}],"parameters":[]}],"parameters":[{"description":"Object","name":"Object","supplementaryInformation":"Sprite","type":"object"},{"description":"Behavior","name":"Behavior","supplementaryInformation":"ButtonStates::ButtonColorTintTween","type":"behavior"}],"objectGroups":[]},{"fullName":"Fade in","functionType":"Action","name":"FadeIn","private":true,"sentence":"_PARAM0_ fade in to _PARAM2_","events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[],"actions":[{"type":{"value":"Tween::AddObjectColorTween"},"parameters":["Object","Tween","\"__ButtonColorTintTween.Fade\"","Value","FadeInEasing","1000 * FadeInDuration","no","yes"]}]}],"parameters":[{"description":"Object","name":"Object","supplementaryInformation":"Sprite","type":"object"},{"description":"Behavior","name":"Behavior","supplementaryInformation":"ButtonStates::ButtonColorTintTween","type":"behavior"},{"description":"Value","name":"Value","type":"color"}],"objectGroups":[]},{"fullName":"Fade out","functionType":"Action","name":"FadeOut","private":true,"sentence":"_PARAM0_ fade out to _PARAM2_","events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[],"actions":[{"type":{"value":"Tween::AddObjectColorTween"},"parameters":["Object","Tween","\"__ButtonColorTintTween.Fade\"","Value","FadeOutEasing","1000 * FadeOutDuration","no","yes"]}]}],"parameters":[{"description":"Object","name":"Object","supplementaryInformation":"Sprite","type":"object"},{"description":"Behavior","name":"Behavior","supplementaryInformation":"ButtonStates::ButtonColorTintTween","type":"behavior"},{"description":"Value","name":"Value","type":"color"}],"objectGroups":[]},{"description":"the idle state color tint of the object.","fullName":"Idle state color tint","functionType":"ExpressionAndCondition","group":"Button color tint tween","name":"IdleColorTint","sentence":"the idle state color tint","events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[],"actions":[{"type":{"value":"SetReturnString"},"parameters":["IdleColorTint"]}]}],"expressionType":{"type":"color"},"parameters":[{"description":"Object","name":"Object","supplementaryInformation":"Sprite","type":"object"},{"description":"Behavior","name":"Behavior","supplementaryInformation":"ButtonStates::ButtonColorTintTween","type":"behavior"}],"objectGroups":[]},{"fullName":"","functionType":"ActionWithOperator","getterName":"IdleColorTint","name":"SetIdleColorTint","sentence":"","events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[],"actions":[{"type":{"value":"ButtonStates::ButtonColorTintTween::SetPropertyIdleColorTint"},"parameters":["Object","Behavior","=","Value"]}]}],"parameters":[{"description":"Object","name":"Object","supplementaryInformation":"Sprite","type":"object"},{"description":"Behavior","name":"Behavior","supplementaryInformation":"ButtonStates::ButtonColorTintTween","type":"behavior"}],"objectGroups":[]},{"description":"the focused state color tint of the object. The state is Focused when the button is hovered or held outside.","fullName":"Focused state color tint","functionType":"ExpressionAndCondition","group":"Button color tint tween","name":"FocusedColorTint","sentence":"the focused state color tint","events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[],"actions":[{"type":{"value":"SetReturnString"},"parameters":["FocusedColorTint"]}]}],"expressionType":{"type":"color"},"parameters":[{"description":"Object","name":"Object","supplementaryInformation":"Sprite","type":"object"},{"description":"Behavior","name":"Behavior","supplementaryInformation":"ButtonStates::ButtonColorTintTween","type":"behavior"}],"objectGroups":[]},{"fullName":"","functionType":"ActionWithOperator","getterName":"FocusedColorTint","name":"SetFocusedColorTint","sentence":"","events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[],"actions":[{"type":{"value":"ButtonStates::ButtonColorTintTween::SetPropertyFocusedColorTint"},"parameters":["Object","Behavior","=","Value"]}]}],"parameters":[{"description":"Object","name":"Object","supplementaryInformation":"Sprite","type":"object"},{"description":"Behavior","name":"Behavior","supplementaryInformation":"ButtonStates::ButtonColorTintTween","type":"behavior"}],"objectGroups":[]},{"description":"the pressed state color tint of the object.","fullName":"Pressed state color tint","functionType":"ExpressionAndCondition","group":"Button color tint tween","name":"PressedColorTint","sentence":"the pressed state color tint","events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[],"actions":[{"type":{"value":"SetReturnString"},"parameters":["PressedColorTint"]}]}],"expressionType":{"type":"color"},"parameters":[{"description":"Object","name":"Object","supplementaryInformation":"Sprite","type":"object"},{"description":"Behavior","name":"Behavior","supplementaryInformation":"ButtonStates::ButtonColorTintTween","type":"behavior"}],"objectGroups":[]},{"fullName":"","functionType":"ActionWithOperator","getterName":"PressedColorTint","name":"SetPressedColorTint","sentence":"","events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[],"actions":[{"type":{"value":"ButtonStates::ButtonColorTintTween::SetPropertyPressedColorTint"},"parameters":["Object","Behavior","=","Value"]}]}],"parameters":[{"description":"Object","name":"Object","supplementaryInformation":"Sprite","type":"object"},{"description":"Behavior","name":"Behavior","supplementaryInformation":"ButtonStates::ButtonColorTintTween","type":"behavior"}],"objectGroups":[]},{"description":"the fade-in duration of the object.","fullName":"Fade-in duration","functionType":"ExpressionAndCondition","group":"Button color tint tween","name":"FadeInDuration","sentence":"the fade-in duration","events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[],"actions":[{"type":{"value":"SetReturnNumber"},"parameters":["FadeInDuration"]}]}],"expressionType":{"type":"expression"},"parameters":[{"description":"Object","name":"Object","supplementaryInformation":"Sprite","type":"object"},{"description":"Behavior","name":"Behavior","supplementaryInformation":"ButtonStates::ButtonColorTintTween","type":"behavior"}],"objectGroups":[]},{"fullName":"","functionType":"ActionWithOperator","getterName":"FadeInDuration","name":"SetFadeInDuration","sentence":"","events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[],"actions":[{"type":{"value":"ButtonStates::ButtonColorTintTween::SetPropertyFadeInDuration"},"parameters":["Object","Behavior","=","Value"]}]}],"parameters":[{"description":"Object","name":"Object","supplementaryInformation":"Sprite","type":"object"},{"description":"Behavior","name":"Behavior","supplementaryInformation":"ButtonStates::ButtonColorTintTween","type":"behavior"}],"objectGroups":[]},{"description":"the fade-out duration of the object.","fullName":"Fade-out duration","functionType":"ExpressionAndCondition","group":"Button color tint tween","name":"FadeOutDuration","sentence":"the fade-out duration","events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[],"actions":[{"type":{"value":"SetReturnNumber"},"parameters":["FadeOutDuration"]}]}],"expressionType":{"type":"expression"},"parameters":[{"description":"Object","name":"Object","supplementaryInformation":"Sprite","type":"object"},{"description":"Behavior","name":"Behavior","supplementaryInformation":"ButtonStates::ButtonColorTintTween","type":"behavior"}],"objectGroups":[]},{"fullName":"","functionType":"ActionWithOperator","getterName":"FadeOutDuration","name":"SetFadeOutDuration","sentence":"","events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[],"actions":[{"type":{"value":"ButtonStates::ButtonColorTintTween::SetPropertyFadeOutDuration"},"parameters":["Object","Behavior","=","Value"]}]}],"parameters":[{"description":"Object","name":"Object","supplementaryInformation":"Sprite","type":"object"},{"description":"Behavior","name":"Behavior","supplementaryInformation":"ButtonStates::ButtonColorTintTween","type":"behavior"}],"objectGroups":[]},{"description":"the fade-in easing of the object.","fullName":"Fade-in easing","functionType":"ExpressionAndCondition","group":"Button color tint tween","name":"FadeInEasing","sentence":"the fade-in easing","events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[],"actions":[{"type":{"value":"SetReturnString"},"parameters":["FadeInEasing"]}]}],"expressionType":{"supplementaryInformation":"[\"linear\",\"easeInQuad\",\"easeOutQuad\",\"easeInOutQuad\",\"easeInCubic\",\"easeOutCubic\",\"easeInOutCubic\",\"easeInQuart\",\"easeOutQuart\",\"easeInOutQuart\",\"easeInQuint\",\"easeOutQuint\",\"easeInOutQuint\",\"easeInOutSine\",\"easeInExpo\",\"easeOutExpo\",\"easeInOutExpo\",\"easeInCirc\",\"easeOutCirc\",\"easeInOutCirc\",\"easeOutBounce\",\"easeInBack\",\"easeOutBack\",\"easeInOutBack\",\"elastic\",\"swingFromTo\",\"swingFrom\",\"swingTo\",\"bounce\",\"bouncePast\",\"easeFromTo\",\"easeFrom\",\"easeTo\"]","type":"stringWithSelector"},"parameters":[{"description":"Object","name":"Object","supplementaryInformation":"Sprite","type":"object"},{"description":"Behavior","name":"Behavior","supplementaryInformation":"ButtonStates::ButtonColorTintTween","type":"behavior"}],"objectGroups":[]},{"fullName":"","functionType":"ActionWithOperator","getterName":"FadeInEasing","name":"SetFadeInEasing","sentence":"","events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[],"actions":[{"type":{"value":"ButtonStates::ButtonColorTintTween::SetPropertyFadeInEasing"},"parameters":["Object","Behavior","=","Value"]}]}],"parameters":[{"description":"Object","name":"Object","supplementaryInformation":"Sprite","type":"object"},{"description":"Behavior","name":"Behavior","supplementaryInformation":"ButtonStates::ButtonColorTintTween","type":"behavior"}],"objectGroups":[]},{"description":"the fade-out easing of the object.","fullName":"Fade-out easing","functionType":"ExpressionAndCondition","group":"Button color tint tween","name":"FadeOutEasing","sentence":"the fade-out easing","events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[],"actions":[{"type":{"value":"SetReturnString"},"parameters":["FadeOutEasing"]}]}],"expressionType":{"supplementaryInformation":"[\"linear\",\"easeInQuad\",\"easeOutQuad\",\"easeInOutQuad\",\"easeInCubic\",\"easeOutCubic\",\"easeInOutCubic\",\"easeInQuart\",\"easeOutQuart\",\"easeInOutQuart\",\"easeInQuint\",\"easeOutQuint\",\"easeInOutQuint\",\"easeInOutSine\",\"easeInExpo\",\"easeOutExpo\",\"easeInOutExpo\",\"easeInCirc\",\"easeOutCirc\",\"easeInOutCirc\",\"easeOutBounce\",\"easeInBack\",\"easeOutBack\",\"easeInOutBack\",\"elastic\",\"swingFromTo\",\"swingFrom\",\"swingTo\",\"bounce\",\"bouncePast\",\"easeFromTo\",\"easeFrom\",\"easeTo\"]","type":"stringWithSelector"},"parameters":[{"description":"Object","name":"Object","supplementaryInformation":"Sprite","type":"object"},{"description":"Behavior","name":"Behavior","supplementaryInformation":"ButtonStates::ButtonColorTintTween","type":"behavior"}],"objectGroups":[]},{"fullName":"","functionType":"ActionWithOperator","getterName":"FadeOutEasing","name":"SetFadeOutEasing","sentence":"","events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[],"actions":[{"type":{"value":"ButtonStates::ButtonColorTintTween::SetPropertyFadeOutEasing"},"parameters":["Object","Behavior","=","Value"]}]}],"parameters":[{"description":"Object","name":"Object","supplementaryInformation":"Sprite","type":"object"},{"description":"Behavior","name":"Behavior","supplementaryInformation":"ButtonStates::ButtonColorTintTween","type":"behavior"}],"objectGroups":[]}],"propertyDescriptors":[{"value":"","type":"Behavior","label":"Button states","description":"","group":"","extraInformation":["ButtonStates::ButtonFSM"],"name":"ButtonFSM"},{"value":"","type":"Behavior","label":"Tween","description":"","group":"","extraInformation":["Tween::TweenBehavior"],"name":"Tween"},{"value":"255;255;255","type":"Color","label":"Idle state color tint","description":"","group":"Color","extraInformation":[],"name":"IdleColorTint"},{"value":"192;192;192","type":"Color","label":"Focused state color tint","description":"The state is Focused when the button is hovered or held outside.","group":"Color","extraInformation":[],"name":"FocusedColorTint"},{"value":"64;64;64","type":"Color","label":"Pressed state color tint","description":"","group":"Color","extraInformation":[],"name":"PressedColorTint"},{"value":"0.1","type":"Number","unit":"Second","label":"Fade-in duration","description":"","group":"Speed","extraInformation":[],"name":"FadeInDuration"},{"value":"0.2","type":"Number","unit":"Second","label":"Fade-out duration","description":"","group":"Speed","extraInformation":[],"name":"FadeOutDuration"},{"value":"easeInOutQuad","type":"Choice","label":"Fade-in easing","description":"","group":"Speed","extraInformation":["linear","easeInQuad","easeOutQuad","easeInOutQuad","easeInCubic","easeOutCubic","easeInOutCubic","easeInQuart","easeOutQuart","easeInOutQuart","easeInQuint","easeOutQuint","easeInOutQuint","easeInOutSine","easeInExpo","easeOutExpo","easeInOutExpo","easeInCirc","easeOutCirc","easeInOutCirc","easeOutBounce","easeInBack","easeOutBack","easeInOutBack","elastic","swingFromTo","swingFrom","swingTo","bounce","bouncePast","easeFromTo","easeFrom","easeTo"],"name":"FadeInEasing"},{"value":"easeInOutQuad","type":"Choice","label":"Fade-out easing","description":"","group":"Speed","extraInformation":["linear","easeInQuad","easeOutQuad","easeInOutQuad","easeInCubic","easeOutCubic","easeInOutCubic","easeInQuart","easeOutQuart","easeInOutQuart","easeInQuint","easeOutQuint","easeInOutQuint","easeInOutSine","easeInExpo","easeOutExpo","easeInOutExpo","easeInCirc","easeOutCirc","easeInOutCirc","easeOutBounce","easeInBack","easeOutBack","easeInOutBack","elastic","swingFromTo","swingFrom","swingTo","bounce","bouncePast","easeFromTo","easeFrom","easeTo"],"name":"FadeOutEasing"},{"value":"Idle","type":"Choice","label":"","description":"","group":"","extraInformation":["Idle","Focused","Pressed"],"hidden":true,"name":"PreviousState"}],"sharedPropertyDescriptors":[]}],"eventsBasedObjects":[]},{"author":"grymmjack","category":"User interface","extensionNamespace":"","fullName":"Align object on the screen","helpPath":"","iconUrl":"data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiPz48IURPQ1RZUEUgc3ZnIFBVQkxJQyAiLS8vVzNDLy9EVEQgU1ZHIDEuMS8vRU4iICJodHRwOi8vd3d3LnczLm9yZy9HcmFwaGljcy9TVkcvMS4xL0RURC9zdmcxMS5kdGQiPjxzdmcgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayIgdmVyc2lvbj0iMS4xIiBpZD0ibWRpLWZvcm1hdC12ZXJ0aWNhbC1hbGlnbi1jZW50ZXIiIHdpZHRoPSIyNCIgaGVpZ2h0PSIyNCIgdmlld0JveD0iMCAwIDI0IDI0Ij48cGF0aCBkPSJNOCwxOUgxMVYyM0gxM1YxOUgxNkwxMiwxNUw4LDE5TTE2LDVIMTNWMUgxMVY1SDhMMTIsOUwxNiw1TTQsMTFWMTNIMjBWMTFINFoiIC8+PC9zdmc+","name":"AlignObject","previewIconUrl":"https://resources.gdevelop-app.com/assets/Icons/format-vertical-align-center.svg","shortDescription":"Align objects on the scene relatively to the window (or screen size).","version":"1.0.0","description":["Align objects on the scene relatively to the window (or screen size).","","**Be sure to put your object on a layer for which the camera position was not moved.**","","Actions provided are:","","* ToSceneCentered: horizontally and vertically centered in scene","* ToSceneTop: vertically to the top in scene","* ToSceneMiddle: vertically to the middle in scene","* ToSceneBottom: vertically to the bottom in scene","* ToSceneLeft: horizontally to the left in scene","* ToSceneRight: horizontally to the right in scene","* ToSceneCenter: horizontally to the center in scene","* ToScreenCentered: horizontally and vertically centered in screen","* ToScreenTop: vertically to the top in screen","* ToScreenMiddle: vertically to the middle in screen","* ToScreenBottom: vertically to the bottom in screen","* ToScreenLeft: horizontally to the left in screen","* ToScreenRight: horizontally to the right in screen","* ToScreenCenter: horizontally to the center in screen"],"origin":{"identifier":"AlignObject","name":"gdevelop-extension-store"},"tags":["align","alignment","center"],"authorIds":["I0kdjvsICFML0APq45CZjZ6PyEQ2"],"dependencies":[],"globalVariables":[],"sceneVariables":[],"eventsFunctions":[{"description":"Align object to horizontal center in screen.","fullName":"Align object to horizontal center in screen","functionType":"Action","name":"ToScreenCenter","sentence":"Align _PARAM1_ horizontally center on the screen","events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[],"actions":[{"type":{"value":"MettreX"},"parameters":["ObjectToAlign","=","ScreenWidth()/2 - ObjectToAlign.Width()/2"]}]}],"parameters":[{"description":"Object to align","name":"ObjectToAlign","type":"objectList"}],"objectGroups":[]},{"description":"Align object to horizontal center in scene.","fullName":"Align object to horizontal center in scene","functionType":"Action","name":"ToSceneCenter","sentence":"Align _PARAM1_ horizontally center in the scene","events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[],"actions":[{"type":{"value":"MettreX"},"parameters":["ObjectToAlign","=","SceneWindowWidth()/2 - ObjectToAlign.Width()/2"]}]}],"parameters":[{"description":"Object to align","name":"ObjectToAlign","type":"objectList"}],"objectGroups":[]},{"description":"Align object to horizontal right in screen.","fullName":"Align object to horizontal right in screen","functionType":"Action","name":"ToScreenRight","sentence":"Align _PARAM1_ horizontally right in the screen","events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[],"actions":[{"type":{"value":"MettreX"},"parameters":["ObjectToAlign","=","ScreenWidth() - ObjectToAlign.Width()"]}]}],"parameters":[{"description":"Object to align","name":"ObjectToAlign","type":"objectList"}],"objectGroups":[]},{"description":"Align object to horizontal right in scene.","fullName":"Align object to horizontal right in scene","functionType":"Action","name":"ToSceneRight","sentence":"Align _PARAM1_ horizontally right in the scene","events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[],"actions":[{"type":{"value":"MettreX"},"parameters":["ObjectToAlign","=","SceneWindowWidth() - ObjectToAlign.Width()"]}]}],"parameters":[{"description":"Object to align","name":"ObjectToAlign","type":"objectList"}],"objectGroups":[]},{"description":"Align object to horizontal left in screen.","fullName":"Align object to horizontal left in screen","functionType":"Action","name":"ToScreenLeft","sentence":"Align _PARAM1_ horizontally left in screen","events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[],"actions":[{"type":{"value":"MettreX"},"parameters":["ObjectToAlign","=","0"]}]}],"parameters":[{"description":"Object to align","name":"ObjectToAlign","type":"objectList"}],"objectGroups":[]},{"description":"Align object to horizontal left in scene.","fullName":"Align object to horizontal left in scene","functionType":"Action","name":"ToSceneLeft","sentence":"Align _PARAM1_ horizontally left in scene","events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[],"actions":[{"type":{"value":"MettreX"},"parameters":["ObjectToAlign","=","0"]}]}],"parameters":[{"description":"Object to align","name":"ObjectToAlign","type":"objectList"}],"objectGroups":[]},{"description":"Center object in screen horizontally and vertically.","fullName":"Center object in screen horizontally and vertically","functionType":"Action","name":"ToScreenCentered","sentence":"Center _PARAM1_ in screen horizontally and vertically","events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[],"actions":[{"type":{"value":"MettreXY"},"parameters":["ObjectToCenter","=","ScreenWidth()/2 - ObjectToCenter.Width()/2","=","ScreenHeight()/2 - ObjectToCenter.Height()/2"]}]}],"parameters":[{"description":"Object to align","name":"ObjectToCenter","type":"objectList"}],"objectGroups":[]},{"description":"Center object in scene horizontally and vertically.","fullName":"Center object in scene horizontally and vertically","functionType":"Action","name":"ToSceneCentered","sentence":"Center _PARAM1_ in scene horizontally and vertically","events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[],"actions":[{"type":{"value":"MettreXY"},"parameters":["ObjectToCenter","=","SceneWindowWidth()/2 - ObjectToCenter.Width()/2","=","SceneWindowHeight()/2 - ObjectToCenter.Height()/2"]}]}],"parameters":[{"description":"Object to align","name":"ObjectToCenter","type":"objectList"}],"objectGroups":[]},{"description":"Align object to vertical bottom of screen.","fullName":"Align object to bottom of screen","functionType":"Action","name":"ToScreenBottom","sentence":"Align _PARAM1_ to vertical bottom of screen","events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[],"actions":[{"type":{"value":"MettreY"},"parameters":["ObjectToAlign","=","ScreenHeight() - ObjectToAlign.Height()"]}]}],"parameters":[{"description":"Object to align","name":"ObjectToAlign","type":"objectList"}],"objectGroups":[]},{"description":"Align object to vertical bottom of scene.","fullName":"Align object to bottom of scene","functionType":"Action","name":"ToSceneBottom","sentence":"Align _PARAM1_ to vertical bottom of scene","events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[],"actions":[{"type":{"value":"MettreY"},"parameters":["ObjectToAlign","=","SceneWindowHeight() - ObjectToAlign.Height()"]}]}],"parameters":[{"description":"Object to align","name":"ObjectToAlign","type":"objectList"}],"objectGroups":[]},{"description":"Align object to vertical middle of screen.","fullName":"Align object to vertical middle of screen","functionType":"Action","name":"ToScreenMiddle","sentence":"Align _PARAM1_ to vertical middle of screen","events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[],"actions":[{"type":{"value":"MettreY"},"parameters":["ObjectToAlign","=","ScreenHeight()/2 - ObjectToAlign.Height()/2"]}]}],"parameters":[{"description":"Object to align","name":"ObjectToAlign","type":"objectList"}],"objectGroups":[]},{"description":"Align object to vertical middle of scene.","fullName":"Align object to vertical middle of scene","functionType":"Action","name":"ToSceneMiddle","sentence":"Align _PARAM1_ to vertical middle of scene","events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[],"actions":[{"type":{"value":"MettreY"},"parameters":["ObjectToAlign","=","SceneWindowHeight()/2 - ObjectToAlign.Height()/2"]}]}],"parameters":[{"description":"Object to align","name":"ObjectToAlign","type":"objectList"}],"objectGroups":[]},{"description":"Align object to vertical top of screen.","fullName":"Align object to vertical top of screen","functionType":"Action","name":"ToScreenTop","sentence":"Align _PARAM1_ to top of screen","events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[],"actions":[{"type":{"value":"MettreY"},"parameters":["ObjectToAlign","=","0"]}]}],"parameters":[{"description":"Object to align","name":"ObjectToAlign","type":"objectList"}],"objectGroups":[]},{"description":"Align object to vertical top of scene.","fullName":"Align object to vertical top of scene","functionType":"Action","name":"ToSceneTop","sentence":"Align _PARAM1_ to top of scene","events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[],"actions":[{"type":{"value":"MettreY"},"parameters":["ObjectToAlign","=","0"]}]}],"parameters":[{"description":"Object to align","name":"ObjectToAlign","type":"objectList"}],"objectGroups":[]}],"eventsBasedBehaviors":[],"eventsBasedObjects":[]},{"author":"","category":"","extensionNamespace":"","fullName":"","helpPath":"","iconUrl":"","name":"InlineSewer","previewIconUrl":"","shortDescription":"","version":"","description":"","tags":[],"authorIds":[],"dependencies":[],"globalVariables":[],"sceneVariables":[],"eventsFunctions":[],"eventsBasedBehaviors":[],"eventsBasedObjects":[{"areaMaxX":867,"areaMaxY":291,"areaMaxZ":206,"areaMinX":0,"areaMinY":0,"areaMinZ":0,"defaultName":"","description":"","fullName":"","is3D":true,"isUsingLegacyInstancesRenderer":false,"name":"InlineSewer","eventsFunctions":[],"propertyDescriptors":[],"objects":[{"assetStoreId":"","name":"Sewer_front","type":"Scene3D::Model3DObject","variables":[],"effects":[],"behaviors":[],"content":{"centerLocation":"ObjectCenter","depth":100.0,"height":100.0,"keepAspectRatio":true,"materialType":"StandardWithoutMetalness","modelResourceName":"sewer-front.glb","originLocation":"ObjectCenter","rotationX":0.0,"rotationY":0.0,"rotationZ":0.0,"width":100.0,"animations":[]}}],"objectsFolderStructure":{"folderName":"__ROOT","children":[{"objectName":"Sewer_front"}]},"objectsGroups":[],"layers":[{"ambientLightColorB":200,"ambientLightColorG":200,"ambientLightColorR":200,"camera3DFarPlaneDistance":10000.0,"camera3DFieldOfView":45.0,"camera3DNearPlaneDistance":3.0,"cameraType":"","followBaseLayerCamera":false,"isLightingLayer":false,"isLocked":false,"name":"","renderingType":"","visibility":true,"cameras":[{"defaultSize":true,"defaultViewport":true,"height":0.0,"viewportBottom":1.0,"viewportLeft":0.0,"viewportRight":1.0,"viewportTop":0.0,"width":0.0}],"effects":[]}],"instances":[{"angle":90.0,"customSize":true,"depth":206.0,"height":249.0,"layer":"","name":"Sewer_front","persistentUuid":"c17a0f96-4dc0-4bcd-b520-8afc29bd24fa","rotationX":90.0,"rotationY":180.0,"width":291.0,"x":124.5,"y":145.5,"zOrder":26,"numberProperties":[],"stringProperties":[],"initialVariables":[]},{"angle":90.0,"customSize":true,"depth":206.0,"height":249.0,"layer":"","name":"Sewer_front","persistentUuid":"3954b79e-ad2d-4729-b906-ac02f7dcc4ce","rotationX":90.0,"rotationY":180.0,"width":291.0,"x":330.5,"y":145.5,"zOrder":26,"numberProperties":[],"stringProperties":[],"initialVariables":[]},{"angle":90.0,"customSize":true,"depth":206.0,"height":249.0,"layer":"","name":"Sewer_front","persistentUuid":"5d2eb930-ae17-434e-9e4e-3c627a985e0c","rotationX":90.0,"rotationY":180.0,"width":291.0,"x":536.5,"y":145.5,"zOrder":26,"numberProperties":[],"stringProperties":[],"initialVariables":[]},{"angle":90.0,"customSize":true,"depth":206.0,"height":249.0,"layer":"","name":"Sewer_front","persistentUuid":"90d51cb4-e6c8-49a8-a192-f86ed7a40668","rotationX":90.0,"rotationY":180.0,"width":291.0,"x":742.5,"y":145.5,"zOrder":26,"numberProperties":[],"stringProperties":[],"initialVariables":[]}]}]},{"author":"westboy31, Tristan Rhodes (https://victrisgames.itch.io/)","category":"Camera","extensionNamespace":"","fullName":"Camera shake","helpPath":"","iconUrl":"data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiPz48IURPQ1RZUEUgc3ZnIFBVQkxJQyAiLS8vVzNDLy9EVEQgU1ZHIDEuMS8vRU4iICJodHRwOi8vd3d3LnczLm9yZy9HcmFwaGljcy9TVkcvMS4xL0RURC9zdmcxMS5kdGQiPjxzdmcgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayIgdmVyc2lvbj0iMS4xIiBpZD0ibWRpLXZlY3Rvci1kaWZmZXJlbmNlLWFiIiB3aWR0aD0iMjQiIGhlaWdodD0iMjQiIHZpZXdCb3g9IjAgMCAyNCAyNCI+PHBhdGggZD0iTTMsMUMxLjg5LDEgMSwxLjg5IDEsM1Y1SDNWM0g1VjFIM003LDFWM0gxMFYxSDdNMTIsMVYzSDE0VjVIMTZWM0MxNiwxLjg5IDE1LjExLDEgMTQsMUgxMk0xLDdWMTBIM1Y3SDFNMTQsN0MxNCw3IDE0LDExLjY3IDE0LDE0QzExLjY3LDE0IDcsMTQgNywxNEM3LDE0IDcsMTggNywyMEM3LDIxLjExIDcuODksMjIgOSwyMkgyMEMyMS4xMSwyMiAyMiwyMS4xMSAyMiwyMFY5QzIyLDcuODkgMjEuMTEsNyAyMCw3QzE4LDcgMTQsNyAxNCw3TTE2LDlIMjBWMjBIOVYxNkgxNEMxNS4xMSwxNiAxNiwxNS4xMSAxNiwxNFY5TTEsMTJWMTRDMSwxNS4xMSAxLjg5LDE2IDMsMTZINVYxNEgzVjEySDFaIiAvPjwvc3ZnPg==","name":"CameraShake","previewIconUrl":"https://resources.gdevelop-app.com/assets/Icons/vector-difference-ab.svg","shortDescription":"Shake layer cameras.","version":"3.1.2","description":["Shake layer cameras with translation, rotation and zoom.","","- Short shaking can be used to give impact (explosion, hit)","- Shaking can go indefinitely to set an ambiance (engine vibration, earthquake, pulsing)","- Low frequency shaking allows to simulate slow moving objects (ship rocking back and forth)","","Release notes:","- Version 3.0.0","    - No adaptation of the game events is needed.","    - It fixes an issue when used with scrolling, the amplitude will feel bigger in this case.","    - The shaking relies on noise which could feel a bit different.","    - This extension can no longer do impulses. For this, another extension \"Camera impulse\" can be used."],"origin":{"identifier":"CameraShake","name":"gdevelop-extension-store"},"tags":["shaking","camera","effect","screen","shake"],"authorIds":["gqDaZjCfevOOxBYkK6zlhtZnXCg1","IWykYNRvhCZBN3vEgKEbBPOR3Oc2","m4hBMBTUilft4s1V4FQQPakVDGx1"],"dependencies":[],"globalVariables":[],"sceneVariables":[{"folded":true,"name":"DefaultFrequency","type":"number","value":12.0},{"folded":true,"name":"DefaultAmplitudeX","type":"number","value":4.0},{"folded":true,"name":"DefaultAmplitudeY","type":"number","value":4.0},{"folded":true,"name":"DefaultAmplitudeAngle","type":"number","value":0.0},{"folded":true,"name":"DefaultAmplitudeZoom","type":"number","value":1.0},{"folded":true,"name":"Duration","type":"number","value":0.0},{"name":"Layers","type":"structure","children":[]},{"name":"Layer","type":"structure","children":[{"name":"AmplitudeAngle","type":"number","value":0.0},{"name":"AmplitudeX","type":"number","value":0.0},{"name":"AmplitudeY","type":"number","value":0.0},{"folded":true,"name":"AmplitudeZoom","type":"number","value":0.0},{"folded":true,"name":"CameraDeltaAngle","type":"number","value":0.0},{"name":"CameraDeltaX","type":"number","value":0.0},{"name":"CameraDeltaY","type":"number","value":0.0},{"folded":true,"name":"CameraDeltaZoom","type":"number","value":0.0},{"folded":true,"name":"Frequency","type":"number","value":0.0}]},{"folded":true,"name":"LayerName","type":"string","value":""},{"folded":true,"name":"Time","type":"number","value":0.0},{"folded":true,"name":"StartEaseDuration","type":"number","value":0.0},{"folded":true,"name":"StopEaseDuration","type":"number","value":0.0}],"eventsFunctions":[{"fullName":"","functionType":"Action","name":"onSceneLoaded","sentence":"","events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[],"actions":[{"type":{"value":"CameraShake::SetLayerShakable"},"parameters":["","","\"\"",""]}]}],"parameters":[],"objectGroups":[]},{"fullName":"","functionType":"Action","name":"onScenePostEvents","sentence":"","events":[{"type":"BuiltinCommonInstructions::Comment","color":{"b":109,"g":230,"r":255,"textB":0,"textG":0,"textR":0},"comment":"Step time counters."},{"type":"BuiltinCommonInstructions::Standard","conditions":[],"actions":[{"type":{"value":"SetNumberVariable"},"parameters":["Time","+","TimeDelta()"]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"CameraShake::IsShaking"},"parameters":["",""]}],"actions":[],"events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[],"actions":[],"events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"NumberVariable"},"parameters":["Time","<","StartEaseDuration"]},{"type":{"inverted":true,"value":"NumberVariable"},"parameters":["Time",">","Duration - StopEaseDuration"]}],"actions":[{"type":{"value":"SetNumberVariable"},"parameters":["EaseFactor","=","clamp(Time / StartEaseDuration, 0, 1)"]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"NumberVariable"},"parameters":["Time",">","Duration - StopEaseDuration"]}],"actions":[{"type":{"value":"SetNumberVariable"},"parameters":["EaseFactor","=","clamp((Duration - Time) / StopEaseDuration, 0, 1)"]}]},{"type":"BuiltinCommonInstructions::ForEachChildVariable","iterableVariableName":"Layers","valueIteratorVariableName":"Layer","keyIteratorVariableName":"LayerName","conditions":[{"type":{"value":"BooleanVariable"},"parameters":["Layer.Shakable","True",""]}],"actions":[],"events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[],"actions":[{"type":{"value":"SetStringVariable"},"parameters":["ActualLayerName","=","LayerName"]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"StringVariable"},"parameters":["LayerName","=","\"__BaseLayer\""]}],"actions":[{"type":{"value":"SetStringVariable"},"parameters":["ActualLayerName","=","\"\""]}]},{"type":"BuiltinCommonInstructions::Comment","color":{"b":109,"g":230,"r":255,"textB":0,"textG":0,"textR":0},"comment":"Use user defined default values when there is no layer specific value set."},{"type":"BuiltinCommonInstructions::Standard","conditions":[],"actions":[{"type":{"value":"CameraShake::SetFrequency"},"parameters":["","DefaultFrequency","\"\"",""]},{"type":{"value":"SetNumberVariable"},"parameters":["AmplitudeX","=","DefaultAmplitudeX"]},{"type":{"value":"SetNumberVariable"},"parameters":["AmplitudeY","=","DefaultAmplitudeY"]},{"type":{"value":"SetNumberVariable"},"parameters":["AmplitudeAngle","=","DefaultAmplitudeAngle"]},{"type":{"value":"SetNumberVariable"},"parameters":["AmplitudeZoom","=","DefaultAmplitudeZoom"]},{"type":{"value":"SetNumberVariable"},"parameters":["Layers[LayerName].CameraDeltaX","=","0"]},{"type":{"value":"SetNumberVariable"},"parameters":["Layers[LayerName].CameraDeltaY","=","0"]},{"type":{"value":"SetNumberVariable"},"parameters":["Layers[LayerName].CameraDeltaAngle","=","0"]},{"type":{"value":"SetNumberVariable"},"parameters":["Layers[LayerName].CameraDeltaZoom","=","0"]}],"events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"VariableChildExists2"},"parameters":["Layer","\"Frequency\""]}],"actions":[{"type":{"value":"CameraShake::SetFrequency"},"parameters":["","Layer.Frequency","\"\"",""]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"VariableChildExists2"},"parameters":["Layer","\"AmplitudeX\""]}],"actions":[{"type":{"value":"SetNumberVariable"},"parameters":["AmplitudeX","=","Layer.AmplitudeX"]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"VariableChildExists2"},"parameters":["Layer","\"AmplitudeY\""]}],"actions":[{"type":{"value":"SetNumberVariable"},"parameters":["AmplitudeY","=","Layer.AmplitudeY"]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"VariableChildExists2"},"parameters":["Layer","\"AmplitudeAngle\""]}],"actions":[{"type":{"value":"SetNumberVariable"},"parameters":["AmplitudeAngle","=","Layer.AmplitudeAngle"]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"VariableChildExists2"},"parameters":["Layer","\"AmplitudeZoom\""]}],"actions":[{"type":{"value":"SetNumberVariable"},"parameters":["AmplitudeZoom","=","Layer.AmplitudeZoom"]}]},{"type":"BuiltinCommonInstructions::Comment","color":{"b":109,"g":230,"r":255,"textB":0,"textG":0,"textR":0},"comment":"Shake the layer camera.\nSave the camera displacement to revert it in onScenePostEvents."},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"NumberVariable"},"parameters":["AmplitudeX","!=","0"]}],"actions":[{"type":{"value":"SetNumberVariable"},"parameters":["Layers[LayerName].CameraDeltaX","=","CameraShake::Noise2d(\"\", TimeFromStart(), 1000) * AmplitudeX * EaseFactor"]},{"type":{"value":"SetCameraCenterX"},"parameters":["","+","Layers[LayerName].CameraDeltaX","ActualLayerName","0"]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"NumberVariable"},"parameters":["AmplitudeY","!=","0"]}],"actions":[{"type":{"value":"SetNumberVariable"},"parameters":["Layers[LayerName].CameraDeltaY","=","CameraShake::Noise2d(\"\", TimeFromStart(), 2000) * AmplitudeY * EaseFactor"]},{"type":{"value":"SetCameraCenterY"},"parameters":["","+","Layers[LayerName].CameraDeltaY","ActualLayerName","0"]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"NumberVariable"},"parameters":["AmplitudeAngle","!=","0"]}],"actions":[{"type":{"value":"SetNumberVariable"},"parameters":["Layers[LayerName].CameraDeltaAngle","=","CameraShake::Noise2d(\"\", TimeFromStart(), 3000) * AmplitudeAngle * EaseFactor"]},{"type":{"value":"SetCameraAngle"},"parameters":["","+","Layers[LayerName].CameraDeltaAngle","ActualLayerName","0"]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"NumberVariable"},"parameters":["AmplitudeZoom","!=","1"]}],"actions":[{"type":{"value":"SetNumberVariable"},"parameters":["Layers[LayerName].CameraDeltaZoom","=","pow(AmplitudeZoom, CameraShake::Noise2d(\"\", TimeFromStart(), 4000) * EaseFactor)"]},{"type":{"value":"ZoomCamera"},"parameters":["","CameraZoom(ActualLayerName, 0) * Layers[LayerName].CameraDeltaZoom","ActualLayerName","0"]}]}]}]}],"variables":[{"folded":true,"name":"AmplitudeX","type":"number","value":0.0},{"folded":true,"name":"AmplitudeY","type":"number","value":0.0},{"folded":true,"name":"AmplitudeAngle","type":"number","value":0.0},{"folded":true,"name":"AmplitudeZoom","type":"number","value":0.0},{"folded":true,"name":"EaseFactor","type":"number","value":1.0},{"folded":true,"name":"ActualLayerName","type":"string","value":""}]}]}],"parameters":[],"objectGroups":[]},{"fullName":"","functionType":"Action","name":"onScenePreEvents","sentence":"","events":[{"type":"BuiltinCommonInstructions::Comment","color":{"b":109,"g":230,"r":255,"textB":0,"textG":0,"textR":0},"comment":"Revert the shaking."},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"CameraShake::IsShaking"},"parameters":["",""]}],"actions":[],"events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[],"actions":[],"events":[{"type":"BuiltinCommonInstructions::ForEachChildVariable","iterableVariableName":"Layers","valueIteratorVariableName":"Layer","keyIteratorVariableName":"LayerName","conditions":[{"type":{"value":"BooleanVariable"},"parameters":["Layer.Shakable","True",""]}],"actions":[{"type":{"value":"SetNumberVariable"},"parameters":["CameraDeltaX","=","Layer.CameraDeltaX"]},{"type":{"value":"SetNumberVariable"},"parameters":["CameraDeltaY","=","Layer.CameraDeltaY"]},{"type":{"value":"SetNumberVariable"},"parameters":["CameraDeltaAngle","=","Layer.CameraDeltaAngle"]},{"type":{"value":"SetNumberVariable"},"parameters":["CameraDeltaZoom","=","Layer.CameraDeltaZoom"]},{"type":{"value":"SetStringVariable"},"parameters":["ActualLayerName","=","LayerName"]}],"events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"StringVariable"},"parameters":["LayerName","=","\"__BaseLayer\""]}],"actions":[{"type":{"value":"SetStringVariable"},"parameters":["ActualLayerName","=","\"\""]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"NumberVariable"},"parameters":["CameraDeltaX","!=","0"]}],"actions":[{"type":{"value":"SetCameraCenterX"},"parameters":["","-","CameraDeltaX","ActualLayerName","0"]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"NumberVariable"},"parameters":["CameraDeltaY","!=","0"]}],"actions":[{"type":{"value":"SetCameraCenterY"},"parameters":["","-","CameraDeltaY","ActualLayerName","0"]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"NumberVariable"},"parameters":["CameraDeltaAngle","!=","0"]}],"actions":[{"type":{"value":"SetCameraAngle"},"parameters":["","-","CameraDeltaAngle","ActualLayerName","0"]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"NumberVariable"},"parameters":["CameraDeltaZoom","!=","0"]}],"actions":[{"type":{"value":"ZoomCamera"},"parameters":["","CameraZoom(ActualLayerName) / CameraDeltaZoom","ActualLayerName","0"]}]}]}],"variables":[{"folded":true,"name":"ActualLayerName","type":"string","value":""},{"folded":true,"name":"CameraDeltaX","type":"number","value":0.0},{"folded":true,"name":"CameraDeltaY","type":"number","value":0.0},{"folded":true,"name":"CameraDeltaAngle","type":"number","value":0.0},{"folded":true,"name":"CameraDeltaZoom","type":"number","value":0.0}]}]}],"parameters":[],"objectGroups":[]},{"description":"Shake the camera on layers chosen with configuration actions.","fullName":"Shake camera","functionType":"Action","name":"ShakeCamera","sentence":"Shake camera for _PARAM1_ seconds with _PARAM2_ seconds of easing to start and _PARAM3_ seconds to stop","events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[],"actions":[{"type":{"value":"SetNumberVariable"},"parameters":["Time","=","0"]},{"type":{"value":"SetNumberVariable"},"parameters":["Duration","=","NewDuration"]},{"type":{"value":"SetNumberVariable"},"parameters":["StartEaseDuration","=","NewStartEaseDuration"]},{"type":{"value":"SetNumberVariable"},"parameters":["StopEaseDuration","=","NewStopEaseDuration"]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"NumberVariable"},"parameters":["Duration","<","StartEaseDuration + StopEaseDuration"]}],"actions":[{"type":{"value":"SetNumberVariable"},"parameters":["StartEaseDuration","=","StartEaseDuration * Duration / (StartEaseDuration + StopEaseDuration)"]},{"type":{"value":"SetNumberVariable"},"parameters":["StopEaseDuration","=","StopEaseDuration * Duration / (StartEaseDuration + StopEaseDuration)"]}]}],"parameters":[{"description":"Duration (in seconds)","name":"NewDuration","type":"expression"},{"description":"Ease duration to start (in seconds)","name":"NewStartEaseDuration","type":"expression"},{"description":"Ease duration to stop (in seconds)","name":"NewStopEaseDuration","type":"expression"}],"objectGroups":[]},{"description":"Shake the camera on the specified layer, using one or more ways to shake (position, angle, zoom). This action is deprecated. Please use the other one with the same name.","fullName":"Shake camera (deprecated)","functionType":"Action","name":"CameraShake","private":true,"sentence":"Shake camera on _PARAM3_ layer for _PARAM5_ seconds. Use an amplitude of _PARAM1_px on X axis and _PARAM2_px on Y axis, angle rotation amplitude _PARAM6_ degrees, and zoom amplitude _PARAM7_ percent.  Wait _PARAM8_ seconds between shakes. Keep shaking until stopped: _PARAM9_","events":[{"colorB":228,"colorG":176,"colorR":74,"creationTime":0,"name":"Camera Shake","source":"","type":"BuiltinCommonInstructions::Group","events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[],"actions":[{"type":{"value":"ClearVariableChildren"},"parameters":["Layers"]},{"type":{"value":"CameraShake::SetLayerShakable"},"parameters":["","","Layer",""]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[],"actions":[{"type":{"value":"SetNumberVariable"},"parameters":["Time","=","0"]},{"type":{"value":"SetStringVariable"},"parameters":["Layer","=","Layer"]},{"type":{"value":"SetNumberVariable"},"parameters":["Duration","=","Duration"]},{"type":{"value":"SetNumberVariable"},"parameters":["StartEaseDuration","=","0"]},{"type":{"value":"SetNumberVariable"},"parameters":["StopEaseDuration","=","Duration"]},{"type":{"value":"SetNumberVariable"},"parameters":["DefaultAmplitudeX","=","abs(AmplitudeX)"]},{"type":{"value":"SetNumberVariable"},"parameters":["DefaultAmplitudeY","=","abs(AmplitudeY)"]},{"type":{"value":"SetNumberVariable"},"parameters":["DefaultAmplitudeAngle","=","AmplitudeAngle"]},{"type":{"value":"SetNumberVariable"},"parameters":["DefaultAmplitudeZoom","=","1 + AmplitudeZoom / 100"]}],"events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"BuiltinCommonInstructions::CompareNumbers"},"parameters":["ShakePeriod","!=","0"]}],"actions":[{"type":{"value":"SetNumberVariable"},"parameters":["DefaultFrequency","=","1 / ShakePeriod"]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"BuiltinCommonInstructions::CompareNumbers"},"parameters":["ShakePeriod","=","0"]}],"actions":[{"type":{"value":"SetNumberVariable"},"parameters":["DefaultFrequency","=","1 / 0.08"]}]}]},{"type":"BuiltinCommonInstructions::Comment","color":{"b":109,"g":230,"r":255,"textB":0,"textG":0,"textR":0},"comment":"Determine if the shake should keep going until stopped"},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"GetArgumentAsBoolean"},"parameters":["\"ShakeForever\""]}],"actions":[{"type":{"value":"SetNumberVariable"},"parameters":["Duration","=","1234567890"]}]},{"type":"BuiltinCommonInstructions::Comment","color":{"b":109,"g":230,"r":255,"textB":0,"textG":0,"textR":0},"comment":"Add default values if none were provided"},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"NumberVariable"},"parameters":["Duration","=","0"]}],"actions":[{"type":{"value":"SetNumberVariable"},"parameters":["Duration","=","0.5"]}]}],"parameters":[]}],"parameters":[{"description":"Amplitude of shaking on the X axis (in pixels)","name":"AmplitudeX","type":"expression"},{"description":"Amplitude of shaking on the Y axis (in pixels)","name":"AmplitudeY","type":"expression"},{"description":"Layer (base layer if empty)","name":"Layer","type":"layer"},{"description":"Camera index (Default: 0)","name":"Camera","type":"expression"},{"description":"Duration (in seconds) (Default: 0.5)","name":"Duration","type":"expression"},{"description":"Angle rotation amplitude (in degrees) (For example: 2)","name":"AmplitudeAngle","type":"expression"},{"description":"Zoom factor amplitude","name":"AmplitudeZoom","type":"expression"},{"description":"Period between shakes (in seconds) (Default: 0.08)","name":"ShakePeriod","type":"expression"},{"description":"Keep shaking until stopped","longDescription":"Duration value will be ignored","name":"ShakeForever","type":"yesorno"}],"objectGroups":[]},{"description":"Start shaking the camera indefinitely.","fullName":"Start camera shaking","functionType":"Action","name":"StartShaking","sentence":"Start shaking the camera with _PARAM1_ seconds of easing","events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[],"actions":[{"type":{"value":"SetNumberVariable"},"parameters":["Time","=","0"]},{"type":{"value":"SetNumberVariable"},"parameters":["Duration","=","1234567890"]},{"type":{"value":"SetNumberVariable"},"parameters":["StartEaseDuration","=","EaseDuration"]}]}],"parameters":[{"description":"Ease duration (in seconds)","name":"EaseDuration","type":"expression"}],"objectGroups":[]},{"description":"Stop shaking the camera.","fullName":"Stop camera shaking","functionType":"Action","name":"StopShaking","sentence":"Stop shaking the camera with _PARAM1_ seconds of easing","events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[],"actions":[{"type":{"value":"SetNumberVariable"},"parameters":["Time","=","0"]},{"type":{"value":"SetNumberVariable"},"parameters":["Duration","=","EaseDuration"]},{"type":{"value":"SetNumberVariable"},"parameters":["StopEaseDuration","=","EaseDuration"]}]}],"parameters":[{"description":"Ease duration (in seconds)","name":"EaseDuration","type":"expression"}],"objectGroups":[]},{"description":"Mark a layer as shakable.","fullName":"Shakable layer","functionType":"Action","group":"Camera shake configuration","name":"SetLayerShakable","sentence":"Mark the layer: _PARAM2_ as shakable: _PARAM1_","events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[],"actions":[{"type":{"value":"SetStringVariable"},"parameters":["LayerName","=","NewLayerName"]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"BuiltinCommonInstructions::CompareStrings"},"parameters":["NewLayerName","=","\"\""]}],"actions":[{"type":{"value":"SetStringVariable"},"parameters":["LayerName","=","\"__BaseLayer\""]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"inverted":true,"value":"GetArgumentAsBoolean"},"parameters":["\"Shakable\""]}],"actions":[{"type":{"value":"SetBooleanVariable"},"parameters":["Layers[LayerName].Shakable","False",""]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"GetArgumentAsBoolean"},"parameters":["\"Shakable\""]}],"actions":[{"type":{"value":"SetBooleanVariable"},"parameters":["Layers[LayerName].Shakable","True",""]}]}],"parameters":[{"defaultValue":"yes","description":"Shakable","name":"Shakable","optional":true,"type":"yesorno"},{"description":"Layer","name":"NewLayerName","type":"layer"}],"objectGroups":[]},{"description":"Check if the camera is shaking.","fullName":"Camera is shaking","functionType":"Condition","name":"IsShaking","sentence":"Camera is shaking","events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"NumberVariable"},"parameters":["Time","<","Duration"]}],"actions":[{"type":{"value":"SetReturnBoolean"},"parameters":["True"]}]}],"parameters":[],"objectGroups":[]},{"description":"Change the translation amplitude of the shaking (in pixels).","fullName":"Layer translation amplitude","functionType":"Action","group":"Camera shake configuration","name":"SetLayerTranslationAmplitude","sentence":"Change the translation amplitude of the shaking to _PARAM1_; _PARAM2_ (layer: _PARAM3_)","events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[],"actions":[{"type":{"value":"SetStringVariable"},"parameters":["LayerName","=","NewLayerName"]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"BuiltinCommonInstructions::CompareStrings"},"parameters":["NewLayerName","=","\"\""]}],"actions":[{"type":{"value":"SetStringVariable"},"parameters":["LayerName","=","\"__BaseLayer\""]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[],"actions":[{"type":{"value":"SetNumberVariable"},"parameters":["Layers[LayerName].AmplitudeX","=","AmplitudeX"]},{"type":{"value":"SetNumberVariable"},"parameters":["Layers[LayerName].AmplitudeY","=","AmplitudeY"]}]}],"parameters":[{"description":"Amplitude of shaking on the X axis (in pixels)","name":"AmplitudeX","type":"expression"},{"description":"Amplitude of shaking on the Y axis (in pixels)","name":"AmplitudeY","type":"expression"},{"description":"Layer","name":"NewLayerName","type":"layer"}],"objectGroups":[]},{"description":"Change the rotation amplitude of the shaking (in degrees).","fullName":"Layer rotation amplitude","functionType":"Action","group":"Camera shake configuration","name":"SetLayerRotationAmplitude","sentence":"Change the rotation amplitude of the shaking to _PARAM1_ degrees (layer: _PARAM2_)","events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[],"actions":[{"type":{"value":"SetStringVariable"},"parameters":["LayerName","=","NewLayerName"]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"BuiltinCommonInstructions::CompareStrings"},"parameters":["NewLayerName","=","\"\""]}],"actions":[{"type":{"value":"SetStringVariable"},"parameters":["LayerName","=","\"__BaseLayer\""]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[],"actions":[{"type":{"value":"SetNumberVariable"},"parameters":["Layers[LayerName].AmplitudeAngle","=","AmplitudeAngle"]}]}],"parameters":[{"description":"Angle (in degree)","name":"AmplitudeAngle","type":"expression"},{"description":"NewLayerName","name":"NewLayerName","type":"layer"}],"objectGroups":[]},{"description":"Change the zoom factor amplitude of the shaking. The shaking will zoom and unzoom by this factor (for instance 1.0625 is a valid value).","fullName":"Layer zoom amplitude","functionType":"Action","group":"Camera shake configuration","name":"SetLayerZoomAmplitude","sentence":"Change the zoom factor amplitude of the shaking to _PARAM1_ (layer: _PARAM2_)","events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[],"actions":[{"type":{"value":"SetStringVariable"},"parameters":["LayerName","=","NewLayerName"]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"BuiltinCommonInstructions::CompareStrings"},"parameters":["NewLayerName","=","\"\""]}],"actions":[{"type":{"value":"SetStringVariable"},"parameters":["LayerName","=","\"__BaseLayer\""]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[],"actions":[{"type":{"value":"SetNumberVariable"},"parameters":["Layers[LayerName].AmplitudeZoom","=","AmplitudeZoom"]}]}],"parameters":[{"description":"Zoom factor","name":"AmplitudeZoom","type":"expression"},{"description":"NewLayerName","name":"NewLayerName","type":"layer"}],"objectGroups":[]},{"description":"Change the number of back and forth per seconds.","fullName":"Layer shaking frequency","functionType":"Action","group":"Camera shake configuration","name":"SetLayerShakingFrequency","sentence":"Change the shaking frequency to _PARAM1_ (layer: _PARAM2_)","events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[],"actions":[{"type":{"value":"SetStringVariable"},"parameters":["LayerName","=","NewLayerName"]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"BuiltinCommonInstructions::CompareStrings"},"parameters":["NewLayerName","=","\"\""]}],"actions":[{"type":{"value":"SetStringVariable"},"parameters":["LayerName","=","\"__BaseLayer\""]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[],"actions":[{"type":{"value":"SetNumberVariable"},"parameters":["Layers[LayerName].Frequency","=","Frequency"]}]}],"parameters":[{"description":"Frequency","name":"Frequency","type":"expression"},{"description":"NewLayerName","name":"NewLayerName","type":"layer"}],"objectGroups":[]},{"description":"Change the default translation amplitude of the shaking (in pixels).","fullName":"Default translation amplitude","functionType":"Action","group":"Camera shake configuration","name":"SetDefaultTranslationAmplitude","sentence":"Change the default translation amplitude of the shaking to _PARAM1_; _PARAM2_","events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[],"actions":[{"type":{"value":"SetNumberVariable"},"parameters":["DefaultAmplitudeX","=","AmplitudeX"]},{"type":{"value":"SetNumberVariable"},"parameters":["DefaultAmplitudeY","=","AmplitudeY"]}]}],"parameters":[{"description":"Amplitude of shaking on the X axis (in pixels)","name":"AmplitudeX","type":"expression"},{"description":"Amplitude of shaking on the Y axis (in pixels)","name":"AmplitudeY","type":"expression"}],"objectGroups":[]},{"description":"Change the default rotation amplitude of the shaking (in degrees).","fullName":"Default rotation amplitude","functionType":"Action","group":"Camera shake configuration","name":"SetDefaultRotationAmplitude","sentence":"Change the default rotation amplitude of the shaking to _PARAM1_ degrees","events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[],"actions":[{"type":{"value":"SetNumberVariable"},"parameters":["DefaultAmplitudeAngle","=","AmplitudeAngle"]}]}],"parameters":[{"description":"Angle (in degree)","name":"AmplitudeAngle","type":"expression"}],"objectGroups":[]},{"description":"Change the default zoom factor amplitude of the shaking. The shaking will zoom and unzoom by this factor (for instance 1.0625 is a valid value).","fullName":"Default zoom amplitude","functionType":"Action","group":"Camera shake configuration","name":"SetDefaultZoomAmplitude","sentence":"Change the default zoom factor amplitude of the shaking to _PARAM1_","events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[],"actions":[{"type":{"value":"SetNumberVariable"},"parameters":["DefaultAmplitudeZoom","=","AmplitudeZoom"]}]}],"parameters":[{"description":"Zoom factor","name":"AmplitudeZoom","type":"expression"}],"objectGroups":[]},{"description":"Change the default number of back and forth per seconds.","fullName":"Default shaking frequency","functionType":"Action","group":"Camera shake configuration","name":"SetDefaultShakingFrequency","sentence":"Change the default shaking frequency to _PARAM1_","events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[],"actions":[{"type":{"value":"SetNumberVariable"},"parameters":["DefaultFrequency","=","Frequency"]}]}],"parameters":[{"description":"Frequency","name":"Frequency","type":"expression"}],"objectGroups":[]},{"fullName":"","functionType":"Action","name":"onFirstSceneLoaded","sentence":"","events":[{"type":"BuiltinCommonInstructions::JsCode","inlineCode":["if (gdjs._cameraShakeExtension) {","    return;","}","","/** Noise generator manager. */","class NoiseManager {","    /**","     * Create the manager of noise generators.","     */","    constructor() {","        this.seed = gdjs.randomInRange(1, Number.MAX_SAFE_INTEGER);","        /** @type {Map<string, NoiseGenerator>} */","        this.generators = new Map();","    }","","    /**","     * @param name {string}","     * @return {NoiseGenerator}","     */","    getGenerator(name) {","        let generator = this.generators.get(name);","        if (!generator) {","            generator = new NoiseGenerator(name + this.seed);","            this.generators.set(name, generator);","        }","        return generator;","    }","","    /**","     * @param seed {number}","     */","    setSeed(seed) {","        this.seed = seed;","        this.generators.forEach(generator => generator.setSeed(name + this.seed));","    }","","    /**","     * @param name {string}","     */","    deleteGenerator(name) {","        this.generators.delete(name);","    }","","    /**","     */","    deleteAllGenerators() {","        this.generators.clear();","    }","}","","/** Noise generator with octaves. */","class NoiseGenerator {","    /**","     * Create a noise generator with a seed.","     * @param seed {string}","     */","    constructor(seed) {","        this.simplexNoise = new SimplexNoise(seed);","        this.frequency = 1;","        this.octaves = 1;","        this.persistence = 0.5;","        this.lacunarity = 2;","        this.xLoopPeriod = 0;","        this.yLoopPeriod = 0;","    }","","    /**","     * @param seed {string}","     */","    setSeed(seed) {","        this.simplexNoise = new SimplexNoise(seed);","    }","","    /**","     * @param x {float}","     * @param y {float}","     * @param z {float} optionnal","     * @param w {float} optionnal","     * @return {float}","     */","    noise(x, y, z, w) {","        if (this.xLoopPeriod && this.yLoopPeriod) {","            const circleRatioX = 2 * Math.PI / this.xLoopPeriod;","            const circleRatioY = 2 * Math.PI / this.yLoopPeriod;","            const angleX = circleRatioX * x;","            const angleY = circleRatioY * y;","            x = Math.cos(angleX) / circleRatioX;","            y = Math.sin(angleX) / circleRatioX;","            z = Math.cos(angleY) / circleRatioY;","            w = Math.sin(angleY) / circleRatioY;","        }","        else if (this.xLoopPeriod) {","            const circleRatio = 2 * Math.PI / this.xLoopPeriod;","            const angleX = circleRatio * x;","            w = z;","            z = y;","            x = Math.cos(angleX) / circleRatio;","            y = Math.sin(angleX) / circleRatio;","        }","        else if (this.yLoopPeriod) {","            const circleRatio = 2 * Math.PI / this.xLoopPeriod;","            const angleX = circleRatio * x;","            w = z;","            // Make the circle perimeter equals to the looping period","            // to keep the same perceived frequency with or without looping.","            y = Math.cos(angleX) / circleRatio;","            z = Math.sin(angleX) / circleRatio;","        }","        let noiseFunction = this.simplexNoise.noise4D.bind(this.simplexNoise);","        if (z === undefined) {","            noiseFunction = this.simplexNoise.noise2D.bind(this.simplexNoise);","        }","        else if (w === undefined) {","            noiseFunction = this.simplexNoise.noise3D.bind(this.simplexNoise);","        }","        let frequency = this.frequency;","        let noiseSum = 0;","        let amplitudeSum = 0;","        let amplitude = 1;","        for (let i = 0; i < this.octaves; i++) {","            noiseSum += noiseFunction(x * frequency, y * frequency, z * frequency, w * frequency) * amplitude;","            amplitudeSum += Math.abs(amplitude);","            amplitude *= this.persistence;","            frequency *= this.lacunarity;","        }","        return noiseSum / amplitudeSum;","    }","}","","/*","A fast javascript implementation of simplex noise by Jonas Wagner","https://github.com/jwagner/simplex-noise.js","","Based on a speed-improved simplex noise algorithm for 2D, 3D and 4D in Java.","Which is based on example code by Stefan Gustavson (stegu@itn.liu.se).","With Optimisations by Peter Eastman (peastman@drizzle.stanford.edu).","Better rank ordering method by Stefan Gustavson in 2012.",""," Copyright (c) 2021 Jonas Wagner",""," Permission is hereby granted, free of charge, to any person obtaining a copy"," of this software and associated documentation files (the \"Software\"), to deal"," in the Software without restriction, including without limitation the rights"," to use, copy, modify, merge, publish, distribute, sublicense, and/or sell"," copies of the Software, and to permit persons to whom the Software is"," furnished to do so, subject to the following conditions:",""," The above copyright notice and this permission notice shall be included in all"," copies or substantial portions of the Software.",""," THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR"," IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,"," FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE"," AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER"," LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,"," OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE"," SOFTWARE."," */","","const F2 = 0.5 * (Math.sqrt(3.0) - 1.0);","const G2 = (3.0 - Math.sqrt(3.0)) / 6.0;","const F3 = 1.0 / 3.0;","const G3 = 1.0 / 6.0;","const F4 = (Math.sqrt(5.0) - 1.0) / 4.0;","const G4 = (5.0 - Math.sqrt(5.0)) / 20.0;","const grad3 = new Float32Array([1, 1, 0,","    -1, 1, 0,","    1, -1, 0,","    -1, -1, 0,","    1, 0, 1,","    -1, 0, 1,","    1, 0, -1,","    -1, 0, -1,","    0, 1, 1,","    0, -1, 1,","    0, 1, -1,","    0, -1, -1]);","const grad4 = new Float32Array([0, 1, 1, 1, 0, 1, 1, -1, 0, 1, -1, 1, 0, 1, -1, -1,","    0, -1, 1, 1, 0, -1, 1, -1, 0, -1, -1, 1, 0, -1, -1, -1,","    1, 0, 1, 1, 1, 0, 1, -1, 1, 0, -1, 1, 1, 0, -1, -1,","    -1, 0, 1, 1, -1, 0, 1, -1, -1, 0, -1, 1, -1, 0, -1, -1,","    1, 1, 0, 1, 1, 1, 0, -1, 1, -1, 0, 1, 1, -1, 0, -1,","    -1, 1, 0, 1, -1, 1, 0, -1, -1, -1, 0, 1, -1, -1, 0, -1,","    1, 1, 1, 0, 1, 1, -1, 0, 1, -1, 1, 0, 1, -1, -1, 0,","    -1, 1, 1, 0, -1, 1, -1, 0, -1, -1, 1, 0, -1, -1, -1, 0]);","","","/**"," * Builds a random permutation table."," * This is exported only for (internal) testing purposes."," * Do not rely on this export."," * @param {() => number} random"," * @private"," */","function buildPermutationTable(random) {","    const p = new Uint8Array(256);","    for (let i = 0; i < 256; i++) {","        p[i] = i;","    }","    for (let i = 0; i < 255; i++) {","        const r = i + ~~(random() * (256 - i));","        const aux = p[i];","        p[i] = p[r];","        p[r] = aux;","    }","    return p;","}","","/*","The ALEA PRNG and masher code used by simplex-noise.js","is based on code by Johannes Baage, modified by Jonas Wagner.","See alea.md for the full license.","@param {string|number} seed","*/","function alea(seed) {","    let s0 = 0;","    let s1 = 0;","    let s2 = 0;","    let c = 1;","    const mash = masher();","    s0 = mash(' ');","    s1 = mash(' ');","    s2 = mash(' ');","    s0 -= mash(seed);","    if (s0 < 0) {","        s0 += 1;","    }","    s1 -= mash(seed);","    if (s1 < 0) {","        s1 += 1;","    }","    s2 -= mash(seed);","    if (s2 < 0) {","        s2 += 1;","    }","    return function () {","        const t = 2091639 * s0 + c * 2.3283064365386963e-10; // 2^-32","        s0 = s1;","        s1 = s2;","        return s2 = t - (c = t | 0);","    };","}","","function masher() {","    let n = 0xefc8249d;","    return function (data) {","        data = data.toString();","        for (let i = 0; i < data.length; i++) {","            n += data.charCodeAt(i);","            let h = 0.02519603282416938 * n;","            n = h >>> 0;","            h -= n;","            h *= n;","            n = h >>> 0;","            h -= n;","            n += h * 0x100000000; // 2^32","        }","        return (n >>> 0) * 2.3283064365386963e-10; // 2^-32","    };","}","","/** Deterministic simplex noise generator suitable for 2D, 3D and 4D spaces. */","class SimplexNoise {","    /**","     * Creates a new `SimplexNoise` instance.","     * This involves some setup. You can save a few cpu cycles by reusing the same instance.","     * @param {(() => number)|string|number} randomOrSeed A random number generator or a seed (string|number).","     * Defaults to Math.random (random irreproducible initialization).","     */","    constructor(randomOrSeed) {","        if (randomOrSeed === void 0) { randomOrSeed = Math.random; }","        const random = typeof randomOrSeed == 'function' ? randomOrSeed : alea(randomOrSeed);","        this.p = buildPermutationTable(random);","        this.perm = new Uint8Array(512);","        this.permMod12 = new Uint8Array(512);","        for (let i = 0; i < 512; i++) {","            this.perm[i] = this.p[i & 255];","            this.permMod12[i] = this.perm[i] % 12;","        }","    }","","    /**","     * Samples the noise field in 2 dimensions","     * @param {number} x","     * @param {number} y","     * @returns a number in the interval [-1, 1]","     */","    noise2D(x, y) {","        const permMod12 = this.permMod12;","        const perm = this.perm;","        let n0 = 0; // Noise contributions from the three corners","        let n1 = 0;","        let n2 = 0;","        // Skew the input space to determine which simplex cell we're in","        const s = (x + y) * F2; // Hairy factor for 2D","        const i = Math.floor(x + s);","        const j = Math.floor(y + s);","        const t = (i + j) * G2;","        const X0 = i - t; // Unskew the cell origin back to (x,y) space","        const Y0 = j - t;","        const x0 = x - X0; // The x,y distances from the cell origin","        const y0 = y - Y0;","        // For the 2D case, the simplex shape is an equilateral triangle.","        // Determine which simplex we are in.","        let i1, j1; // Offsets for second (middle) corner of simplex in (i,j) coords","        if (x0 > y0) {","            i1 = 1;","            j1 = 0;","        } // lower triangle, XY order: (0,0)->(1,0)->(1,1)","        else {","            i1 = 0;","            j1 = 1;","        } // upper triangle, YX order: (0,0)->(0,1)->(1,1)","        // A step of (1,0) in (i,j) means a step of (1-c,-c) in (x,y), and","        // a step of (0,1) in (i,j) means a step of (-c,1-c) in (x,y), where","        // c = (3-sqrt(3))/6","        const x1 = x0 - i1 + G2; // Offsets for middle corner in (x,y) unskewed coords","        const y1 = y0 - j1 + G2;","        const x2 = x0 - 1.0 + 2.0 * G2; // Offsets for last corner in (x,y) unskewed coords","        const y2 = y0 - 1.0 + 2.0 * G2;","        // Work out the hashed gradient indices of the three simplex corners","        const ii = i & 255;","        const jj = j & 255;","        // Calculate the contribution from the three corners","        let t0 = 0.5 - x0 * x0 - y0 * y0;","        if (t0 >= 0) {","            const gi0 = permMod12[ii + perm[jj]] * 3;","            t0 *= t0;","            n0 = t0 * t0 * (grad3[gi0] * x0 + grad3[gi0 + 1] * y0); // (x,y) of grad3 used for 2D gradient","        }","        let t1 = 0.5 - x1 * x1 - y1 * y1;","        if (t1 >= 0) {","            const gi1 = permMod12[ii + i1 + perm[jj + j1]] * 3;","            t1 *= t1;","            n1 = t1 * t1 * (grad3[gi1] * x1 + grad3[gi1 + 1] * y1);","        }","        let t2 = 0.5 - x2 * x2 - y2 * y2;","        if (t2 >= 0) {","            const gi2 = permMod12[ii + 1 + perm[jj + 1]] * 3;","            t2 *= t2;","            n2 = t2 * t2 * (grad3[gi2] * x2 + grad3[gi2 + 1] * y2);","        }","        // Add contributions from each corner to get the final noise value.","        // The result is scaled to return values in the interval [-1,1].","        return 70.0 * (n0 + n1 + n2);","    }","","    /**","     * Samples the noise field in 3 dimensions","     * @param {number} x","     * @param {number} y","     * @param {number} z","     * @returns a number in the interval [-1, 1]","     */","    noise3D(x, y, z) {","        const permMod12 = this.permMod12;","        const perm = this.perm;","        let n0, n1, n2, n3; // Noise contributions from the four corners","        // Skew the input space to determine which simplex cell we're in","        const s = (x + y + z) * F3; // Very nice and simple skew factor for 3D","        const i = Math.floor(x + s);","        const j = Math.floor(y + s);","        const k = Math.floor(z + s);","        const t = (i + j + k) * G3;","        const X0 = i - t; // Unskew the cell origin back to (x,y,z) space","        const Y0 = j - t;","        const Z0 = k - t;","        const x0 = x - X0; // The x,y,z distances from the cell origin","        const y0 = y - Y0;","        const z0 = z - Z0;","        // For the 3D case, the simplex shape is a slightly irregular tetrahedron.","        // Determine which simplex we are in.","        let i1, j1, k1; // Offsets for second corner of simplex in (i,j,k) coords","        let i2, j2, k2; // Offsets for third corner of simplex in (i,j,k) coords","        if (x0 >= y0) {","            if (y0 >= z0) {","                i1 = 1;","                j1 = 0;","                k1 = 0;","                i2 = 1;","                j2 = 1;","                k2 = 0;","            } // X Y Z order","            else if (x0 >= z0) {","                i1 = 1;","                j1 = 0;","                k1 = 0;","                i2 = 1;","                j2 = 0;","                k2 = 1;","            } // X Z Y order","            else {","                i1 = 0;","                j1 = 0;","                k1 = 1;","                i2 = 1;","                j2 = 0;","                k2 = 1;","            } // Z X Y order","        }","        else { // x0<y0","            if (y0 < z0) {","                i1 = 0;","                j1 = 0;","                k1 = 1;","                i2 = 0;","                j2 = 1;","                k2 = 1;","            } // Z Y X order","            else if (x0 < z0) {","                i1 = 0;","                j1 = 1;","                k1 = 0;","                i2 = 0;","                j2 = 1;","                k2 = 1;","            } // Y Z X order","            else {","                i1 = 0;","                j1 = 1;","                k1 = 0;","                i2 = 1;","                j2 = 1;","                k2 = 0;","            } // Y X Z order","        }","        // A step of (1,0,0) in (i,j,k) means a step of (1-c,-c,-c) in (x,y,z),","        // a step of (0,1,0) in (i,j,k) means a step of (-c,1-c,-c) in (x,y,z), and","        // a step of (0,0,1) in (i,j,k) means a step of (-c,-c,1-c) in (x,y,z), where","        // c = 1/6.","        const x1 = x0 - i1 + G3; // Offsets for second corner in (x,y,z) coords","        const y1 = y0 - j1 + G3;","        const z1 = z0 - k1 + G3;","        const x2 = x0 - i2 + 2.0 * G3; // Offsets for third corner in (x,y,z) coords","        const y2 = y0 - j2 + 2.0 * G3;","        const z2 = z0 - k2 + 2.0 * G3;","        const x3 = x0 - 1.0 + 3.0 * G3; // Offsets for last corner in (x,y,z) coords","        const y3 = y0 - 1.0 + 3.0 * G3;","        const z3 = z0 - 1.0 + 3.0 * G3;","        // Work out the hashed gradient indices of the four simplex corners","        const ii = i & 255;","        const jj = j & 255;","        const kk = k & 255;","        // Calculate the contribution from the four corners","        let t0 = 0.6 - x0 * x0 - y0 * y0 - z0 * z0;","        if (t0 < 0)","            n0 = 0.0;","        else {","            const gi0 = permMod12[ii + perm[jj + perm[kk]]] * 3;","            t0 *= t0;","            n0 = t0 * t0 * (grad3[gi0] * x0 + grad3[gi0 + 1] * y0 + grad3[gi0 + 2] * z0);","        }","        let t1 = 0.6 - x1 * x1 - y1 * y1 - z1 * z1;","        if (t1 < 0)","            n1 = 0.0;","        else {","            const gi1 = permMod12[ii + i1 + perm[jj + j1 + perm[kk + k1]]] * 3;","            t1 *= t1;","            n1 = t1 * t1 * (grad3[gi1] * x1 + grad3[gi1 + 1] * y1 + grad3[gi1 + 2] * z1);","        }","        let t2 = 0.6 - x2 * x2 - y2 * y2 - z2 * z2;","        if (t2 < 0)","            n2 = 0.0;","        else {","            const gi2 = permMod12[ii + i2 + perm[jj + j2 + perm[kk + k2]]] * 3;","            t2 *= t2;","            n2 = t2 * t2 * (grad3[gi2] * x2 + grad3[gi2 + 1] * y2 + grad3[gi2 + 2] * z2);","        }","        let t3 = 0.6 - x3 * x3 - y3 * y3 - z3 * z3;","        if (t3 < 0)","            n3 = 0.0;","        else {","            const gi3 = permMod12[ii + 1 + perm[jj + 1 + perm[kk + 1]]] * 3;","            t3 *= t3;","            n3 = t3 * t3 * (grad3[gi3] * x3 + grad3[gi3 + 1] * y3 + grad3[gi3 + 2] * z3);","        }","        // Add contributions from each corner to get the final noise value.","        // The result is scaled to stay just inside [-1,1]","        return 32.0 * (n0 + n1 + n2 + n3);","    }","","    /**","     * Samples the noise field in 4 dimensions","     * @param {number} x","     * @param {number} y","     * @param {number} z","     * @returns a number in the interval [-1, 1]","     */","    noise4D(x, y, z, w) {","        const perm = this.perm;","        let n0, n1, n2, n3, n4; // Noise contributions from the five corners","        // Skew the (x,y,z,w) space to determine which cell of 24 simplices we're in","        const s = (x + y + z + w) * F4; // Factor for 4D skewing","        const i = Math.floor(x + s);","        const j = Math.floor(y + s);","        const k = Math.floor(z + s);","        const l = Math.floor(w + s);","        const t = (i + j + k + l) * G4; // Factor for 4D unskewing","        const X0 = i - t; // Unskew the cell origin back to (x,y,z,w) space","        const Y0 = j - t;","        const Z0 = k - t;","        const W0 = l - t;","        const x0 = x - X0; // The x,y,z,w distances from the cell origin","        const y0 = y - Y0;","        const z0 = z - Z0;","        const w0 = w - W0;","        // For the 4D case, the simplex is a 4D shape I won't even try to describe.","        // To find out which of the 24 possible simplices we're in, we need to","        // determine the magnitude ordering of x0, y0, z0 and w0.","        // Six pair-wise comparisons are performed between each possible pair","        // of the four coordinates, and the results are used to rank the numbers.","        let rankx = 0;","        let ranky = 0;","        let rankz = 0;","        let rankw = 0;","        if (x0 > y0)","            rankx++;","        else","            ranky++;","        if (x0 > z0)","            rankx++;","        else","            rankz++;","        if (x0 > w0)","            rankx++;","        else","            rankw++;","        if (y0 > z0)","            ranky++;","        else","            rankz++;","        if (y0 > w0)","            ranky++;","        else","            rankw++;","        if (z0 > w0)","            rankz++;","        else","            rankw++;","        // simplex[c] is a 4-vector with the numbers 0, 1, 2 and 3 in some order.","        // Many values of c will never occur, since e.g. x>y>z>w makes x<z, y<w and x<w","        // impossible. Only the 24 indices which have non-zero entries make any sense.","        // We use a thresholding to set the coordinates in turn from the largest magnitude.","        // Rank 3 denotes the largest coordinate.","        // Rank 2 denotes the second largest coordinate.","        // Rank 1 denotes the second smallest coordinate.","        // The integer offsets for the second simplex corner","        const i1 = rankx >= 3 ? 1 : 0;","        const j1 = ranky >= 3 ? 1 : 0;","        const k1 = rankz >= 3 ? 1 : 0;","        const l1 = rankw >= 3 ? 1 : 0;","        // The integer offsets for the third simplex corner","        const i2 = rankx >= 2 ? 1 : 0;","        const j2 = ranky >= 2 ? 1 : 0;","        const k2 = rankz >= 2 ? 1 : 0;","        const l2 = rankw >= 2 ? 1 : 0;","        // The integer offsets for the fourth simplex corner","        const i3 = rankx >= 1 ? 1 : 0;","        const j3 = ranky >= 1 ? 1 : 0;","        const k3 = rankz >= 1 ? 1 : 0;","        const l3 = rankw >= 1 ? 1 : 0;","        // The fifth corner has all coordinate offsets = 1, so no need to compute that.","        const x1 = x0 - i1 + G4; // Offsets for second corner in (x,y,z,w) coords","        const y1 = y0 - j1 + G4;","        const z1 = z0 - k1 + G4;","        const w1 = w0 - l1 + G4;","        const x2 = x0 - i2 + 2.0 * G4; // Offsets for third corner in (x,y,z,w) coords","        const y2 = y0 - j2 + 2.0 * G4;","        const z2 = z0 - k2 + 2.0 * G4;","        const w2 = w0 - l2 + 2.0 * G4;","        const x3 = x0 - i3 + 3.0 * G4; // Offsets for fourth corner in (x,y,z,w) coords","        const y3 = y0 - j3 + 3.0 * G4;","        const z3 = z0 - k3 + 3.0 * G4;","        const w3 = w0 - l3 + 3.0 * G4;","        const x4 = x0 - 1.0 + 4.0 * G4; // Offsets for last corner in (x,y,z,w) coords","        const y4 = y0 - 1.0 + 4.0 * G4;","        const z4 = z0 - 1.0 + 4.0 * G4;","        const w4 = w0 - 1.0 + 4.0 * G4;","        // Work out the hashed gradient indices of the five simplex corners","        const ii = i & 255;","        const jj = j & 255;","        const kk = k & 255;","        const ll = l & 255;","        // Calculate the contribution from the five corners","        let t0 = 0.6 - x0 * x0 - y0 * y0 - z0 * z0 - w0 * w0;","        if (t0 < 0)","            n0 = 0.0;","        else {","            const gi0 = (perm[ii + perm[jj + perm[kk + perm[ll]]]] % 32) * 4;","            t0 *= t0;","            n0 = t0 * t0 * (grad4[gi0] * x0 + grad4[gi0 + 1] * y0 + grad4[gi0 + 2] * z0 + grad4[gi0 + 3] * w0);","        }","        let t1 = 0.6 - x1 * x1 - y1 * y1 - z1 * z1 - w1 * w1;","        if (t1 < 0)","            n1 = 0.0;","        else {","            const gi1 = (perm[ii + i1 + perm[jj + j1 + perm[kk + k1 + perm[ll + l1]]]] % 32) * 4;","            t1 *= t1;","            n1 = t1 * t1 * (grad4[gi1] * x1 + grad4[gi1 + 1] * y1 + grad4[gi1 + 2] * z1 + grad4[gi1 + 3] * w1);","        }","        let t2 = 0.6 - x2 * x2 - y2 * y2 - z2 * z2 - w2 * w2;","        if (t2 < 0)","            n2 = 0.0;","        else {","            const gi2 = (perm[ii + i2 + perm[jj + j2 + perm[kk + k2 + perm[ll + l2]]]] % 32) * 4;","            t2 *= t2;","            n2 = t2 * t2 * (grad4[gi2] * x2 + grad4[gi2 + 1] * y2 + grad4[gi2 + 2] * z2 + grad4[gi2 + 3] * w2);","        }","        let t3 = 0.6 - x3 * x3 - y3 * y3 - z3 * z3 - w3 * w3;","        if (t3 < 0)","            n3 = 0.0;","        else {","            const gi3 = (perm[ii + i3 + perm[jj + j3 + perm[kk + k3 + perm[ll + l3]]]] % 32) * 4;","            t3 *= t3;","            n3 = t3 * t3 * (grad4[gi3] * x3 + grad4[gi3 + 1] * y3 + grad4[gi3 + 2] * z3 + grad4[gi3 + 3] * w3);","        }","        let t4 = 0.6 - x4 * x4 - y4 * y4 - z4 * z4 - w4 * w4;","        if (t4 < 0)","            n4 = 0.0;","        else {","            const gi4 = (perm[ii + 1 + perm[jj + 1 + perm[kk + 1 + perm[ll + 1]]]] % 32) * 4;","            t4 *= t4;","            n4 = t4 * t4 * (grad4[gi4] * x4 + grad4[gi4 + 1] * y4 + grad4[gi4 + 2] * z4 + grad4[gi4 + 3] * w4);","        }","        // Sum up and scale the result to cover the range [-1,1]","        return 27.0 * (n0 + n1 + n2 + n3 + n4);","    };","}","","gdjs._cameraShakeExtension = {","    noiseManager: new NoiseManager(),","};",""],"parameterObjects":"","useStrict":true,"eventsSheetExpanded":true}],"parameters":[],"objectGroups":[]},{"description":"Generate a number from 2 dimensional simplex noise.","fullName":"2D noise","functionType":"Expression","name":"Noise2d","private":true,"sentence":"","events":[{"type":"BuiltinCommonInstructions::JsCode","inlineCode":["const name = eventsFunctionContext.getArgument(\"Name\");\r","const x = eventsFunctionContext.getArgument(\"X\");\r","const y = eventsFunctionContext.getArgument(\"Y\");\r","\r","eventsFunctionContext.returnValue = gdjs._cameraShakeExtension.noiseManager.getGenerator(name).noise(x, y);"],"parameterObjects":"","useStrict":true,"eventsSheetExpanded":true}],"expressionType":{"type":"expression"},"parameters":[{"description":"Generator name","name":"Name","type":"string"},{"description":"X coordinate","name":"X","type":"expression"},{"description":"Y coordinate","name":"Y","type":"expression"}],"objectGroups":[]},{"description":"Generate a number from 3 dimensional simplex noise.","fullName":"3D noise","functionType":"Expression","name":"Noise3d","private":true,"sentence":"","events":[{"type":"BuiltinCommonInstructions::JsCode","inlineCode":["const name = eventsFunctionContext.getArgument(\"Name\");\r","const x = eventsFunctionContext.getArgument(\"X\");\r","const y = eventsFunctionContext.getArgument(\"Y\");\r","const z = eventsFunctionContext.getArgument(\"Z\");\r","\r","eventsFunctionContext.returnValue = gdjs._cameraShakeExtension.noiseManager.getGenerator(name).noise(x, y, z);"],"parameterObjects":"","useStrict":true,"eventsSheetExpanded":true}],"expressionType":{"type":"expression"},"parameters":[{"description":"Generator name","name":"Name","type":"string"},{"description":"X coordinate","name":"X","type":"expression"},{"description":"Y coordinate","name":"Y","type":"expression"},{"description":"Z coordinate","name":"Z","type":"expression"}],"objectGroups":[]},{"description":"Generate a number from 4 dimensional simplex noise.","fullName":"4D noise","functionType":"Expression","name":"Noise4d","private":true,"sentence":"","events":[{"type":"BuiltinCommonInstructions::JsCode","inlineCode":["const name = eventsFunctionContext.getArgument(\"Name\");\r","const x = eventsFunctionContext.getArgument(\"X\");\r","const y = eventsFunctionContext.getArgument(\"Y\");\r","const z = eventsFunctionContext.getArgument(\"Z\");\r","const w = eventsFunctionContext.getArgument(\"W\");\r","\r","eventsFunctionContext.returnValue = gdjs._cameraShakeExtension.noiseManager.getGenerator(name).noise(x, y, z, w);"],"parameterObjects":"","useStrict":true,"eventsSheetExpanded":true}],"expressionType":{"type":"expression"},"parameters":[{"description":"Generator name","name":"Name","type":"string"},{"description":"X coordinate","name":"X","type":"expression"},{"description":"Y coordinate","name":"Y","type":"expression"},{"description":"Z coordinate","name":"Z","type":"expression"},{"description":"W coordinate","name":"W","type":"expression"}],"objectGroups":[]},{"description":"Create a noise generator with default settings (frequency = 1,  octaves = 1, persistence = 0.5, lacunarity = 2).","fullName":"Create a noise generator","functionType":"Action","name":"Create","private":true,"sentence":"Create a noise generator named _PARAM1_","events":[{"type":"BuiltinCommonInstructions::JsCode","inlineCode":["const name = eventsFunctionContext.getArgument(\"Name\");\r","\r","gdjs._cameraShakeExtension.noiseManager.getGenerator(name);"],"parameterObjects":"","useStrict":true,"eventsSheetExpanded":false}],"parameters":[{"description":"Generator name","name":"Name","type":"string"}],"objectGroups":[]},{"description":"Delete a noise generator and loose its settings.","fullName":"Delete a noise generator","functionType":"Action","name":"Delete","private":true,"sentence":"Delete _PARAM1_ noise generator","events":[{"type":"BuiltinCommonInstructions::JsCode","inlineCode":["const name = eventsFunctionContext.getArgument(\"Name\");\r","\r","gdjs._cameraShakeExtension.noiseManager.deleteGenerator(name);"],"parameterObjects":"","useStrict":true,"eventsSheetExpanded":false}],"parameters":[{"description":"Generator name","name":"Name","type":"string"}],"objectGroups":[]},{"description":"Delete all noise generators and loose their settings.","fullName":"Delete all noise generators","functionType":"Action","name":"DeleteAll","private":true,"sentence":"Delete all noise generators","events":[{"type":"BuiltinCommonInstructions::JsCode","inlineCode":"gdjs._cameraShakeExtension.noiseManager.deleteAllGenerators();","parameterObjects":"","useStrict":true,"eventsSheetExpanded":false}],"parameters":[],"objectGroups":[]},{"description":"The seed is a number used to generate the random noise. Setting the same seed will result in the same random noise generation. It's for example useful to generate the same world, by saving this seed value and reusing it later to generate again a world.","fullName":"Noise seed","functionType":"Action","name":"SetSeed","private":true,"sentence":"Change the noise seed to _PARAM1_","events":[{"type":"BuiltinCommonInstructions::JsCode","inlineCode":"gdjs._cameraShakeExtension.noiseManager.setSeed(eventsFunctionContext.getArgument(\"Seed\"));","parameterObjects":"","useStrict":true,"eventsSheetExpanded":false}],"parameters":[{"description":"Seed","longDescription":"15 digits numbers maximum","name":"Seed","type":"expression"}],"objectGroups":[]},{"description":"Change the looping period on X used for noise generation. The noise will wrap-around on X.","fullName":"Noise looping period on X","functionType":"Action","name":"SetLoopPeriodX","private":true,"sentence":"Change the looping period on X of _PARAM2_: _PARAM1_","events":[{"type":"BuiltinCommonInstructions::JsCode","inlineCode":["const name = eventsFunctionContext.getArgument(\"Name\");\r","\r","gdjs._cameraShakeExtension.noiseManager.getGenerator(name).xLoopPeriod = eventsFunctionContext.getArgument(\"LoopPeriod\");"],"parameterObjects":"","useStrict":true,"eventsSheetExpanded":false}],"parameters":[{"description":"Looping period on X","name":"LoopPeriod","type":"expression"},{"description":"Generator name","name":"Name","type":"string"}],"objectGroups":[]},{"description":"Change the looping period on Y used for noise generation. The noise will wrap-around on Y.","fullName":"Noise looping period on Y","functionType":"Action","name":"SetLoopPeriodY","private":true,"sentence":"Change the looping period on Y of _PARAM2_: _PARAM1_","events":[{"type":"BuiltinCommonInstructions::JsCode","inlineCode":["const name = eventsFunctionContext.getArgument(\"Name\");\r","\r","gdjs._cameraShakeExtension.noiseManager.getGenerator(name).yLoopPeriod = eventsFunctionContext.getArgument(\"LoopPeriod\");"],"parameterObjects":"","useStrict":true,"eventsSheetExpanded":true}],"parameters":[{"description":"Looping period on Y","name":"LoopPeriod","type":"expression"},{"description":"Generator name","name":"Name","type":"string"}],"objectGroups":[]},{"description":"Change the base frequency used for noise generation. A lower frequency will zoom in the noise.","fullName":"Noise base frequency","functionType":"Action","name":"SetFrequency","private":true,"sentence":"Change the noise frequency of _PARAM2_: _PARAM1_","events":[{"type":"BuiltinCommonInstructions::JsCode","inlineCode":["const name = eventsFunctionContext.getArgument(\"Name\");\r","\r","gdjs._cameraShakeExtension.noiseManager.getGenerator(name).frequency = eventsFunctionContext.getArgument(\"Frequency\");"],"parameterObjects":"","useStrict":true,"eventsSheetExpanded":false}],"parameters":[{"description":"Frequency","name":"Frequency","type":"expression"},{"description":"Generator name","name":"Name","type":"string"}],"objectGroups":[]},{"description":"Change the number of octaves used for noise generation. It can be seen as layers of noise with different zoom.","fullName":"Noise octaves","functionType":"Action","name":"SetOctaves","private":true,"sentence":"Change the number of noise octaves of _PARAM2_: _PARAM1_","events":[{"type":"BuiltinCommonInstructions::JsCode","inlineCode":["const name = eventsFunctionContext.getArgument(\"Name\");\r","\r","gdjs._cameraShakeExtension.noiseManager.getGenerator(name).octaves = eventsFunctionContext.getArgument(\"Octaves\");"],"parameterObjects":"","useStrict":true,"eventsSheetExpanded":false}],"parameters":[{"description":"Octaves","name":"Octaves","type":"expression"},{"description":"Generator name","name":"Name","type":"string"}],"objectGroups":[]},{"description":"Change the persistence used for noise generation. At its default value \"0.5\", it halves the noise amplitude at each octave.","fullName":"Noise persistence","functionType":"Action","name":"SetPersistence","private":true,"sentence":"Change the noise persistence of _PARAM2_: _PARAM1_","events":[{"type":"BuiltinCommonInstructions::JsCode","inlineCode":["const name = eventsFunctionContext.getArgument(\"Name\");\r","\r","gdjs._cameraShakeExtension.noiseManager.getGenerator(name).persistence = eventsFunctionContext.getArgument(\"Persistence\");"],"parameterObjects":"","useStrict":true,"eventsSheetExpanded":false}],"parameters":[{"description":"Persistence","name":"Persistence","type":"expression"},{"description":"Generator name","name":"Name","type":"string"}],"objectGroups":[]},{"description":"Change the lacunarity used for noise generation. At its default value \"2\", it doubles the frequency at each octave.","fullName":"Noise lacunarity","functionType":"Action","name":"SetLacunarity","private":true,"sentence":"Change the noise lacunarity of _PARAM2_: _PARAM1_","events":[{"type":"BuiltinCommonInstructions::JsCode","inlineCode":["const name = eventsFunctionContext.getArgument(\"Name\");\r","\r","gdjs._cameraShakeExtension.noiseManager.getGenerator(name).lacunarity = eventsFunctionContext.getArgument(\"Lacunarity\");"],"parameterObjects":"","useStrict":true,"eventsSheetExpanded":false}],"parameters":[{"description":"Lacunarity","name":"Lacunarity","type":"expression"},{"description":"Generator name","name":"Name","type":"string"}],"objectGroups":[]},{"description":"The seed used for noise generation.","fullName":"Noise seed","functionType":"Expression","name":"Seed","private":true,"sentence":"","events":[{"type":"BuiltinCommonInstructions::JsCode","inlineCode":"eventsFunctionContext.returnValue = gdjs._cameraShakeExtension.noiseManager.seed;","parameterObjects":"","useStrict":true,"eventsSheetExpanded":false}],"expressionType":{"type":"expression"},"parameters":[],"objectGroups":[]},{"description":"The base frequency used for noise generation.","fullName":"Noise base frequency","functionType":"Expression","name":"Frequency","private":true,"sentence":"","events":[{"type":"BuiltinCommonInstructions::JsCode","inlineCode":["const name = eventsFunctionContext.getArgument(\"Name\");\r","\r","eventsFunctionContext.returnValue = gdjs._cameraShakeExtension.noiseManager.getGenerator(name).frequency;"],"parameterObjects":"","useStrict":true,"eventsSheetExpanded":false}],"expressionType":{"type":"expression"},"parameters":[{"description":"Generator name","name":"Name","type":"string"}],"objectGroups":[]},{"description":"The number of octaves used for noise generation.","fullName":"Noise octaves number","functionType":"Expression","name":"Octaves","private":true,"sentence":"","events":[{"type":"BuiltinCommonInstructions::JsCode","inlineCode":["const name = eventsFunctionContext.getArgument(\"Name\");\r","\r","eventsFunctionContext.returnValue = gdjs._cameraShakeExtension.noiseManager.getGenerator(name).octaves;"],"parameterObjects":"","useStrict":true,"eventsSheetExpanded":false}],"expressionType":{"type":"expression"},"parameters":[{"description":"Generator name","name":"Name","type":"string"}],"objectGroups":[]},{"description":"The persistence used for noise generation.","fullName":"Noise persistence","functionType":"Expression","name":"Persistence","private":true,"sentence":"","events":[{"type":"BuiltinCommonInstructions::JsCode","inlineCode":["const name = eventsFunctionContext.getArgument(\"Name\");\r","\r","eventsFunctionContext.returnValue = gdjs._cameraShakeExtension.noiseManager.getGenerator(name).persistence;"],"parameterObjects":"","useStrict":true,"eventsSheetExpanded":false}],"expressionType":{"type":"expression"},"parameters":[{"description":"Generator name","name":"Name","type":"string"}],"objectGroups":[]},{"description":"The lacunarity used for noise generation.","fullName":"Noise lacunarity","functionType":"Expression","name":"Lacunarity","private":true,"sentence":"","events":[{"type":"BuiltinCommonInstructions::JsCode","inlineCode":["const name = eventsFunctionContext.getArgument(\"Name\");\r","\r","eventsFunctionContext.returnValue = gdjs._cameraShakeExtension.noiseManager.getGenerator(name).lacunarity;"],"parameterObjects":"","useStrict":true,"eventsSheetExpanded":false}],"expressionType":{"type":"expression"},"parameters":[{"description":"Generator name","name":"Name","type":"string"}],"objectGroups":[]}],"eventsBasedBehaviors":[],"eventsBasedObjects":[]},{"author":"","category":"Visual effect","extensionNamespace":"","fullName":"3D object shake","helpPath":"","iconUrl":"data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiPz48IURPQ1RZUEUgc3ZnIFBVQkxJQyAiLS8vVzNDLy9EVEQgU1ZHIDEuMS8vRU4iICJodHRwOi8vd3d3LnczLm9yZy9HcmFwaGljcy9TVkcvMS4xL0RURC9zdmcxMS5kdGQiPjxzdmcgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayIgdmVyc2lvbj0iMS4xIiBpZD0ibWRpLXZlY3Rvci1kaWZmZXJlbmNlLWFiIiB3aWR0aD0iMjQiIGhlaWdodD0iMjQiIHZpZXdCb3g9IjAgMCAyNCAyNCI+PHBhdGggZD0iTTMsMUMxLjg5LDEgMSwxLjg5IDEsM1Y1SDNWM0g1VjFIM003LDFWM0gxMFYxSDdNMTIsMVYzSDE0VjVIMTZWM0MxNiwxLjg5IDE1LjExLDEgMTQsMUgxMk0xLDdWMTBIM1Y3SDFNMTQsN0MxNCw3IDE0LDExLjY3IDE0LDE0QzExLjY3LDE0IDcsMTQgNywxNEM3LDE0IDcsMTggNywyMEM3LDIxLjExIDcuODksMjIgOSwyMkgyMEMyMS4xMSwyMiAyMiwyMS4xMSAyMiwyMFY5QzIyLDcuODkgMjEuMTEsNyAyMCw3QzE4LDcgMTQsNyAxNCw3TTE2LDlIMjBWMjBIOVYxNkgxNEMxNS4xMSwxNiAxNiwxNS4xMSAxNiwxNFY5TTEsMTJWMTRDMSwxNS4xMSAxLjg5LDE2IDMsMTZINVYxNEgzVjEySDFaIiAvPjwvc3ZnPg==","name":"ShakeObject3D","previewIconUrl":"https://resources.gdevelop-app.com/assets/Icons/vector-difference-ab.svg","shortDescription":"Shake 3D objects.","version":"2.0.4","description":["Shake 3D objects with translation and rotation.","","The 3D racing game example uses this extension ([open the project online](https://editor.gdevelop.io/?project=example://3d-racing-game)).","","Breaking changes from 2.0.0","- The behavior for 3D box has been removed. The other behavior can be used for both models and boxes."],"origin":{"identifier":"ShakeObject3D","name":"gdevelop-extension-store"},"tags":["3d","shaking","effect","shake","translate","rotate"],"authorIds":["IWykYNRvhCZBN3vEgKEbBPOR3Oc2"],"dependencies":[],"globalVariables":[],"sceneVariables":[],"eventsFunctions":[{"fullName":"","functionType":"Action","name":"onFirstSceneLoaded","sentence":"","events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[],"actions":[{"type":{"value":"ShakeObject3D::DefineHelperClasses"},"parameters":["",""]}]}],"parameters":[],"objectGroups":[]},{"description":"Define helper classes JavaScript code.","fullName":"Define helper classes","functionType":"Action","name":"DefineHelperClasses","private":true,"sentence":"Define helper classes JavaScript code","events":[{"type":"BuiltinCommonInstructions::JsCode","inlineCode":["if (gdjs._shakeObjectExtension) {","    return;","}","","/** Noise generator manager. */","class NoiseManager {","    /**","     * Create the manager of noise generators.","     */","    constructor() {","        this.seed = gdjs.randomInRange(1, Number.MAX_SAFE_INTEGER);","        /** @type {Map<string, NoiseGenerator>} */","        this.generators = new Map();","    }","","    /**","     * @param name {string}","     * @return {NoiseGenerator}","     */","    getGenerator(name) {","        let generator = this.generators.get(name);","        if (!generator) {","            generator = new NoiseGenerator(name + this.seed);","            this.generators.set(name, generator);","        }","        return generator;","    }","","    /**","     * @param seed {number}","     */","    setSeed(seed) {","        this.seed = seed;","        this.generators.forEach(generator => generator.setSeed(name + this.seed));","    }","","    /**","     * @param name {string}","     */","    deleteGenerator(name) {","        this.generators.delete(name);","    }","","    /**","     */","    deleteAllGenerators() {","        this.generators.clear();","    }","}","","/** Noise generator with octaves. */","class NoiseGenerator {","    /**","     * Create a noise generator with a seed.","     * @param seed {string}","     */","    constructor(seed) {","        this.simplexNoise = new SimplexNoise(seed);","        this.frequency = 1;","        this.octaves = 1;","        this.persistence = 0.5;","        this.lacunarity = 2;","        this.xLoopPeriod = 0;","        this.yLoopPeriod = 0;","    }","","    /**","     * @param seed {string}","     */","    setSeed(seed) {","        this.simplexNoise = new SimplexNoise(seed);","    }","","    /**","     * @param x {float}","     * @param y {float}","     * @param z {float} optionnal","     * @param w {float} optionnal","     * @return {float}","     */","    noise(x, y, z, w) {","        if (this.xLoopPeriod && this.yLoopPeriod) {","            const circleRatioX = 2 * Math.PI / this.xLoopPeriod;","            const circleRatioY = 2 * Math.PI / this.yLoopPeriod;","            const angleX = circleRatioX * x;","            const angleY = circleRatioY * y;","            x = Math.cos(angleX) / circleRatioX;","            y = Math.sin(angleX) / circleRatioX;","            z = Math.cos(angleY) / circleRatioY;","            w = Math.sin(angleY) / circleRatioY;","        }","        else if (this.xLoopPeriod) {","            const circleRatio = 2 * Math.PI / this.xLoopPeriod;","            const angleX = circleRatio * x;","            w = z;","            z = y;","            x = Math.cos(angleX) / circleRatio;","            y = Math.sin(angleX) / circleRatio;","        }","        else if (this.yLoopPeriod) {","            const circleRatio = 2 * Math.PI / this.xLoopPeriod;","            const angleX = circleRatio * x;","            w = z;","            // Make the circle perimeter equals to the looping period","            // to keep the same perceived frequency with or without looping.","            y = Math.cos(angleX) / circleRatio;","            z = Math.sin(angleX) / circleRatio;","        }","        let noiseFunction = this.simplexNoise.noise4D.bind(this.simplexNoise);","        if (z === undefined) {","            noiseFunction = this.simplexNoise.noise2D.bind(this.simplexNoise);","        }","        else if (w === undefined) {","            noiseFunction = this.simplexNoise.noise3D.bind(this.simplexNoise);","        }","        let frequency = this.frequency;","        let noiseSum = 0;","        let amplitudeSum = 0;","        let amplitude = 1;","        for (let i = 0; i < this.octaves; i++) {","            noiseSum += noiseFunction(x * frequency, y * frequency, z * frequency, w * frequency) * amplitude;","            amplitudeSum += Math.abs(amplitude);","            amplitude *= this.persistence;","            frequency *= this.lacunarity;","        }","        return noiseSum / amplitudeSum;","    }","}","","/*","A fast javascript implementation of simplex noise by Jonas Wagner","https://github.com/jwagner/simplex-noise.js","","Based on a speed-improved simplex noise algorithm for 2D, 3D and 4D in Java.","Which is based on example code by Stefan Gustavson (stegu@itn.liu.se).","With Optimisations by Peter Eastman (peastman@drizzle.stanford.edu).","Better rank ordering method by Stefan Gustavson in 2012.",""," Copyright (c) 2021 Jonas Wagner",""," Permission is hereby granted, free of charge, to any person obtaining a copy"," of this software and associated documentation files (the \"Software\"), to deal"," in the Software without restriction, including without limitation the rights"," to use, copy, modify, merge, publish, distribute, sublicense, and/or sell"," copies of the Software, and to permit persons to whom the Software is"," furnished to do so, subject to the following conditions:",""," The above copyright notice and this permission notice shall be included in all"," copies or substantial portions of the Software.",""," THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR"," IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,"," FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE"," AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER"," LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,"," OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE"," SOFTWARE."," */","","const F2 = 0.5 * (Math.sqrt(3.0) - 1.0);","const G2 = (3.0 - Math.sqrt(3.0)) / 6.0;","const F3 = 1.0 / 3.0;","const G3 = 1.0 / 6.0;","const F4 = (Math.sqrt(5.0) - 1.0) / 4.0;","const G4 = (5.0 - Math.sqrt(5.0)) / 20.0;","const grad3 = new Float32Array([1, 1, 0,","    -1, 1, 0,","    1, -1, 0,","    -1, -1, 0,","    1, 0, 1,","    -1, 0, 1,","    1, 0, -1,","    -1, 0, -1,","    0, 1, 1,","    0, -1, 1,","    0, 1, -1,","    0, -1, -1]);","const grad4 = new Float32Array([0, 1, 1, 1, 0, 1, 1, -1, 0, 1, -1, 1, 0, 1, -1, -1,","    0, -1, 1, 1, 0, -1, 1, -1, 0, -1, -1, 1, 0, -1, -1, -1,","    1, 0, 1, 1, 1, 0, 1, -1, 1, 0, -1, 1, 1, 0, -1, -1,","    -1, 0, 1, 1, -1, 0, 1, -1, -1, 0, -1, 1, -1, 0, -1, -1,","    1, 1, 0, 1, 1, 1, 0, -1, 1, -1, 0, 1, 1, -1, 0, -1,","    -1, 1, 0, 1, -1, 1, 0, -1, -1, -1, 0, 1, -1, -1, 0, -1,","    1, 1, 1, 0, 1, 1, -1, 0, 1, -1, 1, 0, 1, -1, -1, 0,","    -1, 1, 1, 0, -1, 1, -1, 0, -1, -1, 1, 0, -1, -1, -1, 0]);","","","/**"," * Builds a random permutation table."," * This is exported only for (internal) testing purposes."," * Do not rely on this export."," * @param {() => number} random"," * @private"," */","function buildPermutationTable(random) {","    const p = new Uint8Array(256);","    for (let i = 0; i < 256; i++) {","        p[i] = i;","    }","    for (let i = 0; i < 255; i++) {","        const r = i + ~~(random() * (256 - i));","        const aux = p[i];","        p[i] = p[r];","        p[r] = aux;","    }","    return p;","}","","/*","The ALEA PRNG and masher code used by simplex-noise.js","is based on code by Johannes Baage, modified by Jonas Wagner.","See alea.md for the full license.","@param {string|number} seed","*/","function alea(seed) {","    let s0 = 0;","    let s1 = 0;","    let s2 = 0;","    let c = 1;","    const mash = masher();","    s0 = mash(' ');","    s1 = mash(' ');","    s2 = mash(' ');","    s0 -= mash(seed);","    if (s0 < 0) {","        s0 += 1;","    }","    s1 -= mash(seed);","    if (s1 < 0) {","        s1 += 1;","    }","    s2 -= mash(seed);","    if (s2 < 0) {","        s2 += 1;","    }","    return function () {","        const t = 2091639 * s0 + c * 2.3283064365386963e-10; // 2^-32","        s0 = s1;","        s1 = s2;","        return s2 = t - (c = t | 0);","    };","}","","function masher() {","    let n = 0xefc8249d;","    return function (data) {","        data = data.toString();","        for (let i = 0; i < data.length; i++) {","            n += data.charCodeAt(i);","            let h = 0.02519603282416938 * n;","            n = h >>> 0;","            h -= n;","            h *= n;","            n = h >>> 0;","            h -= n;","            n += h * 0x100000000; // 2^32","        }","        return (n >>> 0) * 2.3283064365386963e-10; // 2^-32","    };","}","","/** Deterministic simplex noise generator suitable for 2D, 3D and 4D spaces. */","class SimplexNoise {","    /**","     * Creates a new `SimplexNoise` instance.","     * This involves some setup. You can save a few cpu cycles by reusing the same instance.","     * @param {(() => number)|string|number} randomOrSeed A random number generator or a seed (string|number).","     * Defaults to Math.random (random irreproducible initialization).","     */","    constructor(randomOrSeed) {","        if (randomOrSeed === void 0) { randomOrSeed = Math.random; }","        const random = typeof randomOrSeed == 'function' ? randomOrSeed : alea(randomOrSeed);","        this.p = buildPermutationTable(random);","        this.perm = new Uint8Array(512);","        this.permMod12 = new Uint8Array(512);","        for (let i = 0; i < 512; i++) {","            this.perm[i] = this.p[i & 255];","            this.permMod12[i] = this.perm[i] % 12;","        }","    }","","    /**","     * Samples the noise field in 2 dimensions","     * @param {number} x","     * @param {number} y","     * @returns a number in the interval [-1, 1]","     */","    noise2D(x, y) {","        const permMod12 = this.permMod12;","        const perm = this.perm;","        let n0 = 0; // Noise contributions from the three corners","        let n1 = 0;","        let n2 = 0;","        // Skew the input space to determine which simplex cell we're in","        const s = (x + y) * F2; // Hairy factor for 2D","        const i = Math.floor(x + s);","        const j = Math.floor(y + s);","        const t = (i + j) * G2;","        const X0 = i - t; // Unskew the cell origin back to (x,y) space","        const Y0 = j - t;","        const x0 = x - X0; // The x,y distances from the cell origin","        const y0 = y - Y0;","        // For the 2D case, the simplex shape is an equilateral triangle.","        // Determine which simplex we are in.","        let i1, j1; // Offsets for second (middle) corner of simplex in (i,j) coords","        if (x0 > y0) {","            i1 = 1;","            j1 = 0;","        } // lower triangle, XY order: (0,0)->(1,0)->(1,1)","        else {","            i1 = 0;","            j1 = 1;","        } // upper triangle, YX order: (0,0)->(0,1)->(1,1)","        // A step of (1,0) in (i,j) means a step of (1-c,-c) in (x,y), and","        // a step of (0,1) in (i,j) means a step of (-c,1-c) in (x,y), where","        // c = (3-sqrt(3))/6","        const x1 = x0 - i1 + G2; // Offsets for middle corner in (x,y) unskewed coords","        const y1 = y0 - j1 + G2;","        const x2 = x0 - 1.0 + 2.0 * G2; // Offsets for last corner in (x,y) unskewed coords","        const y2 = y0 - 1.0 + 2.0 * G2;","        // Work out the hashed gradient indices of the three simplex corners","        const ii = i & 255;","        const jj = j & 255;","        // Calculate the contribution from the three corners","        let t0 = 0.5 - x0 * x0 - y0 * y0;","        if (t0 >= 0) {","            const gi0 = permMod12[ii + perm[jj]] * 3;","            t0 *= t0;","            n0 = t0 * t0 * (grad3[gi0] * x0 + grad3[gi0 + 1] * y0); // (x,y) of grad3 used for 2D gradient","        }","        let t1 = 0.5 - x1 * x1 - y1 * y1;","        if (t1 >= 0) {","            const gi1 = permMod12[ii + i1 + perm[jj + j1]] * 3;","            t1 *= t1;","            n1 = t1 * t1 * (grad3[gi1] * x1 + grad3[gi1 + 1] * y1);","        }","        let t2 = 0.5 - x2 * x2 - y2 * y2;","        if (t2 >= 0) {","            const gi2 = permMod12[ii + 1 + perm[jj + 1]] * 3;","            t2 *= t2;","            n2 = t2 * t2 * (grad3[gi2] * x2 + grad3[gi2 + 1] * y2);","        }","        // Add contributions from each corner to get the final noise value.","        // The result is scaled to return values in the interval [-1,1].","        return 70.0 * (n0 + n1 + n2);","    }","","    /**","     * Samples the noise field in 3 dimensions","     * @param {number} x","     * @param {number} y","     * @param {number} z","     * @returns a number in the interval [-1, 1]","     */","    noise3D(x, y, z) {","        const permMod12 = this.permMod12;","        const perm = this.perm;","        let n0, n1, n2, n3; // Noise contributions from the four corners","        // Skew the input space to determine which simplex cell we're in","        const s = (x + y + z) * F3; // Very nice and simple skew factor for 3D","        const i = Math.floor(x + s);","        const j = Math.floor(y + s);","        const k = Math.floor(z + s);","        const t = (i + j + k) * G3;","        const X0 = i - t; // Unskew the cell origin back to (x,y,z) space","        const Y0 = j - t;","        const Z0 = k - t;","        const x0 = x - X0; // The x,y,z distances from the cell origin","        const y0 = y - Y0;","        const z0 = z - Z0;","        // For the 3D case, the simplex shape is a slightly irregular tetrahedron.","        // Determine which simplex we are in.","        let i1, j1, k1; // Offsets for second corner of simplex in (i,j,k) coords","        let i2, j2, k2; // Offsets for third corner of simplex in (i,j,k) coords","        if (x0 >= y0) {","            if (y0 >= z0) {","                i1 = 1;","                j1 = 0;","                k1 = 0;","                i2 = 1;","                j2 = 1;","                k2 = 0;","            } // X Y Z order","            else if (x0 >= z0) {","                i1 = 1;","                j1 = 0;","                k1 = 0;","                i2 = 1;","                j2 = 0;","                k2 = 1;","            } // X Z Y order","            else {","                i1 = 0;","                j1 = 0;","                k1 = 1;","                i2 = 1;","                j2 = 0;","                k2 = 1;","            } // Z X Y order","        }","        else { // x0<y0","            if (y0 < z0) {","                i1 = 0;","                j1 = 0;","                k1 = 1;","                i2 = 0;","                j2 = 1;","                k2 = 1;","            } // Z Y X order","            else if (x0 < z0) {","                i1 = 0;","                j1 = 1;","                k1 = 0;","                i2 = 0;","                j2 = 1;","                k2 = 1;","            } // Y Z X order","            else {","                i1 = 0;","                j1 = 1;","                k1 = 0;","                i2 = 1;","                j2 = 1;","                k2 = 0;","            } // Y X Z order","        }","        // A step of (1,0,0) in (i,j,k) means a step of (1-c,-c,-c) in (x,y,z),","        // a step of (0,1,0) in (i,j,k) means a step of (-c,1-c,-c) in (x,y,z), and","        // a step of (0,0,1) in (i,j,k) means a step of (-c,-c,1-c) in (x,y,z), where","        // c = 1/6.","        const x1 = x0 - i1 + G3; // Offsets for second corner in (x,y,z) coords","        const y1 = y0 - j1 + G3;","        const z1 = z0 - k1 + G3;","        const x2 = x0 - i2 + 2.0 * G3; // Offsets for third corner in (x,y,z) coords","        const y2 = y0 - j2 + 2.0 * G3;","        const z2 = z0 - k2 + 2.0 * G3;","        const x3 = x0 - 1.0 + 3.0 * G3; // Offsets for last corner in (x,y,z) coords","        const y3 = y0 - 1.0 + 3.0 * G3;","        const z3 = z0 - 1.0 + 3.0 * G3;","        // Work out the hashed gradient indices of the four simplex corners","        const ii = i & 255;","        const jj = j & 255;","        const kk = k & 255;","        // Calculate the contribution from the four corners","        let t0 = 0.6 - x0 * x0 - y0 * y0 - z0 * z0;","        if (t0 < 0)","            n0 = 0.0;","        else {","            const gi0 = permMod12[ii + perm[jj + perm[kk]]] * 3;","            t0 *= t0;","            n0 = t0 * t0 * (grad3[gi0] * x0 + grad3[gi0 + 1] * y0 + grad3[gi0 + 2] * z0);","        }","        let t1 = 0.6 - x1 * x1 - y1 * y1 - z1 * z1;","        if (t1 < 0)","            n1 = 0.0;","        else {","            const gi1 = permMod12[ii + i1 + perm[jj + j1 + perm[kk + k1]]] * 3;","            t1 *= t1;","            n1 = t1 * t1 * (grad3[gi1] * x1 + grad3[gi1 + 1] * y1 + grad3[gi1 + 2] * z1);","        }","        let t2 = 0.6 - x2 * x2 - y2 * y2 - z2 * z2;","        if (t2 < 0)","            n2 = 0.0;","        else {","            const gi2 = permMod12[ii + i2 + perm[jj + j2 + perm[kk + k2]]] * 3;","            t2 *= t2;","            n2 = t2 * t2 * (grad3[gi2] * x2 + grad3[gi2 + 1] * y2 + grad3[gi2 + 2] * z2);","        }","        let t3 = 0.6 - x3 * x3 - y3 * y3 - z3 * z3;","        if (t3 < 0)","            n3 = 0.0;","        else {","            const gi3 = permMod12[ii + 1 + perm[jj + 1 + perm[kk + 1]]] * 3;","            t3 *= t3;","            n3 = t3 * t3 * (grad3[gi3] * x3 + grad3[gi3 + 1] * y3 + grad3[gi3 + 2] * z3);","        }","        // Add contributions from each corner to get the final noise value.","        // The result is scaled to stay just inside [-1,1]","        return 32.0 * (n0 + n1 + n2 + n3);","    }","","    /**","     * Samples the noise field in 4 dimensions","     * @param {number} x","     * @param {number} y","     * @param {number} z","     * @returns a number in the interval [-1, 1]","     */","    noise4D(x, y, z, w) {","        const perm = this.perm;","        let n0, n1, n2, n3, n4; // Noise contributions from the five corners","        // Skew the (x,y,z,w) space to determine which cell of 24 simplices we're in","        const s = (x + y + z + w) * F4; // Factor for 4D skewing","        const i = Math.floor(x + s);","        const j = Math.floor(y + s);","        const k = Math.floor(z + s);","        const l = Math.floor(w + s);","        const t = (i + j + k + l) * G4; // Factor for 4D unskewing","        const X0 = i - t; // Unskew the cell origin back to (x,y,z,w) space","        const Y0 = j - t;","        const Z0 = k - t;","        const W0 = l - t;","        const x0 = x - X0; // The x,y,z,w distances from the cell origin","        const y0 = y - Y0;","        const z0 = z - Z0;","        const w0 = w - W0;","        // For the 4D case, the simplex is a 4D shape I won't even try to describe.","        // To find out which of the 24 possible simplices we're in, we need to","        // determine the magnitude ordering of x0, y0, z0 and w0.","        // Six pair-wise comparisons are performed between each possible pair","        // of the four coordinates, and the results are used to rank the numbers.","        let rankx = 0;","        let ranky = 0;","        let rankz = 0;","        let rankw = 0;","        if (x0 > y0)","            rankx++;","        else","            ranky++;","        if (x0 > z0)","            rankx++;","        else","            rankz++;","        if (x0 > w0)","            rankx++;","        else","            rankw++;","        if (y0 > z0)","            ranky++;","        else","            rankz++;","        if (y0 > w0)","            ranky++;","        else","            rankw++;","        if (z0 > w0)","            rankz++;","        else","            rankw++;","        // simplex[c] is a 4-vector with the numbers 0, 1, 2 and 3 in some order.","        // Many values of c will never occur, since e.g. x>y>z>w makes x<z, y<w and x<w","        // impossible. Only the 24 indices which have non-zero entries make any sense.","        // We use a thresholding to set the coordinates in turn from the largest magnitude.","        // Rank 3 denotes the largest coordinate.","        // Rank 2 denotes the second largest coordinate.","        // Rank 1 denotes the second smallest coordinate.","        // The integer offsets for the second simplex corner","        const i1 = rankx >= 3 ? 1 : 0;","        const j1 = ranky >= 3 ? 1 : 0;","        const k1 = rankz >= 3 ? 1 : 0;","        const l1 = rankw >= 3 ? 1 : 0;","        // The integer offsets for the third simplex corner","        const i2 = rankx >= 2 ? 1 : 0;","        const j2 = ranky >= 2 ? 1 : 0;","        const k2 = rankz >= 2 ? 1 : 0;","        const l2 = rankw >= 2 ? 1 : 0;","        // The integer offsets for the fourth simplex corner","        const i3 = rankx >= 1 ? 1 : 0;","        const j3 = ranky >= 1 ? 1 : 0;","        const k3 = rankz >= 1 ? 1 : 0;","        const l3 = rankw >= 1 ? 1 : 0;","        // The fifth corner has all coordinate offsets = 1, so no need to compute that.","        const x1 = x0 - i1 + G4; // Offsets for second corner in (x,y,z,w) coords","        const y1 = y0 - j1 + G4;","        const z1 = z0 - k1 + G4;","        const w1 = w0 - l1 + G4;","        const x2 = x0 - i2 + 2.0 * G4; // Offsets for third corner in (x,y,z,w) coords","        const y2 = y0 - j2 + 2.0 * G4;","        const z2 = z0 - k2 + 2.0 * G4;","        const w2 = w0 - l2 + 2.0 * G4;","        const x3 = x0 - i3 + 3.0 * G4; // Offsets for fourth corner in (x,y,z,w) coords","        const y3 = y0 - j3 + 3.0 * G4;","        const z3 = z0 - k3 + 3.0 * G4;","        const w3 = w0 - l3 + 3.0 * G4;","        const x4 = x0 - 1.0 + 4.0 * G4; // Offsets for last corner in (x,y,z,w) coords","        const y4 = y0 - 1.0 + 4.0 * G4;","        const z4 = z0 - 1.0 + 4.0 * G4;","        const w4 = w0 - 1.0 + 4.0 * G4;","        // Work out the hashed gradient indices of the five simplex corners","        const ii = i & 255;","        const jj = j & 255;","        const kk = k & 255;","        const ll = l & 255;","        // Calculate the contribution from the five corners","        let t0 = 0.6 - x0 * x0 - y0 * y0 - z0 * z0 - w0 * w0;","        if (t0 < 0)","            n0 = 0.0;","        else {","            const gi0 = (perm[ii + perm[jj + perm[kk + perm[ll]]]] % 32) * 4;","            t0 *= t0;","            n0 = t0 * t0 * (grad4[gi0] * x0 + grad4[gi0 + 1] * y0 + grad4[gi0 + 2] * z0 + grad4[gi0 + 3] * w0);","        }","        let t1 = 0.6 - x1 * x1 - y1 * y1 - z1 * z1 - w1 * w1;","        if (t1 < 0)","            n1 = 0.0;","        else {","            const gi1 = (perm[ii + i1 + perm[jj + j1 + perm[kk + k1 + perm[ll + l1]]]] % 32) * 4;","            t1 *= t1;","            n1 = t1 * t1 * (grad4[gi1] * x1 + grad4[gi1 + 1] * y1 + grad4[gi1 + 2] * z1 + grad4[gi1 + 3] * w1);","        }","        let t2 = 0.6 - x2 * x2 - y2 * y2 - z2 * z2 - w2 * w2;","        if (t2 < 0)","            n2 = 0.0;","        else {","            const gi2 = (perm[ii + i2 + perm[jj + j2 + perm[kk + k2 + perm[ll + l2]]]] % 32) * 4;","            t2 *= t2;","            n2 = t2 * t2 * (grad4[gi2] * x2 + grad4[gi2 + 1] * y2 + grad4[gi2 + 2] * z2 + grad4[gi2 + 3] * w2);","        }","        let t3 = 0.6 - x3 * x3 - y3 * y3 - z3 * z3 - w3 * w3;","        if (t3 < 0)","            n3 = 0.0;","        else {","            const gi3 = (perm[ii + i3 + perm[jj + j3 + perm[kk + k3 + perm[ll + l3]]]] % 32) * 4;","            t3 *= t3;","            n3 = t3 * t3 * (grad4[gi3] * x3 + grad4[gi3 + 1] * y3 + grad4[gi3 + 2] * z3 + grad4[gi3 + 3] * w3);","        }","        let t4 = 0.6 - x4 * x4 - y4 * y4 - z4 * z4 - w4 * w4;","        if (t4 < 0)","            n4 = 0.0;","        else {","            const gi4 = (perm[ii + 1 + perm[jj + 1 + perm[kk + 1 + perm[ll + 1]]]] % 32) * 4;","            t4 *= t4;","            n4 = t4 * t4 * (grad4[gi4] * x4 + grad4[gi4 + 1] * y4 + grad4[gi4 + 2] * z4 + grad4[gi4 + 3] * w4);","        }","        // Sum up and scale the result to cover the range [-1,1]","        return 27.0 * (n0 + n1 + n2 + n3 + n4);","    };","}","","gdjs._shakeObjectExtension = {","    noiseManager: new NoiseManager(),","};",""],"parameterObjects":"","useStrict":true,"eventsSheetExpanded":true}],"parameters":[],"objectGroups":[]},{"description":"Generate a number from 2 dimensional simplex noise.","fullName":"2D noise","functionType":"Expression","name":"Noise2d","private":true,"sentence":"","events":[{"type":"BuiltinCommonInstructions::JsCode","inlineCode":["const name = eventsFunctionContext.getArgument(\"Name\");\r","const x = eventsFunctionContext.getArgument(\"X\");\r","const y = eventsFunctionContext.getArgument(\"Y\");\r","\r","eventsFunctionContext.returnValue = gdjs._shakeObjectExtension.noiseManager.getGenerator(name).noise(x, y);"],"parameterObjects":"","useStrict":true,"eventsSheetExpanded":true}],"expressionType":{"type":"expression"},"parameters":[{"description":"Generator name","name":"Name","type":"string"},{"description":"X coordinate","name":"X","type":"expression"},{"description":"Y coordinate","name":"Y","type":"expression"}],"objectGroups":[]},{"description":"Generate a number from 3 dimensional simplex noise.","fullName":"3D noise","functionType":"Expression","name":"Noise3d","private":true,"sentence":"","events":[{"type":"BuiltinCommonInstructions::JsCode","inlineCode":["const name = eventsFunctionContext.getArgument(\"Name\");\r","const x = eventsFunctionContext.getArgument(\"X\");\r","const y = eventsFunctionContext.getArgument(\"Y\");\r","const z = eventsFunctionContext.getArgument(\"Z\");\r","\r","eventsFunctionContext.returnValue = gdjs._shakeObjectExtension.noiseManager.getGenerator(name).noise(x, y, z);"],"parameterObjects":"","useStrict":true,"eventsSheetExpanded":true}],"expressionType":{"type":"expression"},"parameters":[{"description":"Generator name","name":"Name","type":"string"},{"description":"X coordinate","name":"X","type":"expression"},{"description":"Y coordinate","name":"Y","type":"expression"},{"description":"Z coordinate","name":"Z","type":"expression"}],"objectGroups":[]},{"description":"Generate a number from 4 dimensional simplex noise.","fullName":"4D noise","functionType":"Expression","name":"Noise4d","private":true,"sentence":"","events":[{"type":"BuiltinCommonInstructions::JsCode","inlineCode":["const name = eventsFunctionContext.getArgument(\"Name\");\r","const x = eventsFunctionContext.getArgument(\"X\");\r","const y = eventsFunctionContext.getArgument(\"Y\");\r","const z = eventsFunctionContext.getArgument(\"Z\");\r","const w = eventsFunctionContext.getArgument(\"W\");\r","\r","eventsFunctionContext.returnValue = gdjs._shakeObjectExtension.noiseManager.getGenerator(name).noise(x, y, z, w);"],"parameterObjects":"","useStrict":true,"eventsSheetExpanded":true}],"expressionType":{"type":"expression"},"parameters":[{"description":"Generator name","name":"Name","type":"string"},{"description":"X coordinate","name":"X","type":"expression"},{"description":"Y coordinate","name":"Y","type":"expression"},{"description":"Z coordinate","name":"Z","type":"expression"},{"description":"W coordinate","name":"W","type":"expression"}],"objectGroups":[]},{"description":"Create a noise generator with default settings (frequency = 1,  octaves = 1, persistence = 0.5, lacunarity = 2).","fullName":"Create a noise generator","functionType":"Action","name":"Create","private":true,"sentence":"Create a noise generator named _PARAM1_","events":[{"type":"BuiltinCommonInstructions::JsCode","inlineCode":["const name = eventsFunctionContext.getArgument(\"Name\");\r","\r","gdjs._shakeObjectExtension.noiseManager.getGenerator(name);"],"parameterObjects":"","useStrict":true,"eventsSheetExpanded":false}],"parameters":[{"description":"Generator name","name":"Name","type":"string"}],"objectGroups":[]},{"description":"Delete a noise generator and loose its settings.","fullName":"Delete a noise generator","functionType":"Action","name":"Delete","private":true,"sentence":"Delete _PARAM1_ noise generator","events":[{"type":"BuiltinCommonInstructions::JsCode","inlineCode":["const name = eventsFunctionContext.getArgument(\"Name\");\r","\r","gdjs._shakeObjectExtension.noiseManager.deleteGenerator(name);"],"parameterObjects":"","useStrict":true,"eventsSheetExpanded":false}],"parameters":[{"description":"Generator name","name":"Name","type":"string"}],"objectGroups":[]},{"description":"Delete all noise generators and loose their settings.","fullName":"Delete all noise generators","functionType":"Action","name":"DeleteAll","private":true,"sentence":"Delete all noise generators","events":[{"type":"BuiltinCommonInstructions::JsCode","inlineCode":"gdjs._shakeObjectExtension.noiseManager.deleteAllGenerators();","parameterObjects":"","useStrict":true,"eventsSheetExpanded":false}],"parameters":[],"objectGroups":[]},{"description":"The seed is a number used to generate the random noise. Setting the same seed will result in the same random noise generation. It's for example useful to generate the same world, by saving this seed value and reusing it later to generate again a world.","fullName":"Noise seed","functionType":"Action","name":"SetSeed","private":true,"sentence":"Change the noise seed to _PARAM1_","events":[{"type":"BuiltinCommonInstructions::JsCode","inlineCode":"gdjs._shakeObjectExtension.noiseManager.setSeed(eventsFunctionContext.getArgument(\"Seed\"));","parameterObjects":"","useStrict":true,"eventsSheetExpanded":false}],"parameters":[{"description":"Seed","longDescription":"15 digits numbers maximum","name":"Seed","type":"expression"}],"objectGroups":[]},{"description":"Change the looping period on X used for noise generation. The noise will wrap-around on X.","fullName":"Noise looping period on X","functionType":"Action","name":"SetLoopPeriodX","private":true,"sentence":"Change the looping period on X of _PARAM2_: _PARAM1_","events":[{"type":"BuiltinCommonInstructions::JsCode","inlineCode":["const name = eventsFunctionContext.getArgument(\"Name\");\r","\r","gdjs._shakeObjectExtension.noiseManager.getGenerator(name).xLoopPeriod = eventsFunctionContext.getArgument(\"LoopPeriod\");"],"parameterObjects":"","useStrict":true,"eventsSheetExpanded":false}],"parameters":[{"description":"Looping period on X","name":"LoopPeriod","type":"expression"},{"description":"Generator name","name":"Name","type":"string"}],"objectGroups":[]},{"description":"Change the looping period on Y used for noise generation. The noise will wrap-around on Y.","fullName":"Noise looping period on Y","functionType":"Action","name":"SetLoopPeriodY","private":true,"sentence":"Change the looping period on Y of _PARAM2_: _PARAM1_","events":[{"type":"BuiltinCommonInstructions::JsCode","inlineCode":["const name = eventsFunctionContext.getArgument(\"Name\");\r","\r","gdjs._shakeObjectExtension.noiseManager.getGenerator(name).yLoopPeriod = eventsFunctionContext.getArgument(\"LoopPeriod\");"],"parameterObjects":"","useStrict":true,"eventsSheetExpanded":true}],"parameters":[{"description":"Looping period on Y","name":"LoopPeriod","type":"expression"},{"description":"Generator name","name":"Name","type":"string"}],"objectGroups":[]},{"description":"Change the base frequency used for noise generation. A lower frequency will zoom in the noise.","fullName":"Noise base frequency","functionType":"Action","name":"SetFrequency","private":true,"sentence":"Change the noise frequency of _PARAM2_: _PARAM1_","events":[{"type":"BuiltinCommonInstructions::JsCode","inlineCode":["const name = eventsFunctionContext.getArgument(\"Name\");\r","\r","gdjs._shakeObjectExtension.noiseManager.getGenerator(name).frequency = eventsFunctionContext.getArgument(\"Frequency\");"],"parameterObjects":"","useStrict":true,"eventsSheetExpanded":false}],"parameters":[{"description":"Frequency","name":"Frequency","type":"expression"},{"description":"Generator name","name":"Name","type":"string"}],"objectGroups":[]},{"description":"Change the number of octaves used for noise generation. It can be seen as layers of noise with different zoom.","fullName":"Noise octaves","functionType":"Action","name":"SetOctaves","private":true,"sentence":"Change the number of noise octaves of _PARAM2_: _PARAM1_","events":[{"type":"BuiltinCommonInstructions::JsCode","inlineCode":["const name = eventsFunctionContext.getArgument(\"Name\");\r","\r","gdjs._shakeObjectExtension.noiseManager.getGenerator(name).octaves = eventsFunctionContext.getArgument(\"Octaves\");"],"parameterObjects":"","useStrict":true,"eventsSheetExpanded":false}],"parameters":[{"description":"Octaves","name":"Octaves","type":"expression"},{"description":"Generator name","name":"Name","type":"string"}],"objectGroups":[]},{"description":"Change the persistence used for noise generation. At its default value \"0.5\", it halves the noise amplitude at each octave.","fullName":"Noise persistence","functionType":"Action","name":"SetPersistence","private":true,"sentence":"Change the noise persistence of _PARAM2_: _PARAM1_","events":[{"type":"BuiltinCommonInstructions::JsCode","inlineCode":["const name = eventsFunctionContext.getArgument(\"Name\");\r","\r","gdjs._shakeObjectExtension.noiseManager.getGenerator(name).persistence = eventsFunctionContext.getArgument(\"Persistence\");"],"parameterObjects":"","useStrict":true,"eventsSheetExpanded":false}],"parameters":[{"description":"Persistence","name":"Persistence","type":"expression"},{"description":"Generator name","name":"Name","type":"string"}],"objectGroups":[]},{"description":"Change the lacunarity used for noise generation. At its default value \"2\", it doubles the frequency at each octave.","fullName":"Noise lacunarity","functionType":"Action","name":"SetLacunarity","private":true,"sentence":"Change the noise lacunarity of _PARAM2_: _PARAM1_","events":[{"type":"BuiltinCommonInstructions::JsCode","inlineCode":["const name = eventsFunctionContext.getArgument(\"Name\");\r","\r","gdjs._shakeObjectExtension.noiseManager.getGenerator(name).lacunarity = eventsFunctionContext.getArgument(\"Lacunarity\");"],"parameterObjects":"","useStrict":true,"eventsSheetExpanded":false}],"parameters":[{"description":"Lacunarity","name":"Lacunarity","type":"expression"},{"description":"Generator name","name":"Name","type":"string"}],"objectGroups":[]},{"description":"The seed used for noise generation.","fullName":"Noise seed","functionType":"Expression","name":"Seed","private":true,"sentence":"","events":[{"type":"BuiltinCommonInstructions::JsCode","inlineCode":"eventsFunctionContext.returnValue = gdjs._shakeObjectExtension.noiseManager.seed;","parameterObjects":"","useStrict":true,"eventsSheetExpanded":false}],"expressionType":{"type":"expression"},"parameters":[],"objectGroups":[]},{"description":"The base frequency used for noise generation.","fullName":"Noise base frequency","functionType":"Expression","name":"Frequency","private":true,"sentence":"","events":[{"type":"BuiltinCommonInstructions::JsCode","inlineCode":["const name = eventsFunctionContext.getArgument(\"Name\");\r","\r","eventsFunctionContext.returnValue = gdjs._shakeObjectExtension.noiseManager.getGenerator(name).frequency;"],"parameterObjects":"","useStrict":true,"eventsSheetExpanded":false}],"expressionType":{"type":"expression"},"parameters":[{"description":"Generator name","name":"Name","type":"string"}],"objectGroups":[]},{"description":"The number of octaves used for noise generation.","fullName":"Noise octaves number","functionType":"Expression","name":"Octaves","private":true,"sentence":"","events":[{"type":"BuiltinCommonInstructions::JsCode","inlineCode":["const name = eventsFunctionContext.getArgument(\"Name\");\r","\r","eventsFunctionContext.returnValue = gdjs._shakeObjectExtension.noiseManager.getGenerator(name).octaves;"],"parameterObjects":"","useStrict":true,"eventsSheetExpanded":false}],"expressionType":{"type":"expression"},"parameters":[{"description":"Generator name","name":"Name","type":"string"}],"objectGroups":[]},{"description":"The persistence used for noise generation.","fullName":"Noise persistence","functionType":"Expression","name":"Persistence","private":true,"sentence":"","events":[{"type":"BuiltinCommonInstructions::JsCode","inlineCode":["const name = eventsFunctionContext.getArgument(\"Name\");\r","\r","eventsFunctionContext.returnValue = gdjs._shakeObjectExtension.noiseManager.getGenerator(name).persistence;"],"parameterObjects":"","useStrict":true,"eventsSheetExpanded":false}],"expressionType":{"type":"expression"},"parameters":[{"description":"Generator name","name":"Name","type":"string"}],"objectGroups":[]},{"description":"The lacunarity used for noise generation.","fullName":"Noise lacunarity","functionType":"Expression","name":"Lacunarity","private":true,"sentence":"","events":[{"type":"BuiltinCommonInstructions::JsCode","inlineCode":["const name = eventsFunctionContext.getArgument(\"Name\");\r","\r","eventsFunctionContext.returnValue = gdjs._shakeObjectExtension.noiseManager.getGenerator(name).lacunarity;"],"parameterObjects":"","useStrict":true,"eventsSheetExpanded":false}],"expressionType":{"type":"expression"},"parameters":[{"description":"Generator name","name":"Name","type":"string"}],"objectGroups":[]}],"eventsBasedBehaviors":[{"description":"Shake 3D objects with translation and rotation.","fullName":"3D shake","name":"ShakeModel3D","objectType":"","quickCustomizationVisibility":"hidden","eventsFunctions":[{"fullName":"","functionType":"Action","name":"onCreated","sentence":"","events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"ShakeObject3D::ShakeModel3D::PropertyIsStartingAtCreation"},"parameters":["Object","Behavior"]}],"actions":[{"type":{"value":"ShakeObject3D::DefineHelperClasses"},"parameters":["",""]},{"type":{"value":"ShakeObject3D::ShakeModel3D::StartShaking"},"parameters":["Object","Behavior","0",""]}]}],"parameters":[{"description":"Object","name":"Object","type":"object"},{"description":"Behavior","name":"Behavior","supplementaryInformation":"ShakeObject3D::ShakeModel3D","type":"behavior"}],"objectGroups":[]},{"fullName":"","functionType":"Action","name":"doStepPostEvents","sentence":"","events":[{"type":"BuiltinCommonInstructions::Comment","color":{"b":109,"g":230,"r":255,"textB":0,"textG":0,"textR":0},"comment":"Step time counters."},{"type":"BuiltinCommonInstructions::Standard","conditions":[],"actions":[{"type":{"value":"ShakeObject3D::ShakeModel3D::SetPropertyTime"},"parameters":["Object","Behavior","+","TimeDelta()"]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"ShakeObject3D::ShakeModel3D::IsShaking"},"parameters":["Object","Behavior",""]}],"actions":[{"type":{"value":"ShakeObject3D::ShakeModel3D::SetPropertyNoiseTime"},"parameters":["Object","Behavior","+","TimeDelta() * Frequency"]},{"type":{"value":"ShakeObject3D::ShakeModel3D::SetSharedPropertyEasingFactor"},"parameters":["Object","Behavior","=","min(Object.Behavior::StartEasingFactor(), Object.Behavior::StopEasingFactor())"]}],"events":[{"type":"BuiltinCommonInstructions::Comment","color":{"b":109,"g":230,"r":255,"textB":0,"textG":0,"textR":0},"comment":"Shake the object.\nSave the object displacement to revert it in onScenePostEvents."},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"ShakeObject3D::ShakeModel3D::PropertyTranslationAmplitudeX"},"parameters":["Object","Behavior","!=","0"]}],"actions":[{"type":{"value":"ShakeObject3D::ShakeModel3D::SetPropertyDeltaX"},"parameters":["Object","Behavior","=","ShakeObject3D::Noise2d(\"\", NoiseTime, 1000) * TranslationAmplitudeX * EasingFactor"]},{"type":{"value":"MettreX"},"parameters":["Object","+","DeltaX"]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"ShakeObject3D::ShakeModel3D::PropertyTranslationAmplitudeY"},"parameters":["Object","Behavior","!=","0"]}],"actions":[{"type":{"value":"ShakeObject3D::ShakeModel3D::SetPropertyDeltaY"},"parameters":["Object","Behavior","=","ShakeObject3D::Noise2d(\"\", NoiseTime, 2000) * TranslationAmplitudeY * EasingFactor"]},{"type":{"value":"MettreY"},"parameters":["Object","+","DeltaY"]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"ShakeObject3D::ShakeModel3D::PropertyTranslationAmplitudeZ"},"parameters":["Object","Behavior","!=","0"]}],"actions":[{"type":{"value":"ShakeObject3D::ShakeModel3D::SetPropertyDeltaZ"},"parameters":["Object","Behavior","=","ShakeObject3D::Noise2d(\"\", NoiseTime, 3000) * TranslationAmplitudeZ * EasingFactor"]},{"type":{"value":"Scene3D::Base3DBehavior::SetZ"},"parameters":["Object","Object3D","+","DeltaZ"]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"ShakeObject3D::ShakeModel3D::PropertyRotationAmplitudeX"},"parameters":["Object","Behavior","!=","0"]}],"actions":[{"type":{"value":"ShakeObject3D::ShakeModel3D::SetPropertyDeltaAngleX"},"parameters":["Object","Behavior","=","ShakeObject3D::Noise2d(\"\", NoiseTime, 4000) * RotationAmplitudeX * EasingFactor"]},{"type":{"value":"Scene3D::Base3DBehavior::SetRotationX"},"parameters":["Object","Object3D","+","DeltaAngleX"]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"ShakeObject3D::ShakeModel3D::PropertyRotationAmplitudeY"},"parameters":["Object","Behavior","!=","0"]}],"actions":[{"type":{"value":"ShakeObject3D::ShakeModel3D::SetPropertyDeltaAngleY"},"parameters":["Object","Behavior","=","ShakeObject3D::Noise2d(\"\", NoiseTime, 5000) * RotationAmplitudeY * EasingFactor"]},{"type":{"value":"Scene3D::Base3DBehavior::SetRotationY"},"parameters":["Object","Object3D","+","DeltaAngleY"]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"ShakeObject3D::ShakeModel3D::PropertyRotationAmplitudeZ"},"parameters":["Object","Behavior","!=","0"]}],"actions":[{"type":{"value":"ShakeObject3D::ShakeModel3D::SetPropertyDeltaAngleZ"},"parameters":["Object","Behavior","=","ShakeObject3D::Noise2d(\"\", NoiseTime, 6000) * RotationAmplitudeZ * EasingFactor"]},{"type":{"value":"SetAngle"},"parameters":["Object","+","DeltaAngleZ"]}]}]}],"parameters":[{"description":"Object","name":"Object","type":"object"},{"description":"Behavior","name":"Behavior","supplementaryInformation":"ShakeObject3D::ShakeModel3D","type":"behavior"}],"objectGroups":[]},{"fullName":"","functionType":"Action","name":"doStepPreEvents","sentence":"","events":[{"type":"BuiltinCommonInstructions::Comment","color":{"b":109,"g":230,"r":255,"textB":0,"textG":0,"textR":0},"comment":"Revert the shaking."},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"ShakeObject3D::ShakeModel3D::IsShaking"},"parameters":["Object","Behavior",""]}],"actions":[],"events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"ShakeObject3D::ShakeModel3D::PropertyTranslationAmplitudeX"},"parameters":["Object","Behavior","!=","0"]}],"actions":[{"type":{"value":"MettreX"},"parameters":["Object","-","DeltaX"]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"ShakeObject3D::ShakeModel3D::PropertyTranslationAmplitudeY"},"parameters":["Object","Behavior","!=","0"]}],"actions":[{"type":{"value":"MettreY"},"parameters":["Object","-","DeltaY"]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"ShakeObject3D::ShakeModel3D::PropertyTranslationAmplitudeZ"},"parameters":["Object","Behavior","!=","0"]}],"actions":[{"type":{"value":"Scene3D::Base3DBehavior::SetZ"},"parameters":["Object","Object3D","-","DeltaZ"]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"ShakeObject3D::ShakeModel3D::PropertyRotationAmplitudeX"},"parameters":["Object","Behavior","!=","0"]}],"actions":[{"type":{"value":"Scene3D::Base3DBehavior::SetRotationX"},"parameters":["Object","Object3D","-","DeltaAngleX"]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"ShakeObject3D::ShakeModel3D::PropertyRotationAmplitudeY"},"parameters":["Object","Behavior","!=","0"]}],"actions":[{"type":{"value":"Scene3D::Base3DBehavior::SetRotationY"},"parameters":["Object","Object3D","-","DeltaAngleY"]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"ShakeObject3D::ShakeModel3D::PropertyRotationAmplitudeZ"},"parameters":["Object","Behavior","!=","0"]}],"actions":[{"type":{"value":"SetAngle"},"parameters":["Object","-","DeltaAngleZ"]}]}]}],"parameters":[{"description":"Object","name":"Object","type":"object"},{"description":"Behavior","name":"Behavior","supplementaryInformation":"ShakeObject3D::ShakeModel3D","type":"behavior"}],"objectGroups":[]},{"description":"Shake the object with a linear easing at the start and the end.","fullName":"Shake","functionType":"Action","name":"Shake","sentence":"Shake _PARAM0_ for _PARAM2_ seconds with _PARAM3_ seconds of easing to start and _PARAM4_ seconds to stop","events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[],"actions":[{"type":{"value":"ShakeObject3D::ShakeModel3D::SetPropertyTime"},"parameters":["Object","Behavior","=","0"]},{"type":{"value":"ShakeObject3D::ShakeModel3D::SetPropertyNoiseTime"},"parameters":["Object","Behavior","=","TimeFromStart() * Frequency"]},{"type":{"value":"ShakeObject3D::ShakeModel3D::SetPropertyDuration"},"parameters":["Object","Behavior","=","NewDuration"]},{"type":{"value":"ShakeObject3D::ShakeModel3D::SetPropertyStartEasingDuration"},"parameters":["Object","Behavior","=","StartEaseDuration"]},{"type":{"value":"ShakeObject3D::ShakeModel3D::SetPropertyStopEasingDuration"},"parameters":["Object","Behavior","=","StopEaseDuration"]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"CompareArgumentAsNumber"},"parameters":["\"NewDuration\"","<","StartEaseDuration + StopEaseDuration"]}],"actions":[{"type":{"value":"ShakeObject3D::ShakeModel3D::SetPropertyStartEasingDuration"},"parameters":["Object","Behavior","=","StartEaseDuration * NewDuration / (StartEaseDuration + StopEaseDuration)"]},{"type":{"value":"ShakeObject3D::ShakeModel3D::SetPropertyStopEasingDuration"},"parameters":["Object","Behavior","=","StopEaseDuration * NewDuration / (StartEaseDuration + StopEaseDuration)"]}]}],"parameters":[{"description":"Object","name":"Object","type":"object"},{"description":"Behavior","name":"Behavior","supplementaryInformation":"ShakeObject3D::ShakeModel3D","type":"behavior"},{"description":"Duration (in seconds)","name":"NewDuration","type":"expression"},{"description":"Ease duration to start (in seconds)","name":"StartEaseDuration","type":"expression"},{"description":"Ease duration to stop (in seconds)","name":"StopEaseDuration","type":"expression"}],"objectGroups":[]},{"description":"Shake the object with a linear easing at the start and keep shaking until the stop action is used.","fullName":"Start shaking","functionType":"Action","name":"StartShaking","sentence":"Start shaking _PARAM0_ with _PARAM2_ seconds of easing","events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[],"actions":[{"type":{"value":"ShakeObject3D::ShakeModel3D::SetPropertyTime"},"parameters":["Object","Behavior","=","0"]},{"type":{"value":"ShakeObject3D::ShakeModel3D::SetPropertyNoiseTime"},"parameters":["Object","Behavior","=","TimeFromStart() * Frequency"]},{"type":{"value":"ShakeObject3D::ShakeModel3D::SetPropertyDuration"},"parameters":["Object","Behavior","=","1234567890"]},{"type":{"value":"ShakeObject3D::ShakeModel3D::SetPropertyStartEasingDuration"},"parameters":["Object","Behavior","=","EaseDuration"]}]}],"parameters":[{"description":"Object","name":"Object","type":"object"},{"description":"Behavior","name":"Behavior","supplementaryInformation":"ShakeObject3D::ShakeModel3D","type":"behavior"},{"description":"Ease duration (in seconds)","name":"EaseDuration","type":"expression"}],"objectGroups":[]},{"description":"Stop shaking the object with a linear easing.","fullName":"Stop shaking","functionType":"Action","name":"StopShaking","sentence":"Stop shaking _PARAM0_ with _PARAM2_ seconds of easing","events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"ShakeObject3D::ShakeModel3D::IsShaking"},"parameters":["Object","Behavior",""]}],"actions":[{"type":{"value":"ShakeObject3D::ShakeModel3D::SetPropertyTime"},"parameters":["Object","Behavior","=","0"]},{"type":{"value":"ShakeObject3D::ShakeModel3D::SetPropertyDuration"},"parameters":["Object","Behavior","=","EaseDuration"]},{"type":{"value":"ShakeObject3D::ShakeModel3D::SetPropertyStopEasingDuration"},"parameters":["Object","Behavior","=","EaseDuration"]}]}],"parameters":[{"description":"Object","name":"Object","type":"object"},{"description":"Behavior","name":"Behavior","supplementaryInformation":"ShakeObject3D::ShakeModel3D","type":"behavior"},{"description":"Ease duration (in seconds)","name":"EaseDuration","type":"expression"}],"objectGroups":[]},{"description":"Check if the object is shaking.","fullName":"Is shaking","functionType":"Condition","name":"IsShaking","sentence":"_PARAM0_ is shaking","events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"ShakeObject3D::ShakeModel3D::PropertyTime"},"parameters":["Object","Behavior","<","Duration"]},{"type":{"value":"ShakeObject3D::ShakeModel3D::PropertyTime"},"parameters":["Object","Behavior",">","0"]}],"actions":[{"type":{"value":"SetReturnBoolean"},"parameters":["True"]}]}],"parameters":[{"description":"Object","name":"Object","type":"object"},{"description":"Behavior","name":"Behavior","supplementaryInformation":"ShakeObject3D::ShakeModel3D","type":"behavior"}],"objectGroups":[]},{"description":"Check if the object is stopping to shake.","fullName":"Is stopping to shake","functionType":"Condition","name":"IsStopping","sentence":"_PARAM0_ is stopping to shake","events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"ShakeObject3D::ShakeModel3D::IsShaking"},"parameters":["Object","Behavior",""]},{"type":{"value":"ShakeObject3D::ShakeModel3D::StopEasingFactor"},"parameters":["Object","Behavior","<","1",""]}],"actions":[{"type":{"value":"SetReturnBoolean"},"parameters":["True"]}]}],"parameters":[{"description":"Object","name":"Object","type":"object"},{"description":"Behavior","name":"Behavior","supplementaryInformation":"ShakeObject3D::ShakeModel3D","type":"behavior"}],"objectGroups":[]},{"description":"the shaking frequency of the object.","fullName":"Shaking frequency","functionType":"ExpressionAndCondition","group":"ShakeObject3D configuration","name":"Frequency","sentence":"the shaking frequency","events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[],"actions":[{"type":{"value":"SetReturnNumber"},"parameters":["Frequency"]}]}],"expressionType":{"type":"expression"},"parameters":[{"description":"Object","name":"Object","type":"object"},{"description":"Behavior","name":"Behavior","supplementaryInformation":"ShakeObject3D::ShakeModel3D","type":"behavior"}],"objectGroups":[]},{"fullName":"","functionType":"ActionWithOperator","getterName":"Frequency","name":"SetFrequency","sentence":"","events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[],"actions":[{"type":{"value":"ShakeObject3D::ShakeModel3D::SetPropertyFrequency"},"parameters":["Object","Behavior","=","Value"]}]}],"parameters":[{"description":"Object","name":"Object","type":"object"},{"description":"Behavior","name":"Behavior","supplementaryInformation":"ShakeObject3D::ShakeModel3D","type":"behavior"}],"objectGroups":[]},{"description":"Return the easing factor according to start properties.","fullName":"Start easing factor","functionType":"Expression","name":"StartEasingFactor","private":true,"sentence":"","events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"ShakeObject3D::ShakeModel3D::PropertyStartEasingDuration"},"parameters":["Object","Behavior","<=","0"]}],"actions":[{"type":{"value":"SetReturnNumber"},"parameters":["1"]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"ShakeObject3D::ShakeModel3D::PropertyStartEasingDuration"},"parameters":["Object","Behavior",">","0"]}],"actions":[{"type":{"value":"SetReturnNumber"},"parameters":["clamp(Time / StartEasingDuration, 0, 1)"]}]}],"expressionType":{"type":"expression"},"parameters":[{"description":"Object","name":"Object","type":"object"},{"description":"Behavior","name":"Behavior","supplementaryInformation":"ShakeObject3D::ShakeModel3D","type":"behavior"}],"objectGroups":[]},{"description":"Return the easing factor according to stop properties.","fullName":"Stop easing factor","functionType":"ExpressionAndCondition","name":"StopEasingFactor","private":true,"sentence":"stop easing factor","events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"ShakeObject3D::ShakeModel3D::PropertyStopEasingDuration"},"parameters":["Object","Behavior","<=","0"]}],"actions":[],"events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"ShakeObject3D::ShakeModel3D::PropertyTime"},"parameters":["Object","Behavior","<","Duration"]}],"actions":[{"type":{"value":"SetReturnNumber"},"parameters":["1"]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"ShakeObject3D::ShakeModel3D::PropertyTime"},"parameters":["Object","Behavior",">=","Duration"]}],"actions":[{"type":{"value":"SetReturnNumber"},"parameters":["0"]}]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"ShakeObject3D::ShakeModel3D::PropertyStopEasingDuration"},"parameters":["Object","Behavior",">","0"]}],"actions":[{"type":{"value":"SetReturnNumber"},"parameters":["clamp((Duration - Time) / StopEasingDuration, 0, 1)"]}]}],"expressionType":{"type":"expression"},"parameters":[{"description":"Object","name":"Object","type":"object"},{"description":"Behavior","name":"Behavior","supplementaryInformation":"ShakeObject3D::ShakeModel3D","type":"behavior"}],"objectGroups":[]}],"propertyDescriptors":[{"value":"0","type":"Number","unit":"Pixel","label":"Translation amplitude on X axis","description":"","group":"","extraInformation":[],"name":"TranslationAmplitudeX"},{"value":"0","type":"Number","unit":"Pixel","label":"Translation amplitude on Y axis","description":"","group":"","extraInformation":[],"name":"TranslationAmplitudeY"},{"value":"0","type":"Number","unit":"Pixel","label":"Translation amplitude on Z axis","description":"","group":"","extraInformation":[],"name":"TranslationAmplitudeZ"},{"value":"5","type":"Number","unit":"DegreeAngle","label":"Rotation amplitude around X axis","description":"","group":"","extraInformation":[],"name":"RotationAmplitudeX"},{"value":"5","type":"Number","unit":"DegreeAngle","label":"Rotation amplitude around Y axis","description":"","group":"","extraInformation":[],"name":"RotationAmplitudeY"},{"value":"5","type":"Number","unit":"DegreeAngle","label":"Rotation amplitude around Z axis","description":"","group":"","extraInformation":[],"name":"RotationAmplitudeZ"},{"value":"","type":"Number","label":"","description":"","group":"","extraInformation":[],"hidden":true,"name":"Time"},{"value":"","type":"Number","label":"","description":"","group":"","extraInformation":[],"hidden":true,"name":"Duration"},{"value":"","type":"Number","label":"","description":"","group":"","extraInformation":[],"hidden":true,"name":"StartEasingDuration"},{"value":"","type":"Number","label":"","description":"","group":"","extraInformation":[],"hidden":true,"name":"StopEasingDuration"},{"value":"","type":"Number","label":"Frequency","description":"","group":"","extraInformation":[],"name":"Frequency"},{"value":"","type":"Number","label":"","description":"","group":"","extraInformation":[],"hidden":true,"name":"DeltaX"},{"value":"","type":"Number","label":"","description":"","group":"","extraInformation":[],"hidden":true,"name":"DeltaY"},{"value":"","type":"Number","label":"","description":"","group":"","extraInformation":[],"hidden":true,"name":"DeltaZ"},{"value":"","type":"Number","label":"","description":"","group":"","extraInformation":[],"hidden":true,"name":"DeltaAngleX"},{"value":"","type":"Number","label":"","description":"","group":"","extraInformation":[],"hidden":true,"name":"DeltaAngleY"},{"value":"","type":"Number","label":"","description":"","group":"","extraInformation":[],"hidden":true,"name":"DeltaAngleZ"},{"value":"","type":"Number","label":"","description":"","group":"","extraInformation":[],"hidden":true,"name":"NoiseTime"},{"value":"","type":"Behavior","label":"3D capability","description":"","group":"","extraInformation":["Scene3D::Base3DBehavior"],"name":"Object3D"},{"value":"","type":"Boolean","label":"Start to shake at the object creation","description":"","group":"","extraInformation":[],"name":"IsStartingAtCreation"}],"sharedPropertyDescriptors":[{"value":"","type":"Number","label":"","description":"","group":"","extraInformation":[],"hidden":true,"name":"EasingFactor"}]}],"eventsBasedObjects":[]},{"author":"VegeTato, arthuro555","category":"General","extensionNamespace":"","fullName":"Repeat every X seconds","helpPath":"","iconUrl":"data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiPz48IURPQ1RZUEUgc3ZnIFBVQkxJQyAiLS8vVzNDLy9EVEQgU1ZHIDEuMS8vRU4iICJodHRwOi8vd3d3LnczLm9yZy9HcmFwaGljcy9TVkcvMS4xL0RURC9zdmcxMS5kdGQiPjxzdmcgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayIgdmVyc2lvbj0iMS4xIiBpZD0ibWRpLXJlcGVhdCIgd2lkdGg9IjI0IiBoZWlnaHQ9IjI0IiB2aWV3Qm94PSIwIDAgMjQgMjQiPjxwYXRoIGQ9Ik0xNywxN0g3VjE0TDMsMThMNywyMlYxOUgxOVYxM0gxN003LDdIMTdWMTBMMjEsNkwxNywyVjVINVYxMUg3VjdaIiAvPjwvc3ZnPg==","name":"RepeatEveryXSeconds","previewIconUrl":"https://resources.gdevelop-app.com/assets/Icons/repeat.svg","shortDescription":"Trigger an event every X seconds.","version":"0.1.1","description":"Convenience conditions, actions and behaviors for timers to trigger a condition every X seconds.","origin":{"identifier":"RepeatEveryXSeconds","name":"gdevelop-extension-store"},"tags":["repeat","timer","time"],"authorIds":["ZgrsWuRTAkXgeuPV9bo0zuEcA2w1","IRIhkkTTl2UHhfjrLTTH5GYwkYu1","IWykYNRvhCZBN3vEgKEbBPOR3Oc2"],"dependencies":[],"globalVariables":[],"sceneVariables":[],"eventsFunctions":[{"description":"Triggers every X seconds.","fullName":"Repeat with a scene timer","functionType":"Condition","name":"Repeat","sentence":"Repeat every _PARAM2_ seconds using timer _PARAM1_","events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"inverted":true,"value":"CompareTimer"},"parameters":["","TimerName",">=","0"]}],"actions":[{"type":{"value":"ResetTimer"},"parameters":["player","TimerName"]},{"type":{"value":"ModVarScene"},"parameters":["__RepeatEveryXSeconds.Repetitions[TimerName]","=","0"]}]},{"type":"BuiltinCommonInstructions::Comment","color":{"b":109,"g":230,"r":255,"textB":0,"textG":0,"textR":0},"comment":"TODO: It should keep the overflowing time to be more precise (it would need JavaScript)"},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"CompareTimer"},"parameters":["player","TimerName",">=","LoopDuration"]}],"actions":[{"type":{"value":"ResetTimer"},"parameters":["player","TimerName"]},{"type":{"value":"ModVarScene"},"parameters":["__RepeatEveryXSeconds.Repetitions[TimerName]","+","1"]},{"type":{"value":"SetReturnBoolean"},"parameters":["True"]}]}],"parameters":[{"description":"Timer name used to loop","name":"TimerName","type":"string"},{"description":"Duration in seconds between each repetition","name":"LoopDuration","type":"expression"}],"objectGroups":[]},{"description":"the number of times the timer has repeated.","fullName":"Repetition number of a scene timer","functionType":"ExpressionAndCondition","name":"Repetition","sentence":"Repetition number of timer _PARAM1_","events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[],"actions":[{"type":{"value":"SetReturnNumber"},"parameters":["Variable(__RepeatEveryXSeconds.Repetitions[TimerName])"]}]}],"expressionType":{"type":"expression"},"parameters":[{"description":"Timer name used to loop","name":"TimerName","type":"string"}],"objectGroups":[]},{"description":"Triggers every X seconds X amount of times.","fullName":"Repeat with a scene timer X times","functionType":"Condition","name":"RepeatXTimes","sentence":"Repeat every _PARAM2_ seconds _PARAM3_ times using timer _PARAM1_","events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"BuiltinCommonInstructions::Or"},"parameters":[],"subInstructions":[{"type":{"value":"BuiltinCommonInstructions::CompareNumbers"},"parameters":["MaxLoop","<","0"]},{"type":{"value":"RepeatEveryXSeconds::Repetition"},"parameters":["","<","MaxLoop","TimerName",""]}]},{"type":{"value":"RepeatEveryXSeconds::Repeat"},"parameters":["","TimerName","LoopDuration",""]}],"actions":[{"type":{"value":"SetReturnBoolean"},"parameters":["True"]}]}],"parameters":[{"description":"Timer name used to loop","name":"TimerName","type":"string"},{"description":"Duration in seconds between each repetition","name":"LoopDuration","type":"expression"},{"description":"The limit of loops","longDescription":"Maximum nuber of repetition (-1 to repeat forever).","name":"MaxLoop","type":"expression"}],"objectGroups":[]},{"description":"Reset repetition count of a scene timer.","fullName":"Reset repetition count of a scene timer","functionType":"Action","name":"DeleteTimer","sentence":"Reset repetition count for timer _PARAM1_","events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[],"actions":[{"type":{"value":"RemoveTimer"},"parameters":["player","TimerName"]},{"type":{"value":"VariableRemoveChild"},"parameters":["__RepeatEveryXSeconds.Repetitions","TimerName"]}]}],"parameters":[{"description":"Timer name used to loop","name":"TimerName","type":"string"}],"objectGroups":[]}],"eventsBasedBehaviors":[{"description":"Allows to repeat an object timer every X seconds.","fullName":"Repeat every X seconds","name":"RepeatTimer","objectType":"","eventsFunctions":[{"fullName":"","functionType":"Action","name":"onCreated","sentence":"","events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[],"actions":[{"type":{"value":"ResetObjectTimer"},"parameters":["Object","TimerName"]}]}],"parameters":[{"description":"Object","name":"Object","type":"object"},{"description":"Behavior","name":"Behavior","supplementaryInformation":"RepeatEveryXSeconds::RepeatTimer","type":"behavior"}],"objectGroups":[]},{"description":"Triggers every X seconds.","fullName":"Repeat with an object timer","functionType":"Condition","group":"Timers","name":"Repeat2","sentence":"Repeat every _PARAM3_ seconds using timer _PARAM2_ of _PARAM0_","events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"inverted":true,"value":"CompareObjectTimer"},"parameters":["Object","TimerName",">=","0"]}],"actions":[{"type":{"value":"ResetObjectTimer"},"parameters":["Object","TimerName"]},{"type":{"value":"ModVarObjet"},"parameters":["Object","__RepeatEveryXSeconds.Repetitions[TimerName]","=","0"]}]},{"type":"BuiltinCommonInstructions::Comment","color":{"b":109,"g":230,"r":255,"textB":0,"textG":0,"textR":0},"comment":"TODO: It should keep the overflowing time to be more precise (it would need JavaScript)"},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"CompareObjectTimer"},"parameters":["Object","TimerName",">=","LoopDuration"]}],"actions":[{"type":{"value":"ResetObjectTimer"},"parameters":["Object","TimerName"]},{"type":{"value":"ModVarObjet"},"parameters":["Object","__RepeatEveryXSeconds.Repetitions[TimerName]","+","1"]},{"type":{"value":"SetReturnBoolean"},"parameters":["True"]}]}],"parameters":[{"description":"Object","name":"Object","type":"object"},{"description":"Behavior","name":"Behavior","supplementaryInformation":"RepeatEveryXSeconds::RepeatTimer","type":"behavior"},{"description":"Timer name used to loop","name":"TimerName","type":"string"},{"description":"Duration in seconds between each repetition","name":"LoopDuration","type":"expression"}],"objectGroups":[]},{"description":"the number of times the timer has repeated.","fullName":"Repetition number of an object timer","functionType":"ExpressionAndCondition","group":"Timers","name":"Repetition","sentence":"Repetition number of timer _PARAM2_","events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[],"actions":[{"type":{"value":"SetReturnNumber"},"parameters":["Object.Variable(__RepeatEveryXSeconds.Repetitions[TimerName])"]}]}],"expressionType":{"type":"expression"},"parameters":[{"description":"Object","name":"Object","type":"object"},{"description":"Behavior","name":"Behavior","supplementaryInformation":"RepeatEveryXSeconds::RepeatTimer","type":"behavior"},{"description":"Timer name used to loop","name":"TimerName","type":"string"}],"objectGroups":[]},{"description":"Triggers every X seconds X amount of times.","fullName":"Repeat with an object timer X times","functionType":"Condition","group":"Timers","name":"RepeatXTimes","sentence":"Repeat every _PARAM3_ seconds _PARAM4_ times using timer _PARAM2_ of _PARAM0_","events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"BuiltinCommonInstructions::Or"},"parameters":[],"subInstructions":[{"type":{"value":"BuiltinCommonInstructions::CompareNumbers"},"parameters":["MaxLoop","<","0"]},{"type":{"value":"RepeatEveryXSeconds::RepeatTimer::Repetition"},"parameters":["Object","Behavior","<","MaxLoop","TimerName",""]}]},{"type":{"value":"RepeatEveryXSeconds::RepeatTimer::Repeat2"},"parameters":["Object","Behavior","TimerName","LoopDuration",""]}],"actions":[{"type":{"value":"SetReturnBoolean"},"parameters":["True"]}]}],"parameters":[{"description":"Object","name":"Object","type":"object"},{"description":"Behavior","name":"Behavior","supplementaryInformation":"RepeatEveryXSeconds::RepeatTimer","type":"behavior"},{"description":"Timer name used to loop","name":"TimerName","type":"string"},{"description":"Duration in seconds between each repetition","name":"LoopDuration","type":"expression"},{"description":"The limit of loops","longDescription":"Maximum nuber of repetition (-1 to repeat forever).","name":"MaxLoop","type":"expression"}],"objectGroups":[]},{"description":"Reset repetition count of an object timer.","fullName":"Reset repetition count of an object timer","functionType":"Action","group":"Timers","name":"DeleteTimer","sentence":"Reset repetition count for timer _PARAM2_ of _PARAM0_","events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[],"actions":[{"type":{"value":"RemoveObjectTimer"},"parameters":["Object","TimerName"]},{"type":{"value":"ObjectVariableRemoveChild"},"parameters":["Object","__RepeatEveryXSeconds.Repetitions","TimerName"]}]}],"parameters":[{"description":"Object","name":"Object","type":"object"},{"description":"Behavior","name":"Behavior","supplementaryInformation":"RepeatEveryXSeconds::RepeatTimer","type":"behavior"},{"description":"Timer name used to loop","name":"TimerName","type":"string"}],"objectGroups":[]},{"description":"Triggers every X seconds, where X is defined in the behavior properties.","fullName":"Repeat every X seconds (deprecated)","functionType":"Condition","name":"Repeat","private":true,"sentence":"Recurring timer _PARAM1_ of _PARAM0_ has triggered","events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"ObjectTimer"},"parameters":["Object","TimerName","TimerLength"]},{"type":{"value":"BuiltinCommonInstructions::Or"},"parameters":[],"subInstructions":[{"type":{"value":"RepeatEveryXSeconds::RepeatTimer::PropertyLimit"},"parameters":["Object","Behavior","=","-1"]},{"type":{"value":"RepeatEveryXSeconds::RepeatTimer::PropertyCounter"},"parameters":["Object","Behavior","<","Limit"]}]}],"actions":[{"type":{"value":"ResetObjectTimer"},"parameters":["Object","TimerName"]},{"type":{"value":"RepeatEveryXSeconds::RepeatTimer::SetPropertyCounter"},"parameters":["Object","Behavior","+","1"]},{"type":{"value":"SetReturnBoolean"},"parameters":["True"]}]}],"parameters":[{"description":"Object","name":"Object","type":"object"},{"description":"Behavior","name":"Behavior","supplementaryInformation":"RepeatEveryXSeconds::RepeatTimer","type":"behavior"}],"objectGroups":[]},{"description":"Pauses a recurring timer.","fullName":"Pause a recurring timer (deprecated)","functionType":"Action","name":"Pause","private":true,"sentence":"Pause recurring timer _PARAM1_ of _PARAM0_","events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[],"actions":[{"type":{"value":"PauseObjectTimer"},"parameters":["Object","TimerName"]}]}],"parameters":[{"description":"Object","name":"Object","type":"object"},{"description":"Behavior","name":"Behavior","supplementaryInformation":"RepeatEveryXSeconds::RepeatTimer","type":"behavior"}],"objectGroups":[]},{"description":"Resumes a paused recurring timer.","fullName":"Resume a recurring timer (deprecated)","functionType":"Action","name":"Resume","private":true,"sentence":"Resume recurring timer _PARAM1_ of _PARAM0_","events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[],"actions":[{"type":{"value":"UnPauseObjectTimer"},"parameters":["Object","TimerName"]}]}],"parameters":[{"description":"Object","name":"Object","type":"object"},{"description":"Behavior","name":"Behavior","supplementaryInformation":"RepeatEveryXSeconds::RepeatTimer","type":"behavior"}],"objectGroups":[]},{"description":"Allows to trigger the recurring timer X times again.","fullName":"Reset the limit (deprecated)","functionType":"Action","name":"ResetLimit","private":true,"sentence":"Allow to trigger the recurring timer _PARAM1_ of _PARAM0_ X times again","events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[],"actions":[{"type":{"value":"RepeatEveryXSeconds::RepeatTimer::SetPropertyCounter"},"parameters":["Object","Behavior","=","0"]}]}],"parameters":[{"description":"Object","name":"Object","type":"object"},{"description":"Behavior","name":"Behavior","supplementaryInformation":"RepeatEveryXSeconds::RepeatTimer","type":"behavior"}],"objectGroups":[]}],"propertyDescriptors":[{"value":"MyTimer","type":"String","label":"The name of the timer to repeat","description":"","group":"","extraInformation":[],"deprecated":true,"name":"TimerName"},{"value":"1","type":"Number","label":"The time between each trigger (in seconds)","description":"","group":"","extraInformation":[],"deprecated":true,"name":"TimerLength"},{"value":"-1","type":"Number","label":"How many times should the timer trigger? -1 for forever.","description":"","group":"","extraInformation":[],"deprecated":true,"name":"Limit"},{"value":"0","type":"Number","label":"An internal counter","description":"","group":"","extraInformation":[],"hidden":true,"name":"Counter"}],"sharedPropertyDescriptors":[]}],"eventsBasedObjects":[]},{"author":"","category":"General","extensionNamespace":"","fullName":"Advanced 3D Features","helpPath":"https://pandako.itch.io/a3f","iconUrl":"data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0idXRmLTgiPz4NCjwhLS0gR2VuZXJhdG9yOiBBZG9iZSBJbGx1c3RyYXRvciAyMy4wLjMsIFNWRyBFeHBvcnQgUGx1Zy1JbiAuIFNWRyBWZXJzaW9uOiA2LjAwIEJ1aWxkIDApICAtLT4NCjxzdmcgdmVyc2lvbj0iMS4xIiBpZD0iSWNvbnMiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgeG1sbnM6eGxpbms9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiIHg9IjBweCIgeT0iMHB4Ig0KCSB2aWV3Qm94PSIwIDAgMzIgMzIiIHN0eWxlPSJlbmFibGUtYmFja2dyb3VuZDpuZXcgMCAwIDMyIDMyOyIgeG1sOnNwYWNlPSJwcmVzZXJ2ZSI+DQo8c3R5bGUgdHlwZT0idGV4dC9jc3MiPg0KCS5zdDB7ZmlsbDpub25lO3N0cm9rZTojMDAwMDAwO3N0cm9rZS13aWR0aDoyO3N0cm9rZS1saW5lY2FwOnJvdW5kO3N0cm9rZS1saW5lam9pbjpyb3VuZDtzdHJva2UtbWl0ZXJsaW1pdDoxMDt9DQoJLnN0MXtmaWxsOm5vbmU7c3Ryb2tlOiMwMDAwMDA7c3Ryb2tlLXdpZHRoOjI7c3Ryb2tlLWxpbmVjYXA6cm91bmQ7c3Ryb2tlLWxpbmVqb2luOnJvdW5kO30NCgkuc3Qye2ZpbGw6bm9uZTtzdHJva2U6IzAwMDAwMDtzdHJva2Utd2lkdGg6MjtzdHJva2UtbGluZWNhcDpyb3VuZDtzdHJva2UtbGluZWpvaW46cm91bmQ7c3Ryb2tlLWRhc2hhcnJheTo2LDY7fQ0KCS5zdDN7ZmlsbDpub25lO3N0cm9rZTojMDAwMDAwO3N0cm9rZS13aWR0aDoyO3N0cm9rZS1saW5lY2FwOnJvdW5kO3N0cm9rZS1saW5lam9pbjpyb3VuZDtzdHJva2UtZGFzaGFycmF5OjQsNDt9DQoJLnN0NHtmaWxsOm5vbmU7c3Ryb2tlOiMwMDAwMDA7c3Ryb2tlLXdpZHRoOjI7c3Ryb2tlLWxpbmVjYXA6cm91bmQ7fQ0KCS5zdDV7ZmlsbDpub25lO3N0cm9rZTojMDAwMDAwO3N0cm9rZS13aWR0aDoyO3N0cm9rZS1saW5lY2FwOnJvdW5kO3N0cm9rZS1kYXNoYXJyYXk6My4xMDgxLDMuMTA4MTt9DQoJDQoJCS5zdDZ7ZmlsbDpub25lO3N0cm9rZTojMDAwMDAwO3N0cm9rZS13aWR0aDoyO3N0cm9rZS1saW5lY2FwOnJvdW5kO3N0cm9rZS1saW5lam9pbjpyb3VuZDtzdHJva2UtbWl0ZXJsaW1pdDoxMDtzdHJva2UtZGFzaGFycmF5OjQsMzt9DQo8L3N0eWxlPg0KPHBvbHlnb24gY2xhc3M9InN0MCIgcG9pbnRzPSI0LDkuNyA0LDIzLjIgMTYsMzAgMjgsMjMuMiAyOCw5LjcgMTYsMyAiLz4NCjxwb2x5bGluZSBjbGFzcz0ic3QwIiBwb2ludHM9IjQsMTAuMiAxNiwxNyAyOCwxMC4yICIvPg0KPGxpbmUgY2xhc3M9InN0MCIgeDE9IjE2IiB5MT0iMzAiIHgyPSIxNiIgeTI9IjE3Ii8+DQo8L3N2Zz4NCg==","name":"A3F","previewIconUrl":"https://asset-resources.gdevelop.io/public-resources/Icons/Line Hero Pack/Master/SVG/Graphic Design/f4c71080f9213188ee5556b1acb45ad46fe6e5225947301c363105b080fca008_Graphic Design_3d_cube_isometric.svg","shortDescription":"This extension adds features to the built-in 3D.","version":"1.0.0","description":["3D features to be added with this extension.  ","- Lighting","- Shadow","- Local translate and rotate","- Blend mode","- Opacity","- Overlap objects","- Linear interpolation","- Axes helper","- Light helper","- Shadow range helper"],"tags":["3d","movement","rotate","material","light","shadow","camera","opacity"],"authorIds":["Zu55H5hcb9YmZTltIVOTAFDJQyB2"],"dependencies":[],"globalVariables":[],"sceneVariables":[],"eventsFunctions":[{"description":"Translates the camera along its local axis.","fullName":"Local translate camera by distance","functionType":"Action","name":"LocalTranslateCameraDistance","sentence":"Local translate camera (Axis: _PARAM1_, Distance: _PARAM2_, Layer: _PARAM3_, Camera: _PARAM4_)","events":[{"type":"BuiltinCommonInstructions::JsCode","inlineCode":["const Axis = eventsFunctionContext.getArgument(\"Axis\");","const Distance = eventsFunctionContext.getArgument(\"Distance\");","const Layer = eventsFunctionContext.getArgument(\"Layer\");","// const CameraNumber = eventsFunctionContext.getArgument(\"CameraNumber\");","","const Camera3D = runtimeScene.getLayer(Layer).getRenderer().getThreeCamera();","if (!Camera3D) {","    return;","}","if (Axis == \"X\") {","    Camera3D.translateX(Distance);","} else if (Axis == \"Y\") {","    Camera3D.translateY(-Distance);","} else {","    Camera3D.translateZ(Distance);","}","runtimeScene.getLayer(Layer)._cameraX = Camera3D.position.x;","runtimeScene.getLayer(Layer)._cameraY = -Camera3D.position.y;","runtimeScene.getLayer(Layer).setCameraZ(Camera3D.position.z, null);",""],"parameterObjects":"Object","useStrict":true,"eventsSheetExpanded":true}],"parameters":[{"description":"Axis","name":"Axis","supplementaryInformation":"[\"X\",\"Y\",\"Z\"]","type":"stringWithSelector"},{"description":"Distance (in pixels)","name":"Distance","type":"expression"},{"description":"Layer","name":"Layer","type":"layer"},{"description":"Camera number (default: 0)","name":"CameraNumber","type":"expression"}],"objectGroups":[]},{"description":"Translates the camera along its local axis.","fullName":"Local translate camera by speed","functionType":"Action","name":"LocalTranslateCameraSpeed","sentence":"Local translate camera (Axis: _PARAM1_, Speed: _PARAM2_, Layer: _PARAM3_, Camera: _PARAM4_)","events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[],"actions":[{"type":{"value":"A3F::LocalTranslateCameraDistance"},"parameters":["","Axis","Speed * TimeDelta()","Layer","CameraNumber",""]}]}],"parameters":[{"description":"Axis","name":"Axis","supplementaryInformation":"[\"X\",\"Y\",\"Z\"]","type":"stringWithSelector"},{"description":"Speed (in pixels per second)","name":"Speed","type":"expression"},{"description":"Layer","name":"Layer","type":"layer"},{"description":"Camera number (default: 0)","name":"CameraNumber","type":"expression"}],"objectGroups":[]},{"description":"Rotates the camera along its local axis.","fullName":"Local rotate camera by angle","functionType":"Action","name":"LocalRotateCameraAngle","sentence":"Local rotate camera (Axis: _PARAM1_, Angle: _PARAM2_, Layer: _PARAM3_, Camera: _PARAM4_)","events":[{"type":"BuiltinCommonInstructions::JsCode","inlineCode":["const Axis = eventsFunctionContext.getArgument(\"Axis\");","const Angle = eventsFunctionContext.getArgument(\"Angle\");","const Layer = eventsFunctionContext.getArgument(\"Layer\");","// const CameraNumber = eventsFunctionContext.getArgument(\"CameraNumber\");","","const Camera3D = runtimeScene.getLayer(Layer).getRenderer().getThreeCamera();","if (!Camera3D) {","    return;","}","if (Axis == \"X\") {","    Camera3D.rotateX(gdjs.toRad(-Angle));","} else if (Axis == \"Y\") {","    Camera3D.rotateY(gdjs.toRad(Angle));","} else {","    Camera3D.rotateZ(gdjs.toRad(-Angle));","}","runtimeScene.getLayer(Layer).setCameraRotation(gdjs.toDegrees(-Camera3D.rotation.z));"],"parameterObjects":"Object","useStrict":true,"eventsSheetExpanded":true}],"parameters":[{"description":"Axis","name":"Axis","supplementaryInformation":"[\"X\",\"Y\",\"Z\"]","type":"stringWithSelector"},{"description":"Angle (in degrees)","name":"Angle","type":"expression"},{"description":"Layer","name":"Layer","type":"layer"},{"description":"Camera number (default: 0)","name":"CameraNumber","type":"expression"}],"objectGroups":[]},{"description":"Rotates the camera along its local axis.","fullName":"Local rotate camera by speed","functionType":"Action","name":"LocalRotateCameraSpeed","sentence":"Local rotate camera (Axis: _PARAM1_, Speed: _PARAM2_, Layer: _PARAM3_, Camera: _PARAM4_)","events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[],"actions":[{"type":{"value":"A3F::LocalRotateCameraAngle"},"parameters":["","Axis","Speed * TimeDelta()","Layer","CameraNumber",""]}]}],"parameters":[{"description":"Axis","name":"Axis","supplementaryInformation":"[\"X\",\"Y\",\"Z\"]","type":"stringWithSelector"},{"description":"Speed (in degrees per second)","name":"Speed","type":"expression"},{"description":"Layer","name":"Layer","type":"layer"},{"description":"Camera number (default: 0)","name":"CameraNumber","type":"expression"}],"objectGroups":[]},{"fullName":"Linearly interpolate camera","functionType":"Action","name":"LerpCamera","sentence":"Linearly interpolate camera (Layer: _PARAM1_, Camera:_PARAM2_, Target: _PARAM3_, Position: _PARAM5_, Rotation: _PARAM6_, Viewpoint: _PARAM7_)","events":[{"type":"BuiltinCommonInstructions::JsCode","inlineCode":["const Layer = eventsFunctionContext.getArgument(\"Layer\");","// const CameraNumber = eventsFunctionContext.getArgument(\"CameraNumber\");","const Targets = eventsFunctionContext.getObjects(\"Target\");","const FactorP = eventsFunctionContext.getArgument(\"FactorP\");","const FactorR = eventsFunctionContext.getArgument(\"FactorR\");","const Viewpoint = eventsFunctionContext.getArgument(\"Viewpoint\");","//","const Camera3D = runtimeScene.getLayer(Layer).getRenderer().getThreeCamera();","if (!Camera3D) {","    return;","}","if (Targets.length === 0) {","    return;","}","const Object3D = Targets[0].get3DRendererObject();","//","if (FactorP) {","    const Vec3 = Object3D.position.clone();","    Vec3.y *= -1;","    Camera3D.position.lerp(Vec3, FactorP);","    runtimeScene.getLayer(Layer)._cameraX = Camera3D.position.x;","    runtimeScene.getLayer(Layer)._cameraY = -Camera3D.position.y;","    runtimeScene.getLayer(Layer).setCameraZ(Camera3D.position.z, null);","}","if (FactorR) {","    const Euler = Object3D.rotation.clone();","    Euler.x *= -1;","    Euler.z *= -1;","    const Quaternion = new THREE.Quaternion();","    Quaternion.setFromEuler(Euler);","    //","    if (Viewpoint) {","        const EulerView = new THREE.Euler(gdjs.toRad(90), gdjs.toRad(-90), 0);","        const QuaternionView = new THREE.Quaternion();","        QuaternionView.setFromEuler(EulerView);","        Quaternion.multiply(QuaternionView);","    }","    //","    Camera3D.quaternion.slerp(Quaternion, FactorR);","    runtimeScene.getLayer(Layer).setCameraRotation(gdjs.toDegrees(-Camera3D.rotation.z));","}","",""],"parameterObjects":"","useStrict":true,"eventsSheetExpanded":true}],"parameters":[{"description":"Layer","name":"Layer","type":"layer"},{"description":"Camera number (default: 0)","name":"CameraNumber","type":"expression"},{"description":"Target 3D Object","name":"Target","type":"objectList"},{"description":"Target 3D capability","name":"TargetCapability3d","supplementaryInformation":"Scene3D::Base3DBehavior","type":"behavior"},{"description":"Position interpolation factor (0 to 1)","longDescription":"Disable with 0","name":"FactorP","type":"expression"},{"description":"Rotation interpolation factor (0 to 1)","longDescription":"Disable with 0","name":"FactorR","type":"expression"},{"defaultValue":"yes","description":"Based on the object's viewpoint","name":"Viewpoint","optional":true,"type":"yesorno"}],"objectGroups":[]},{"description":"Overlay the object on the 3D object.\n For objects to overlap correctly, they must be on a different layer than the 3D object.","fullName":"Overlap objects","functionType":"Action","group":"Position","name":"OverlapObjects","sentence":"Overlap objects (_PARAM1_, Hide: _PARAM2_, Target: _PARAM3_, Offset: _PARAM5_, _PARAM6_, _PARAM7_)","events":[{"type":"BuiltinCommonInstructions::ForEach","object":"AnyObject","conditions":[],"actions":[],"events":[{"type":"BuiltinCommonInstructions::JsCode","inlineCode":["const AnyObject = objects[0];","const Hide = eventsFunctionContext.getArgument(\"Hide\");","const Object3D = eventsFunctionContext.getObjects(\"Object3D\")[0];","const OffsetX = eventsFunctionContext.getArgument(\"OffsetX\");","const OffsetY = eventsFunctionContext.getArgument(\"OffsetY\");","const OffsetZ = eventsFunctionContext.getArgument(\"OffsetZ\");","const Offset3D = new THREE.Vector3(OffsetX, OffsetY, OffsetZ);","if (!Object3D) {","    return;","}","const Layer3D = Object3D.layer;","const RendererObject3D = Object3D.get3DRendererObject();","const Camera3D = runtimeScene.getLayer(Layer3D).getRenderer().getThreeCamera();","if (!Camera3D) {","    return;","}","//","let Position3D;","if (RendererObject3D) {","    // 3D","    Position3D = RendererObject3D.position.clone();","} else {","    // 2D","    Position3D = new THREE.Vector3(Object3D.getX(), Object3D.getY(), 0);","}","Position3D.add(Offset3D);","Position3D.y *= -1;","//","const Project = Position3D.clone().project(Camera3D);","const GameResolutionWidth = runtimeScene.getGame().getGameResolutionWidth();","const GameResolutionHeight = runtimeScene.getGame().getGameResolutionHeight();","const PointX = (GameResolutionWidth / 2) * (Project.x + 1.0);","const PointY = (GameResolutionHeight / 2) * ((Project.y * -1) + 1.0);","//","if (Hide) {","    const Frustum = new THREE.Frustum();","    const CloneCamera = Camera3D.clone();","    CloneCamera.rotateZ(gdjs.toRad(180));","    Frustum.setFromProjectionMatrix(new THREE.Matrix4().multiplyMatrices(CloneCamera.projectionMatrix, CloneCamera.matrixWorldInverse));","    const Within = Frustum.containsPoint(Position3D);","    AnyObject.hide(!Within);","}","//","AnyObject.setPosition(PointX, PointY);","",""],"parameterObjects":"AnyObject","useStrict":true,"eventsSheetExpanded":true}]}],"parameters":[{"description":"Any object","name":"AnyObject","type":"objectList"},{"defaultValue":"yes","description":"Hide when behind the 3D camera","longDescription":"Hides the 2D object when the 3D object is behind the 3D camera.","name":"Hide","optional":true,"type":"yesorno"},{"description":"Target 3D object","name":"Object3D","type":"objectList"},{"description":"3D Capability","name":"Capability3D","supplementaryInformation":"Scene3D::Base3DBehavior","type":"behavior"},{"description":"X Offset","name":"OffsetX","type":"expression"},{"description":"Y Offset","name":"OffsetY","type":"expression"},{"description":"Z Offset","name":"OffsetZ","type":"expression"}],"objectGroups":[]},{"description":"Translates the 3D object along its local axis.","fullName":"Local translate by distance","functionType":"Action","group":"Position","name":"LocalTranslateDistance","sentence":"Local translates (_PARAM1_, Axis: _PARAM3_, Distance: _PARAM4_)","events":[{"type":"BuiltinCommonInstructions::ForEach","object":"Object","conditions":[],"actions":[],"events":[{"type":"BuiltinCommonInstructions::JsCode","inlineCode":["const Object2D = objects[0];","const Object3D = Object2D.get3DRendererObject();","const Axis = eventsFunctionContext.getArgument(\"Axis\");","const Distance = eventsFunctionContext.getArgument(\"Distance\");","","Object3D.updateMatrixWorld(false);","const Elements = Object3D.matrixWorld.elements;","let WorldDirection = new THREE.Vector3();","if (Axis == \"X\") {","    WorldDirection.set(Elements[0], Elements[1], Elements[2]);","    WorldDirection = WorldDirection.normalize();","} else if (Axis == \"Y\") {","    WorldDirection.set(Elements[4], Elements[5], Elements[6]);","    WorldDirection = WorldDirection.normalize();","} else {","    Object3D.getWorldDirection(WorldDirection);","}","Object2D.setX(Object2D.getX() + (WorldDirection.x * Distance));","Object2D.setY(Object2D.getY() + (WorldDirection.y * Distance * -1));","Object2D.setZ(Object2D.getZ() + (WorldDirection.z * Distance));"],"parameterObjects":"Object","useStrict":true,"eventsSheetExpanded":true}]}],"parameters":[{"description":"Object","name":"Object","type":"objectList"},{"description":"3D capability","name":"Capability3d","supplementaryInformation":"Scene3D::Base3DBehavior","type":"behavior"},{"description":"Axis","name":"Axis","supplementaryInformation":"[\"X\",\"Y\",\"Z\"]","type":"stringWithSelector"},{"description":"Distance (in pixels)","name":"Distance","type":"expression"}],"objectGroups":[]},{"description":"Translates the 3D object along its local axis.","fullName":"Local translate by speed","functionType":"Action","group":"Position","name":"LocalTranslateSpeed","sentence":"Local translates (_PARAM1_, Axis: _PARAM3_, Speed: _PARAM4_)","events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[],"actions":[{"type":{"value":"A3F::LocalTranslateDistance"},"parameters":["Object","Object","Capability3d","Axis","Speed * TimeDelta()",""]}]}],"parameters":[{"description":"Object","name":"Object","type":"objectList"},{"description":"3D capability","name":"Capability3d","supplementaryInformation":"Scene3D::Base3DBehavior","type":"behavior"},{"description":"Axis","name":"Axis","supplementaryInformation":"[\"X\",\"Y\",\"Z\"]","type":"stringWithSelector"},{"description":"Speed (in pixels per second)","name":"Speed","type":"expression"}],"objectGroups":[]},{"description":"Rotates the 3D object along its local axis.","fullName":"Local rotate by angle","functionType":"Action","group":"Angle","name":"LocalRotateAngle","sentence":"Local rotates (_PARAM1_, Axis: _PARAM3_, Degrees: _PARAM4_)","events":[{"type":"BuiltinCommonInstructions::ForEach","object":"Object","conditions":[],"actions":[],"events":[{"type":"BuiltinCommonInstructions::JsCode","inlineCode":["const Object2D = objects[0];","const Object3D = Object2D.get3DRendererObject();","const Axis = eventsFunctionContext.getArgument(\"Axis\");","const Angle = eventsFunctionContext.getArgument(\"Angle\");","","if (Axis == \"X\") {","    Object3D.rotateX(gdjs.toRad(Angle));","} else if (Axis == \"Y\") {","    Object3D.rotateY(gdjs.toRad(Angle));","} else {","    Object3D.rotateZ(gdjs.toRad(Angle));","}","const DegreesX = gdjs.toDegrees(Object3D.rotation.x);","const DegreesY = gdjs.toDegrees(Object3D.rotation.y);","const DegreesZ = gdjs.toDegrees(Object3D.rotation.z);","Object2D.setRotationX(DegreesX);","Object2D.setRotationY(DegreesY);","Object2D.setAngle(DegreesZ);"],"parameterObjects":"Object","useStrict":true,"eventsSheetExpanded":true}]}],"parameters":[{"description":"Object","name":"Object","type":"objectList"},{"description":"3D capability","name":"Capability3d","supplementaryInformation":"Scene3D::Base3DBehavior","type":"behavior"},{"description":"Axis","name":"Axis","supplementaryInformation":"[\"X\",\"Y\",\"Z\"]","type":"stringWithSelector"},{"description":"Angle (in degrees)","name":"Angle","type":"expression"}],"objectGroups":[]},{"description":"Rotates the 3D object along its local axis.","fullName":"Local rotate by speed","functionType":"Action","group":"Angle","name":"LocalRotateSpeed","sentence":"Local rotates (_PARAM1_, Axis: _PARAM3_, Speed: _PARAM4_)","events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[],"actions":[{"type":{"value":"A3F::LocalRotateAngle"},"parameters":["Object","Object","Capability3d","Axis","Speed * TimeDelta()",""]}]}],"parameters":[{"description":"Object","name":"Object","type":"objectList"},{"description":"3D capability","name":"Capability3d","supplementaryInformation":"Scene3D::Base3DBehavior","type":"behavior"},{"description":"Axis","name":"Axis","supplementaryInformation":"[\"X\",\"Y\",\"Z\"]","type":"stringWithSelector"},{"description":"Speed (in degrees per second)","name":"Speed","type":"expression"}],"objectGroups":[]},{"fullName":"Linearly interpolate 3D object","functionType":"Action","group":"Position","name":"LerpObject","sentence":"Linearly interpolate 3D object (_PARAM1_, Target: _PARAM3_, Position: _PARAM5_, Rotation: _PARAM6_)","events":[{"type":"BuiltinCommonInstructions::ForEach","object":"Object","conditions":[],"actions":[],"events":[{"type":"BuiltinCommonInstructions::JsCode","inlineCode":["const Object2D = objects[0];","const Object3D = Object2D.get3DRendererObject();","const Targets = eventsFunctionContext.getObjects(\"Target\");","const FactorP = eventsFunctionContext.getArgument(\"FactorP\");","const FactorR = eventsFunctionContext.getArgument(\"FactorR\");","const Viewpoint = eventsFunctionContext.getArgument(\"Viewpoint\");","//","if (Targets.length === 0) {","    return;","}","const Target3D = Targets[0].get3DRendererObject();","//","if (FactorP) {","    Object3D.position.lerp(Target3D.position, FactorP);","    //","    Object2D.x = Object3D.position.x;","    Object2D.y = Object3D.position.y;","    Object2D.setZ(Object3D.position.z);","}","if (FactorR) {","    Object3D.quaternion.slerp(Target3D.quaternion, FactorR);","    //","    Object2D._rotationX = gdjs.toDegrees(Object3D.rotation.x);","    Object2D._rotationY = gdjs.toDegrees(Object3D.rotation.y);","    Object2D.setAngle(gdjs.toDegrees(Object3D.rotation.z));","}","",""],"parameterObjects":"Object","useStrict":true,"eventsSheetExpanded":true}]}],"parameters":[{"description":"Object","name":"Object","type":"objectList"},{"description":"3D capability","name":"Capability3d","supplementaryInformation":"Scene3D::Base3DBehavior","type":"behavior"},{"description":"Target 3D Object","name":"Target","type":"objectList"},{"description":"Target 3D capability","name":"TargetCapability3d","supplementaryInformation":"Scene3D::Base3DBehavior","type":"behavior"},{"description":"Position interpolation factor (0 to 1)","longDescription":"Disable with 0","name":"FactorP","type":"expression"},{"description":"Rotation interpolation factor (0 to 1)","longDescription":"Disable with 0","name":"FactorR","type":"expression"}],"objectGroups":[]},{"fullName":"Add Axes Helper","functionType":"Action","group":"Debug","name":"AddAxesHelper","sentence":"Add axes helper (_PARAM1_, _PARAM2_)","events":[{"type":"BuiltinCommonInstructions::ForEach","object":"Object","conditions":[],"actions":[],"events":[{"type":"BuiltinCommonInstructions::JsCode","inlineCode":["const Object3D = objects[0].get3DRendererObject();","//","const AxesHelper = new THREE.AxesHelper(2);","AxesHelper.name = objects[0].name + objects[0].id + \"_AxesHelper\";","Object3D.add(AxesHelper);"],"parameterObjects":"Object","useStrict":true,"eventsSheetExpanded":true}]}],"parameters":[{"description":"3D object","name":"Object","type":"objectList"},{"description":"3D capability","name":"Capability3d","supplementaryInformation":"Scene3D::Base3DBehavior","type":"behavior"}],"objectGroups":[]},{"description":"Change the blend mode of the 3D objects and all their children.\nThis affects all 3d objects that use the same material.","fullName":"Change blend mode","functionType":"Action","group":"Effects","name":"ChangeBlendMode","sentence":"Change blend mode (_PARAM1_, Blend: _PARAM3_)","events":[{"type":"BuiltinCommonInstructions::ForEach","object":"Object","conditions":[],"actions":[],"events":[{"type":"BuiltinCommonInstructions::JsCode","inlineCode":["const Object2D = objects[0];\r","const Object3D = Object2D.get3DRendererObject();\r","const BlendMode = eventsFunctionContext.getArgument(\"Blend\");\r","//\r","//Blend mode\r","let Blend = null;//THREE.NoBlending === 0\r","if (BlendMode == \"Normal\") {\r","    Blend = THREE.NormalBlending;\r","} else if (BlendMode == \"Additive\") {\r","    Blend = THREE.AdditiveBlending;\r","} else if (BlendMode == \"Subtractive\") {\r","    Blend = THREE.SubtractiveBlending;\r","} else if (BlendMode == \"Multiply\") {\r","    Blend = THREE.MultiplyBlending;\r","}\r","if (Blend) {\r","    Object3D.traverse((Child) => {\r","        if (Child.material) {\r","            if (Array.isArray(Child.material)) {\r","                for (let i = 0; i < Child.material.length; i++) {\r","                    Child.material[i].blending = Blend;\r","                }\r","            } else {\r","                Child.material.blending = Blend;\r","            }\r","        }\r","    });\r","}"],"parameterObjects":"Object","useStrict":true,"eventsSheetExpanded":true}]}],"parameters":[{"description":"Object","name":"Object","type":"objectList"},{"description":"3D capability","name":"Capability3d","supplementaryInformation":"Scene3D::Base3DBehavior","type":"behavior"},{"description":"Blend mode","name":"Blend","supplementaryInformation":"[\"Keep model blend mode\",\"Normal\",\"Additive\",\"Subtractive\",\"Multiply\"]","type":"stringWithSelector"}],"objectGroups":[]},{"description":"Returns the opacity of the 3D object, or the first opacity found among its children.","fullName":"Opacity","functionType":"Expression","group":"Visibility","name":"Opacity","sentence":"Opacity (_PARAM1_)","events":[{"type":"BuiltinCommonInstructions::JsCode","inlineCode":["eventsFunctionContext.returnValue = 255;","if (objects.length == 0) {","    return;","}","let Opacity = null;","const Object2D = objects[0];","const Object3D = Object2D.get3DRendererObject();","//","if (Object3D) {","    Object3D.traverse((Child) => {","        if (Opacity === null) {","            if (Child.material) {","                if (Array.isArray(Child.material)) {","                    Opacity = Child.material[0].opacity;","                } else {","                    Opacity = Child.material.opacity;","                }","            }","        }","    });","}","Opacity = (Opacity === null) ? 1 : Opacity;","Opacity *= 255;","eventsFunctionContext.returnValue = Opacity;","",""],"parameterObjects":"Object","useStrict":true,"eventsSheetExpanded":true}],"expressionType":{"type":"expression"},"parameters":[{"description":"Object","name":"Object","type":"objectList"}],"objectGroups":[]},{"description":"Check the opacity of the 3D object, or the first opacity found among its children.\nThis condition can be used for non-3D objects as well, but in those cases the opacity is always compared as 255.","fullName":"Check opacity","functionType":"Condition","group":"Visibility","name":"CheckOpacity","sentence":"Check opacity (_PARAM1_, _PARAM3_, Opacity: _PARAM4_)","events":[{"type":"BuiltinCommonInstructions::JsCode","inlineCode":["if (objects.length == 0) {","    return;","}","const ObjectsLists = eventsFunctionContext.getObjectsLists(\"Object\");","const Operator = eventsFunctionContext.getArgument(\"Operator\");","const TargetOpacity = eventsFunctionContext.getArgument(\"Opacity\") / 255;","//","eventsFunctionContext.returnValue = gdjs.evtTools.object.pickObjectsIf((Obj, Argument) => {","    let Opacity = null;","    const Object2D = Obj;","    const Object3D = Object2D.get3DRendererObject();","    //","    if (Object3D) {","        Object3D.traverse((Child) => {","            if (Opacity === null) {","                if (Child.material) {","                    if (Array.isArray(Child.material)) {","                        Opacity = Child.material[0].opacity;","                    } else {","                        Opacity = Child.material.opacity;","                    }","                }","            }","        });","    }","    Opacity = (Opacity === null) ? 1 : Opacity;","    //","    if (Operator == \"=\") {","        return (Opacity == TargetOpacity);","    } else if (Operator == \"<\") {","        return (Opacity < TargetOpacity);","    } else if (Operator == \">\") {","        return (Opacity > TargetOpacity);","    } else if (Operator == \"\") {","        return (Opacity <= TargetOpacity);","    } else if (Operator == \"\") {","        return (Opacity >= TargetOpacity);","    } else {","        // ","        return (Opacity != TargetOpacity);","    }","}, ObjectsLists, false, null);","",""],"parameterObjects":"Object","useStrict":true,"eventsSheetExpanded":true}],"parameters":[{"description":"Object","name":"Object","type":"objectList"},{"description":"3D capability","name":"Capability3d","supplementaryInformation":"Scene3D::Base3DBehavior","type":"behavior"},{"description":"Operator","name":"Operator","supplementaryInformation":"[\"=\",\"<\",\">\",\"\",\"\",\"\"]","type":"stringWithSelector"},{"description":"Opacity (0 to 255)","name":"Opacity","type":"expression"}],"objectGroups":[]},{"description":"Change the opacity of the 3D objects and all their children.\nThis affects all 3D objects that use the same material.","fullName":"Change opacity","functionType":"Action","group":"Visibility","name":"ChangeOpacity","sentence":"Change opacity (_PARAM1_, _PARAM3_, Opacity: _PARAM4_)","events":[{"type":"BuiltinCommonInstructions::ForEach","object":"Object","conditions":[],"actions":[],"events":[{"type":"BuiltinCommonInstructions::JsCode","inlineCode":["const Object2D = objects[0];\r","const Object3D = Object2D.get3DRendererObject();\r","const Operator = eventsFunctionContext.getArgument(\"Operator\");\r","const Opacity = eventsFunctionContext.getArgument(\"Opacity\") / 255;\r","//\r","Object3D.traverse((Child) => {\r","    if (Child.material) {\r","        if (Array.isArray(Child.material)) {\r","            for (let i = 0; i < Child.material.length; i++) {\r","                if (Operator == \"+\") {\r","                    Child.material[i].opacity += Opacity;\r","                } else if (Operator == \"-\") {\r","                    Child.material[i].opacity -= Opacity;\r","                } else if (Operator == \"*\") {\r","                    Child.material[i].opacity *= Opacity;\r","                } else if (Operator == \"/\") {\r","                    Child.material[i].opacity /= Opacity;\r","                } else {\r","                    // =\r","                    Child.material[i].opacity = Opacity;\r","                }\r","                const Transparent = (Child.material[i].opacity < 1);\r","                if (Child.material[i].transparent !== Transparent) {\r","                    Child.material[i].transparent = Transparent;\r","                    Child.material[i].needsUpdate = true;\r","                }\r","            }\r","        } else {\r","            if (Operator == \"+\") {\r","                Child.material.opacity += Opacity;\r","            } else if (Operator == \"-\") {\r","                Child.material.opacity -= Opacity;\r","            } else if (Operator == \"*\") {\r","                Child.material.opacity *= Opacity;\r","            } else if (Operator == \"/\") {\r","                Child.material.opacity /= Opacity;\r","            } else {\r","                // =\r","                Child.material.opacity = Opacity;\r","            }\r","            const Transparent = (Child.material.opacity < 1);\r","            if (Child.material.transparent !== Transparent) {\r","                Child.material.transparent = Transparent;\r","                Child.material.needsUpdate = true;\r","            }\r","        }\r","    }\r","});\r","\r",""],"parameterObjects":"Object","useStrict":true,"eventsSheetExpanded":true}]}],"parameters":[{"description":"Object","name":"Object","type":"objectList"},{"description":"3D capability","name":"Capability3d","supplementaryInformation":"Scene3D::Base3DBehavior","type":"behavior"},{"description":"Operator","name":"Operator","supplementaryInformation":"[\"=\",\"+\",\"-\",\"*\",\"/\"]","type":"stringWithSelector"},{"description":"Opacity (0 to 255)","name":"Opacity","supplementaryInformation":"[\"Keep model blend mode\",\"Normal\",\"Additive\",\"Subtractive\",\"Multiply\"]","type":"expression"}],"objectGroups":[]},{"description":"Change the shadow settings of 3D objects.\nIf both \"Cast Shadow\" and \"Receive Shadow\" are enabled, striped patterns are likely to occur in the shadow.","fullName":"Change 3D shadow","functionType":"Action","group":"Effects","name":"ChangeShadow","sentence":"Change 3D shadow (_PARAM1_, Cast: _PARAM3_, Receive: _PARAM4_)","events":[{"type":"BuiltinCommonInstructions::ForEach","object":"Object","conditions":[],"actions":[],"events":[{"type":"BuiltinCommonInstructions::JsCode","inlineCode":["const Object2D = objects[0];","const Object3D = Object2D.get3DRendererObject();","const CastShadow = eventsFunctionContext.getArgument(\"CastShadow\");","const ReceiveShadow = eventsFunctionContext.getArgument(\"ReceiveShadow\");","//","Object3D.traverse((Child) => {","    if (Child.isMesh) {","        Child.castShadow = CastShadow;","        Child.receiveShadow = ReceiveShadow;","    }","});","",""],"parameterObjects":"Object","useStrict":true,"eventsSheetExpanded":true}]}],"parameters":[{"description":"Object","name":"Object","type":"objectList"},{"description":"3D capability","name":"Capability3d","supplementaryInformation":"Scene3D::Base3DBehavior","type":"behavior"},{"description":"Cast Shadow","name":"CastShadow","supplementaryInformation":"scene3D Object ID","type":"yesorno"},{"description":"Receive Shadow","name":"ReceiveShadow","type":"yesorno"}],"objectGroups":[]}],"eventsBasedBehaviors":[{"description":"Use this when you want to set the initial properties of a 3D object.","fullName":"Advanced 3D Initial Properties","name":"A3I","objectType":"","eventsFunctions":[{"fullName":"","functionType":"Action","name":"onCreated","sentence":"","events":[{"disabled":true,"type":"BuiltinCommonInstructions::JsCode","inlineCode":["const Object2D = objects[0];","const Object3D = Object2D.get3DRendererObject();","const Behavior = Object2D.getBehavior(\"A3F\");","//","//Axes helper","if (Behavior._getAxesHelper()) {","    const AxesHelper = new THREE.AxesHelper(2);","    AxesHelper.name = Object2D.name + Object2D.id + \"_AxesHelper\";","    Object3D.add(AxesHelper);","}","//","//Blend mode","let Blend = null;//THREE.NoBlending === 0","if (Behavior._getBlend() == \"Normal\") {","    Blend = THREE.NormalBlending;","} else if (Behavior._getBlend() == \"Additive\") {","    Blend = THREE.AdditiveBlending;","} else if (Behavior._getBlend() == \"Subtractive\") {","    Blend = THREE.SubtractiveBlending;","} else if (Behavior._getBlend() == \"Multiply\") {","    Blend = THREE.MultiplyBlending;","}","if (Blend) {","    Object3D.traverse((Child) => {","        if (Child.material) {","            if (Array.isArray(Child.material)) {","                for (let i = 0; i < Child.material.length; i++) {","                    Child.material[i].blending = Blend;","                }","            } else {","                Child.material.blending = Blend;","            }","        }","    });","}"],"parameterObjects":"Object","useStrict":true,"eventsSheetExpanded":false},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"A3F::A3I::PropertyAxesHelper"},"parameters":["Object","Behavior"]}],"actions":[{"type":{"value":"A3F::AddAxesHelper"},"parameters":["","Object","Capability3d",""]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"A3F::A3I::PropertyCastShadow"},"parameters":["Object","Behavior"]},{"type":{"inverted":true,"value":"A3F::A3I::PropertyReceiveShadow"},"parameters":["Object","Behavior"]}],"actions":[{"type":{"value":"A3F::ChangeShadow"},"parameters":["","Object","Capability3d","yes","",""]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"inverted":true,"value":"A3F::A3I::PropertyCastShadow"},"parameters":["Object","Behavior"]},{"type":{"value":"A3F::A3I::PropertyReceiveShadow"},"parameters":["Object","Behavior"]}],"actions":[{"type":{"value":"A3F::ChangeShadow"},"parameters":["","Object","Capability3d","no","yes",""]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"A3F::A3I::PropertyCastShadow"},"parameters":["Object","Behavior"]},{"type":{"value":"A3F::A3I::PropertyReceiveShadow"},"parameters":["Object","Behavior"]}],"actions":[{"type":{"value":"A3F::ChangeShadow"},"parameters":["","Object","Capability3d","yes","yes",""]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[],"actions":[{"type":{"value":"A3F::ChangeBlendMode"},"parameters":["","Object","Capability3d","Blend",""]},{"type":{"value":"A3F::ChangeOpacity"},"parameters":["","Object","Capability3d","\"=\"","Opacity",""]}]}],"parameters":[{"description":"Object","name":"Object","type":"object"},{"description":"Behavior","name":"Behavior","supplementaryInformation":"A3F::A3I","type":"behavior"}],"objectGroups":[]}],"propertyDescriptors":[{"value":"","type":"Behavior","label":"3D capability","description":"","group":"","extraInformation":["Scene3D::Base3DBehavior"],"name":"Capability3d"},{"value":"","type":"Boolean","label":"Axes helper","description":"","group":"Debug","extraInformation":[],"name":"AxesHelper"},{"value":"Keep model blend mode","type":"Choice","label":"Blend mode","description":"This affects all 3d objects that use the same material.","group":"Effect","extraInformation":["Keep model blend mode","Normal","Additive","Subtractive","Multiply"],"name":"Blend"},{"value":"255","type":"Number","label":"Opacity (0 to 255)","description":"This affects all 3d objects that use the same material.","group":"Visibility","extraInformation":[],"name":"Opacity"},{"value":"false","type":"Boolean","label":"Cast Shadow","description":"If both \"Cast Shadow\" and \"Receive Shadow\" are enabled, striped patterns are likely to occur in the shadow.","group":"Effect","extraInformation":[],"name":"CastShadow"},{"value":"false","type":"Boolean","label":"Receive Shadow","description":"If both \"Cast Shadow\" and \"Receive Shadow\" are enabled, striped patterns are likely to occur in the shadow.","group":"Effect","extraInformation":[],"name":"ReceiveShadow"}],"sharedPropertyDescriptors":[]},{"description":" 3D Lights are highly loaded.","fullName":"Advanced 3D Light","name":"A3L","objectType":"","eventsFunctions":[{"fullName":"","functionType":"Action","name":"onCreated","sentence":"","events":[{"type":"BuiltinCommonInstructions::JsCode","inlineCode":["const Object2D = objects[0];","const Object3D = Object2D.get3DRendererObject();","const Behavior = Object2D.getBehavior(\"A3L\");","const Renderer = runtimeScene.getGame().getRenderer().getThreeRenderer();//runtimeScene.getRenderer()._threeRenderer;","const Scene = runtimeScene.getLayer(Object2D.getLayer()).getRenderer().getThreeScene();//runtimeScene.getLayer(Object2D.getLayer()).get3DRendererObject();","//","const LightType = Behavior._getType();","const Color = Behavior._getColor() || \"255;255;255\";","let Intensity = Behavior._getIntensity();","const Distance = Behavior._getDistance();","const Decay = 2;","const SpotAngle = Behavior._getSpotAngle() / 2;","const SpotPenumbra = Behavior._getSpotPenumbra();","const CastShadow = Behavior._getCastShadow();","const ShadowMapSize = {\"128px\": 128, \"256px\": 256, \"512px\": 512, \"1024px\": 1024, \"2048px\": 2048}[Behavior._getShadowMapSize()];","const ShadowRange = Behavior._getShadowRange();","const ShadowBias = Behavior._getShadowDepthBias();","const ShadowNormalBias = Behavior._getShadowNormalBias();","const LightHelper = Behavior._getLightHelper();","const ShadowHelper = Behavior._getShadowHelper();","const LightIntensityScale = 1;//10000;//// Three.js r160","//","const RGB = Color.split(\";\");","let Light;","if (LightType == \"Directional Light\") {","    Intensity *= LightIntensityScale;","    Light = new THREE.DirectionalLight(`rgb(${RGB[0]}, ${RGB[1]}, ${RGB[2]})`, Intensity);","    const Target = new THREE.Group();","    Target.translateX(128);","    Light.add(Target);","    Light.target = Target;","    //","    Light.shadow.camera.top = ShadowRange / 2;","    Light.shadow.camera.right = ShadowRange / 2;","    Light.shadow.camera.bottom = -ShadowRange / 2;","    Light.shadow.camera.left = -ShadowRange / 2;","    Light.shadow.camera.near = 0.5;// default","    Light.shadow.camera.far = ShadowRange;","    //","    if (LightHelper) {","        const Geometry = new THREE.ConeGeometry(32, 128, 3);","        Geometry.translate(0, 64, 0);","        Geometry.rotateZ(gdjs.toRad(-90));","        const Material = new THREE.MeshBasicMaterial({color: `rgb(${RGB[0]}, ${RGB[1]}, ${RGB[2]})`, wireframe: true});","        const Cone = new THREE.Mesh(Geometry, Material);","        Cone.name = Object2D.name + Object2D.id + \"_DirectionalLightHelper\";","        Light.add(Cone);","        // const DirectionalLightHelper = new THREE.DirectionalLightHelper(Light, 128);","        // DirectionalLightHelper.name = Object2D.name + Object2D.id + \"_DirectionalLightHelper\";","        // Scene.add(DirectionalLightHelper);","    }","} else if (LightType == \"Spot Light\") {","    Intensity *= LightIntensityScale;","    Light = new THREE.SpotLight(`rgb(${RGB[0]}, ${RGB[1]}, ${RGB[2]})`, Intensity, Distance, gdjs.toRad(SpotAngle), SpotPenumbra, Decay);","    const Target = new THREE.Group();","    Target.translateX(1);","    Light.add(Target);","    Light.target = Target;","    //","    Light.shadow.camera.near = 0.5;// default","    Light.shadow.camera.far = ShadowRange;","    Light.shadow.focus = 1; // default","    //","    if (LightHelper && SpotAngle < 90) {","        const ConeHeight = Distance ? Distance : 1000;","\t\tconst ConeRadius = ConeHeight * Math.tan(gdjs.toRad(SpotAngle));","        const Geometry = new THREE.ConeGeometry(ConeRadius, ConeHeight, 8);","        Geometry.translate(0, -ConeHeight / 2, 0);","        Geometry.rotateZ(gdjs.toRad(90));","        const Material = new THREE.MeshBasicMaterial({color: `rgb(${RGB[0]}, ${RGB[1]}, ${RGB[2]})`, wireframe: true});","        const Cone = new THREE.Mesh(Geometry, Material);","        Cone.name = Object2D.name + Object2D.id + \"_SpotLightHelper\";","        Light.add(Cone);","        // const SpotLightHelper = new THREE.SpotLightHelper(Light);","        // SpotLightHelper.name = Object2D.name + Object2D.id + \"_SpotLightHelper\";","        // Scene.add(SpotLightHelper);","    }","} else {","    // Point","    Intensity *= LightIntensityScale;","    Light = new THREE.PointLight(`rgb(${RGB[0]}, ${RGB[1]}, ${RGB[2]})`, Intensity, Distance, Decay);","    //","    Light.shadow.camera.near = 0.5;// default","    Light.shadow.camera.far = ShadowRange;","    //","    if (LightHelper) {","        const Radius = Distance ? Distance : 1000;","        const Geometry = new THREE.IcosahedronGeometry(Radius, 2);","        const Material = new THREE.MeshBasicMaterial({color: `rgb(${RGB[0]}, ${RGB[1]}, ${RGB[2]})`, wireframe: true});","        const Icosahedron = new THREE.Mesh(Geometry, Material);","        Icosahedron.name = Object2D.name + Object2D.id + \"_PointLightHelper\";","        Light.add(Icosahedron);","        // const PointLightHelper = new THREE.PointLightHelper(Light, 16);","        // PointLightHelper.name = Object2D.name + Object2D.id + \"_PointLightHelper\";","        // Scene.add(PointLightHelper);","    }","}","Renderer.shadowMap.enabled = Renderer.shadowMap.enabled ? true : CastShadow;","Light.position.set(0, 0, 0);","Light.scale.x /= Object2D.getWidth();","Light.scale.y /= Object2D.getHeight();","Light.scale.z /= Object2D.getDepth();","Light.castShadow = CastShadow;","Light.shadow.mapSize.width = ShadowMapSize;","Light.shadow.mapSize.height = ShadowMapSize;","Light.shadow.bias = ShadowBias;","Light.shadow.normalBias = ShadowNormalBias;","Light.shadow.updateMatrices(Light);// ","Light.shadow.camera.updateProjectionMatrix();","//","Light.name = Object2D.name + Object2D.id + \"_Light\";","Object3D.add(Light);","//","if (ShadowHelper && CastShadow) {","    let CameraHelper;","    if (LightType == \"Directional Light\") {","        // const Geometry = new THREE.BoxGeometry(ShadowRange, ShadowRange, ShadowRange);","        const CylinderHeight = Light.shadow.camera.far;","        const CylinderRadius = Light.shadow.camera.top;","        const Geometry = new THREE.CylinderGeometry(CylinderRadius, CylinderRadius, CylinderHeight, 12, 1);","        Geometry.translate(0, -CylinderHeight / 2, 0);","        Geometry.rotateZ(gdjs.toRad(90));","        const Material = new THREE.MeshBasicMaterial({color: 0xff0000, wireframe: true});","        CameraHelper = new THREE.Mesh(Geometry, Material);","        // CameraHelper = new THREE.CameraHelper(Light.shadow.camera);","        // Scene.add(CameraHelper);","    } else if (LightType == \"Spot Light\") {","        const ConeHeight = Light.shadow.camera.far;","\t\tconst ConeRadius = ConeHeight * Math.tan(gdjs.toRad(SpotAngle));","        const Geometry = new THREE.ConeGeometry(ConeRadius, ConeHeight, 4);","        Geometry.translate(0, -ConeHeight / 2, 0);","        Geometry.rotateZ(gdjs.toRad(90));","        const Material = new THREE.MeshBasicMaterial({color: 0xff0000, wireframe: true});","        CameraHelper = new THREE.Mesh(Geometry, Material);","    } else {","        //Point","        const Geometry = new THREE.IcosahedronGeometry(Light.shadow.camera.far, 1);","        const Material = new THREE.MeshBasicMaterial({color: 0xff0000, wireframe: true});","        CameraHelper = new THREE.Mesh(Geometry, Material);","    }","    CameraHelper.name = Object2D.name + Object2D.id + \"_ShadowHelper\";","    Light.add(CameraHelper);","}"],"parameterObjects":"Object","useStrict":true,"eventsSheetExpanded":true}],"parameters":[{"description":"Object","name":"Object","type":"object"},{"description":"Behavior","name":"Behavior","supplementaryInformation":"A3F::A3L","type":"behavior"}],"objectGroups":[]},{"fullName":"","functionType":"Action","name":"onDestroy","sentence":"","events":[{"type":"BuiltinCommonInstructions::JsCode","inlineCode":["const Object2D = objects[0];\r","const Object3D = Object2D.get3DRendererObject();\r","Object3D.traverse((Child) => {\r","    // Light\r","    if (Child.isLight) {\r","        if (Child.castShadow) {\r","            Child.shadow.dispose();\r","        }\r","        Child.dispose();\r","    }\r","});"],"parameterObjects":"Object","useStrict":true,"eventsSheetExpanded":true}],"parameters":[{"description":"Object","name":"Object","type":"object"},{"description":"Behavior","name":"Behavior","supplementaryInformation":"A3F::A3L","type":"behavior"}],"objectGroups":[]}],"propertyDescriptors":[{"value":"","type":"Behavior","label":"3D capability","description":"","group":"","extraInformation":["Scene3D::Base3DBehavior"],"name":"Capability3d"},{"value":"Directional Light","type":"Choice","label":"Type","description":"","group":"","extraInformation":["Directional Light","Point Light","Spot Light"],"name":"Type"},{"value":"255;255;255","type":"Color","label":"Color","description":"","group":"","extraInformation":[],"name":"Color"},{"value":"1","type":"Number","label":"Intensity (Default: 1)","description":"","group":"","extraInformation":[],"name":"Intensity"},{"value":"0","type":"Number","label":"Distance (Default: 0)","description":"For Point and Spot Lights. 0 is no limit.","group":"","extraInformation":[],"name":"Distance"},{"value":"45","type":"Number","label":"Spot Angle (0 to 180)","description":"For Spot Lights. The narrower the angle, the better the shadow quality. If it is a multiple of 90, the shadow will not be cast correctly.","group":"","extraInformation":[],"name":"SpotAngle"},{"value":"0.5","type":"Number","label":"Spot Penumbra (0 to 1)","description":"For Spot Lights.","group":"","extraInformation":[],"name":"SpotPenumbra"},{"value":"","type":"Boolean","label":"Cast Shadow","description":" This is expensive and requires tweaking to get shadows looking right.","group":"Shadow","extraInformation":[],"name":"CastShadow"},{"value":"512px","type":"Choice","label":"Shadow Map Size","description":"The larger the map, the better the shadow quality, but the greater the load.","group":"Shadow","extraInformation":["128px","256px","512px","1024px","2048px"],"name":"ShadowMapSize"},{"value":"256","type":"Number","label":"Range to Draw Shadows","description":"The smaller the range, the better the shadow quality. For Point and Spot Lights, this value is valid only if the Distance is 0.","group":"Shadow","extraInformation":[],"name":"ShadowRange"},{"value":"0","type":"Number","label":"Shadow Depth Bias (Default: 0)","description":"It is mainly effective for filling gaps between objects and shadows. Reference value: [Directional Light: 0.002] [Point Light: 0.001] [Spot Light: 0.00001]","group":"Shadow Bias","extraInformation":[],"name":"ShadowDepthBias"},{"value":"0","type":"Number","label":"Shadow Normal Bias (Default: 0)","description":"It is mainly effective in reducing striped patterns. Reference value: [Directional Light: 2] [Point Light: 1] [Spot Light: 1]","group":"Shadow Bias","extraInformation":[],"name":"ShadowNormalBias"},{"value":"","type":"Boolean","label":"Light Helper","description":"","group":"Helper","extraInformation":[],"name":"LightHelper"},{"value":"","type":"Boolean","label":"Shadow Range Helper","description":"","group":"Helper","extraInformation":[],"name":"ShadowHelper"}],"sharedPropertyDescriptors":[]}],"eventsBasedObjects":[]},{"author":"","category":"Camera","extensionNamespace":"","fullName":"3D camera shake","helpPath":"","iconUrl":"data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiPz48IURPQ1RZUEUgc3ZnIFBVQkxJQyAiLS8vVzNDLy9EVEQgU1ZHIDEuMS8vRU4iICJodHRwOi8vd3d3LnczLm9yZy9HcmFwaGljcy9TVkcvMS4xL0RURC9zdmcxMS5kdGQiPjxzdmcgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayIgdmVyc2lvbj0iMS4xIiBpZD0ibWRpLXZlY3Rvci1kaWZmZXJlbmNlLWFiIiB3aWR0aD0iMjQiIGhlaWdodD0iMjQiIHZpZXdCb3g9IjAgMCAyNCAyNCI+PHBhdGggZD0iTTMsMUMxLjg5LDEgMSwxLjg5IDEsM1Y1SDNWM0g1VjFIM003LDFWM0gxMFYxSDdNMTIsMVYzSDE0VjVIMTZWM0MxNiwxLjg5IDE1LjExLDEgMTQsMUgxMk0xLDdWMTBIM1Y3SDFNMTQsN0MxNCw3IDE0LDExLjY3IDE0LDE0QzExLjY3LDE0IDcsMTQgNywxNEM3LDE0IDcsMTggNywyMEM3LDIxLjExIDcuODksMjIgOSwyMkgyMEMyMS4xMSwyMiAyMiwyMS4xMSAyMiwyMFY5QzIyLDcuODkgMjEuMTEsNyAyMCw3QzE4LDcgMTQsNyAxNCw3TTE2LDlIMjBWMjBIOVYxNkgxNEMxNS4xMSwxNiAxNiwxNS4xMSAxNiwxNFY5TTEsMTJWMTRDMSwxNS4xMSAxLjg5LDE2IDMsMTZINVYxNEgzVjEySDFaIiAvPjwvc3ZnPg==","name":"CameraShake3D","previewIconUrl":"https://resources.gdevelop-app.com/assets/Icons/vector-difference-ab.svg","shortDescription":"Shake 3D layer cameras.","version":"0.2.0","description":["Shake layer cameras on 3 rotations.","","- Short shaking can be used to give impact (explosion, hit)","- Shaking can go indefinitely to set an ambiance (engine vibration, earthquake, pulsing)","- Low frequency shaking allows to simulate slow moving objects (ship rocking back and forth)",""],"origin":{"identifier":"CameraShake3D","name":"gdevelop-extension-store"},"tags":["shaking","camera","effect","screen","shake","3d"],"authorIds":["IWykYNRvhCZBN3vEgKEbBPOR3Oc2"],"dependencies":[],"globalVariables":[],"sceneVariables":[{"folded":true,"name":"DefaultFrequency","type":"number","value":24.0},{"folded":true,"name":"DefaultAmplitudeAngleX","type":"number","value":0.5},{"folded":true,"name":"DefaultAmplitudeAngleY","type":"number","value":0.5},{"folded":true,"name":"DefaultAmplitudeAngleZ","type":"number","value":0.5},{"folded":true,"name":"Duration","type":"number","value":0.0},{"name":"Layers","type":"structure","children":[]},{"name":"Layer","type":"structure","children":[{"name":"AmplitudeAngleX","type":"number","value":0.0},{"name":"AmplitudeAngleY","type":"number","value":0.0},{"folded":true,"name":"AmplitudeAngleZ","type":"number","value":0.0},{"folded":true,"name":"CameraDeltaAngleX","type":"number","value":0.0},{"name":"CameraDeltaAngleY","type":"number","value":0.0},{"name":"CameraDeltaAngleZ","type":"number","value":0.0},{"folded":true,"name":"Frequency","type":"number","value":0.0}]},{"folded":true,"name":"LayerName","type":"string","value":""},{"folded":true,"name":"Time","type":"number","value":0.0},{"folded":true,"name":"StartEaseDuration","type":"number","value":0.0},{"folded":true,"name":"StopEaseDuration","type":"number","value":0.0}],"eventsFunctions":[{"fullName":"","functionType":"Action","name":"onSceneLoaded","sentence":"","events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[],"actions":[{"type":{"value":"SetNumberVariable"},"parameters":["Index","=","0"]}],"events":[{"type":"BuiltinCommonInstructions::Repeat","repeatExpression":"CameraShake3D::LayerCount()","conditions":[],"actions":[{"type":{"value":"CameraShake3D::SetLayerShakable"},"parameters":["","","CameraShake3D::LayerName(Index)",""]},{"type":{"value":"SetNumberVariable"},"parameters":["Index","+","1"]}]}],"variables":[{"folded":true,"name":"Index","type":"number","value":0.0}]}],"parameters":[],"objectGroups":[]},{"description":"Return the number of layers the current scene has. ","fullName":"Layer count","functionType":"Expression","name":"LayerCount","private":true,"sentence":"","events":[{"type":"BuiltinCommonInstructions::JsCode","inlineCode":["gdjs._cameraShake3DExtension = gdjs._cameraShake3DExtension || {};\r","gdjs._cameraShake3DExtension.layerNames = gdjs._cameraShake3DExtension.layerNames || [];\r","const layerNames = gdjs._cameraShake3DExtension.layerNames;\r","runtimeScene.getAllLayerNames(layerNames);\r","\r","eventsFunctionContext.returnValue = layerNames.length;\r",""],"parameterObjects":"","useStrict":true,"eventsSheetExpanded":false}],"expressionType":{"type":"expression"},"parameters":[],"objectGroups":[]},{"description":"Return the number of layers the current scene has. ","fullName":"Layer name","functionType":"StringExpression","name":"LayerName","private":true,"sentence":"","events":[{"type":"BuiltinCommonInstructions::JsCode","inlineCode":["const layerIndex = eventsFunctionContext.getArgument(\"LayerIndex\");\r","\r","gdjs._cameraShake3DExtension = gdjs._cameraShake3DExtension || {};\r","gdjs._cameraShake3DExtension.layerNames = gdjs._cameraShake3DExtension.layerNames || [];\r","const layerNames = gdjs._cameraShake3DExtension.layerNames;\r","runtimeScene.getAllLayerNames(layerNames);\r","\r","eventsFunctionContext.returnValue = layerNames[layerIndex];\r",""],"parameterObjects":"","useStrict":true,"eventsSheetExpanded":false}],"expressionType":{"type":"string"},"parameters":[{"description":"Layer index","name":"LayerIndex","type":"expression"}],"objectGroups":[]},{"fullName":"","functionType":"Action","name":"onScenePostEvents","sentence":"","events":[{"type":"BuiltinCommonInstructions::Comment","color":{"b":109,"g":230,"r":255,"textB":0,"textG":0,"textR":0},"comment":"Step time counters."},{"type":"BuiltinCommonInstructions::Standard","conditions":[],"actions":[{"type":{"value":"SetNumberVariable"},"parameters":["Time","+","TimeDelta()"]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"CameraShake3D::IsShaking"},"parameters":["",""]}],"actions":[],"events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[],"actions":[],"events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"NumberVariable"},"parameters":["Time","<","StartEaseDuration"]},{"type":{"inverted":true,"value":"NumberVariable"},"parameters":["Time",">","Duration - StopEaseDuration"]}],"actions":[{"type":{"value":"SetNumberVariable"},"parameters":["EaseFactor","=","clamp(Time / StartEaseDuration, 0, 1)"]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"NumberVariable"},"parameters":["Time",">","Duration - StopEaseDuration"]}],"actions":[{"type":{"value":"SetNumberVariable"},"parameters":["EaseFactor","=","clamp((Duration - Time) / StopEaseDuration, 0, 1)"]}]},{"type":"BuiltinCommonInstructions::ForEachChildVariable","iterableVariableName":"Layers","valueIteratorVariableName":"Layer","keyIteratorVariableName":"LayerName","conditions":[{"type":{"value":"BooleanVariable"},"parameters":["Layers[LayerName].Shakable","True",""]}],"actions":[],"events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[],"actions":[{"type":{"value":"SetStringVariable"},"parameters":["ActualLayerName","=","LayerName"]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"StringVariable"},"parameters":["LayerName","=","\"__BaseLayer\""]}],"actions":[{"type":{"value":"SetStringVariable"},"parameters":["ActualLayerName","=","\"\""]}]},{"type":"BuiltinCommonInstructions::Comment","color":{"b":109,"g":230,"r":255,"textB":0,"textG":0,"textR":0},"comment":"Default values when there is no layer specific value set."},{"type":"BuiltinCommonInstructions::Standard","conditions":[],"actions":[{"type":{"value":"CameraShake3D::SetFrequency"},"parameters":["","DefaultFrequency","\"\"",""]},{"type":{"value":"SetNumberVariable"},"parameters":["AmplitudeAngleZ","=","DefaultAmplitudeAngleZ"]},{"type":{"value":"SetNumberVariable"},"parameters":["AmplitudeAngleY","=","DefaultAmplitudeAngleY"]},{"type":{"value":"SetNumberVariable"},"parameters":["AmplitudeAngleX","=","DefaultAmplitudeAngleX"]},{"type":{"value":"SetNumberVariable"},"parameters":["Layers[LayerName].CameraDeltaAngleZ","=","0"]},{"type":{"value":"SetNumberVariable"},"parameters":["Layers[LayerName].CameraDeltaAngleY","=","0"]},{"type":{"value":"SetNumberVariable"},"parameters":["Layers[LayerName].CameraDeltaAngleX","=","0"]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"VariableChildExists2"},"parameters":["Layer","\"Frequency\""]}],"actions":[{"type":{"value":"CameraShake3D::SetFrequency"},"parameters":["","Layer.Frequency","\"\"",""]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"VariableChildExists2"},"parameters":["Layer","\"AmplitudeAngleZ\""]}],"actions":[{"type":{"value":"SetNumberVariable"},"parameters":["AmplitudeAngleZ","=","Layer.AmplitudeAngleZ"]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"VariableChildExists2"},"parameters":["Layer","\"AmplitudeAngleY\""]}],"actions":[{"type":{"value":"SetNumberVariable"},"parameters":["AmplitudeAngleY","=","Layer.AmplitudeAngleY"]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"VariableChildExists2"},"parameters":["Layer","\"AmplitudeAngleX\""]}],"actions":[{"type":{"value":"SetNumberVariable"},"parameters":["AmplitudeAngleX","=","Layer.AmplitudeAngleX"]}]},{"type":"BuiltinCommonInstructions::Comment","color":{"b":109,"g":230,"r":255,"textB":0,"textG":0,"textR":0},"comment":"Shake the layer camera.\nSave the camera displacement to revert it in onScenePostEvents."},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"NumberVariable"},"parameters":["AmplitudeAngleZ","!=","0"]}],"actions":[{"type":{"value":"SetNumberVariable"},"parameters":["Layers[LayerName].CameraDeltaAngleZ","=","CameraShake3D::Noise2d(\"\", TimeFromStart(), 1000) * AmplitudeAngleZ * EaseFactor"]},{"type":{"value":"CameraShake3D::SpinCamera"},"parameters":["","Layers[LayerName].CameraDeltaAngleZ","ActualLayerName","VariableString(__CameraShake.ActualLayerName)"]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"NumberVariable"},"parameters":["AmplitudeAngleY","!=","0"]}],"actions":[{"type":{"value":"SetNumberVariable"},"parameters":["Layers[LayerName].CameraDeltaAngleY","=","CameraShake3D::Noise2d(\"\", TimeFromStart(), 2000) * AmplitudeAngleY * EaseFactor"]},{"type":{"value":"CameraShake3D::TurnCameraHorizontally"},"parameters":["","Layers[LayerName].CameraDeltaAngleY","ActualLayerName","VariableString(__CameraShake.ActualLayerName)"]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"NumberVariable"},"parameters":["AmplitudeAngleX","!=","0"]}],"actions":[{"type":{"value":"SetNumberVariable"},"parameters":["Layers[LayerName].CameraDeltaAngleX","=","CameraShake3D::Noise2d(\"\", TimeFromStart(), 3000) * AmplitudeAngleX * EaseFactor"]},{"type":{"value":"CameraShake3D::TurnCameraVertically"},"parameters":["","Layers[LayerName].CameraDeltaAngleX","ActualLayerName","VariableString(__CameraShake.ActualLayerName)"]}]}]}],"variables":[{"folded":true,"name":"AmplitudeAngleZ","type":"number","value":0.0},{"folded":true,"name":"AmplitudeAngleY","type":"number","value":0.0},{"folded":true,"name":"AmplitudeAngleX","type":"number","value":0.0},{"folded":true,"name":"EaseFactor","type":"number","value":1.0},{"folded":true,"name":"ActualLayerName","type":"string","value":""}]}]}],"parameters":[],"objectGroups":[]},{"fullName":"","functionType":"Action","name":"onScenePreEvents","sentence":"","events":[{"type":"BuiltinCommonInstructions::Comment","color":{"b":109,"g":230,"r":255,"textB":0,"textG":0,"textR":0},"comment":"Revert the shaking."},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"CameraShake3D::IsShaking"},"parameters":["",""]}],"actions":[],"events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[],"actions":[],"events":[{"type":"BuiltinCommonInstructions::ForEachChildVariable","iterableVariableName":"__CameraShake.Layers","valueIteratorVariableName":"Layer","keyIteratorVariableName":"LayerName","conditions":[{"type":{"value":"BooleanVariable"},"parameters":["Layers[LayerName].Shakable","True",""]}],"actions":[],"events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[],"actions":[{"type":{"value":"SetStringVariable"},"parameters":["ActualLayerName","=","LayerName"]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"StringVariable"},"parameters":["LayerName","=","\"__BaseLayer\""]}],"actions":[{"type":{"value":"SetStringVariable"},"parameters":["ActualLayerName","=","\"\""]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[],"actions":[{"type":{"value":"CameraShake3D::SpinCamera"},"parameters":["","0 - Layers[LayerName].CameraDeltaAngleZ","ActualLayerName","VariableString(__CameraShake.ActualLayerName)"]},{"type":{"value":"CameraShake3D::TurnCameraHorizontally"},"parameters":["","0 - Layers[LayerName].CameraDeltaAngleY","ActualLayerName","VariableString(__CameraShake.ActualLayerName)"]},{"type":{"value":"CameraShake3D::TurnCameraVertically"},"parameters":["","0 - Layers[LayerName].CameraDeltaAngleX","ActualLayerName","VariableString(__CameraShake.ActualLayerName)"]}]}]}],"variables":[{"folded":true,"name":"ActualLayerName","type":"string","value":""}]}]}],"parameters":[],"objectGroups":[]},{"description":"Shake the camera on layers chosen with configuration actions.","fullName":"Shake camera","functionType":"Action","name":"ShakeCamera","sentence":"Shake camera for _PARAM1_ seconds with _PARAM2_ seconds of easing to start and _PARAM3_ seconds to stop","events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[],"actions":[{"type":{"value":"SetNumberVariable"},"parameters":["Time","=","0"]},{"type":{"value":"SetNumberVariable"},"parameters":["Duration","=","NewDuration"]},{"type":{"value":"SetNumberVariable"},"parameters":["StartEaseDuration","=","NewStartEaseDuration"]},{"type":{"value":"SetNumberVariable"},"parameters":["StopEaseDuration","=","NewStopEaseDuration"]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"NumberVariable"},"parameters":["Duration","<","StartEaseDuration + StopEaseDuration"]}],"actions":[{"type":{"value":"SetNumberVariable"},"parameters":["StartEaseDuration","=","StartEaseDuration * Duration / (StartEaseDuration + StopEaseDuration)"]},{"type":{"value":"SetNumberVariable"},"parameters":["StopEaseDuration","=","StopEaseDuration * Duration / (StartEaseDuration + StopEaseDuration)"]}]}],"parameters":[{"description":"Duration (in seconds)","name":"NewDuration","type":"expression"},{"description":"Ease duration to start (in seconds)","name":"NewStartEaseDuration","type":"expression"},{"description":"Ease duration to stop (in seconds)","name":"NewStopEaseDuration","type":"expression"}],"objectGroups":[]},{"description":"Start shaking the camera indefinitely.","fullName":"Start camera shaking","functionType":"Action","name":"StartShaking","sentence":"Start shaking the camera with _PARAM1_ seconds of easing","events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[],"actions":[{"type":{"value":"SetNumberVariable"},"parameters":["Time","=","0"]},{"type":{"value":"SetNumberVariable"},"parameters":["Duration","=","1234567890"]},{"type":{"value":"SetNumberVariable"},"parameters":["StartEaseDuration","=","EaseDuration"]}]}],"parameters":[{"description":"Ease duration (in seconds)","name":"EaseDuration","type":"expression"}],"objectGroups":[]},{"description":"Stop shaking the camera.","fullName":"Stop camera shaking","functionType":"Action","name":"StopShaking","sentence":"Stop shaking the camera with _PARAM1_ seconds of easing","events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[],"actions":[{"type":{"value":"SetNumberVariable"},"parameters":["Time","=","0"]},{"type":{"value":"SetNumberVariable"},"parameters":["Duration","=","EaseDuration"]},{"type":{"value":"SetNumberVariable"},"parameters":["StopEaseDuration","=","EaseDuration"]}]}],"parameters":[{"description":"Ease duration (in seconds)","name":"EaseDuration","type":"expression"}],"objectGroups":[]},{"description":"Mark a layer as shakable.","fullName":"Shakable layer","functionType":"Action","group":"Camera shake configuration","name":"SetLayerShakable","sentence":"Mark the layer: _PARAM2_ as shakable: _PARAM1_","events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[],"actions":[{"type":{"value":"SetStringVariable"},"parameters":["LayerName","=","NewLayerName"]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"BuiltinCommonInstructions::CompareStrings"},"parameters":["NewLayerName","=","\"\""]}],"actions":[{"type":{"value":"SetStringVariable"},"parameters":["LayerName","=","\"__BaseLayer\""]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"inverted":true,"value":"GetArgumentAsBoolean"},"parameters":["\"Shakable\""]}],"actions":[{"type":{"value":"SetBooleanVariable"},"parameters":["Layers[LayerName].Shakable","False",""]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"GetArgumentAsBoolean"},"parameters":["\"Shakable\""]}],"actions":[{"type":{"value":"SetBooleanVariable"},"parameters":["Layers[LayerName].Shakable","True",""]}]}],"parameters":[{"defaultValue":"yes","description":"Shakable","name":"Shakable","optional":true,"type":"yesorno"},{"description":"Layer","name":"NewLayerName","type":"layer"}],"objectGroups":[]},{"description":"Check if the camera is shaking.","fullName":"Camera is shaking","functionType":"Condition","name":"IsShaking","sentence":"Camera is shaking","events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"NumberVariable"},"parameters":["Time","<","Duration"]}],"actions":[{"type":{"value":"SetReturnBoolean"},"parameters":["True"]}]}],"parameters":[],"objectGroups":[]},{"description":"the spinning amplitude of the shaking (in degrees).","fullName":"Spinning shake amplitude","functionType":"ExpressionAndCondition","group":"Camera shake configuration","name":"SpineAmplitudeAngle","sentence":"the spinning shake amplitude of layer: _PARAM1_","events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[],"actions":[{"type":{"value":"SetStringVariable"},"parameters":["LayerName","=","NewLayerName"]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"BuiltinCommonInstructions::CompareStrings"},"parameters":["NewLayerName","=","\"\""]}],"actions":[{"type":{"value":"SetStringVariable"},"parameters":["LayerName","=","\"__BaseLayer\""]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[],"actions":[{"type":{"value":"SetReturnNumber"},"parameters":["Layers[LayerName].AmplitudeAngleZ"]}]}],"expressionType":{"type":"expression"},"parameters":[{"description":"Layer","name":"NewLayerName","type":"layer"}],"objectGroups":[]},{"fullName":"","functionType":"ActionWithOperator","getterName":"SpineAmplitudeAngle","group":"Camera shake configuration","name":"SetSpineAmplitudeAngle","sentence":"","events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[],"actions":[{"type":{"value":"SetStringVariable"},"parameters":["LayerName","=","NewLayerName"]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"BuiltinCommonInstructions::CompareStrings"},"parameters":["NewLayerName","=","\"\""]}],"actions":[{"type":{"value":"SetStringVariable"},"parameters":["LayerName","=","\"__BaseLayer\""]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[],"actions":[{"type":{"value":"SetNumberVariable"},"parameters":["Layers[LayerName].AmplitudeAngleZ","=","Value"]}]}],"parameters":[],"objectGroups":[]},{"description":"the horizontal rotation amplitude of the shaking (in degrees).","fullName":"Horizontal rotation amplitude","functionType":"ExpressionAndCondition","group":"Camera shake configuration","name":"HorizontalAmplitudeAngle","sentence":"the horizontal shaking amplitude of layer: _PARAM1_","events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[],"actions":[{"type":{"value":"SetStringVariable"},"parameters":["LayerName","=","NewLayerName"]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"BuiltinCommonInstructions::CompareStrings"},"parameters":["NewLayerName","=","\"\""]}],"actions":[{"type":{"value":"SetStringVariable"},"parameters":["LayerName","=","\"__BaseLayer\""]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[],"actions":[{"type":{"value":"SetReturnNumber"},"parameters":["Layers[LayerName].AmplitudeAngleY"]}]}],"expressionType":{"type":"expression"},"parameters":[{"description":"Layer","name":"NewLayerName","type":"layer"}],"objectGroups":[]},{"fullName":"","functionType":"ActionWithOperator","getterName":"HorizontalAmplitudeAngle","group":"Camera shake configuration","name":"SetHorizontalAmplitudeAngle","sentence":"","events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[],"actions":[{"type":{"value":"SetStringVariable"},"parameters":["LayerName","=","NewLayerName"]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"BuiltinCommonInstructions::CompareStrings"},"parameters":["NewLayerName","=","\"\""]}],"actions":[{"type":{"value":"SetStringVariable"},"parameters":["LayerName","=","\"__BaseLayer\""]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[],"actions":[{"type":{"value":"SetNumberVariable"},"parameters":["Layers[LayerName].AmplitudeAngleY","=","Value"]}]}],"parameters":[],"objectGroups":[]},{"description":"the vertical rotation amplitude of the shaking (in degrees).","fullName":"Vertical rotation amplitude","functionType":"ExpressionAndCondition","group":"Camera shake configuration","name":"VerticalAmplitudeAngle","sentence":"the vertical shaking amplitude of layer: _PARAM1_","events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[],"actions":[{"type":{"value":"SetStringVariable"},"parameters":["LayerName","=","NewLayerName"]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"BuiltinCommonInstructions::CompareStrings"},"parameters":["NewLayerName","=","\"\""]}],"actions":[{"type":{"value":"SetStringVariable"},"parameters":["LayerName","=","\"__BaseLayer\""]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[],"actions":[{"type":{"value":"SetReturnNumber"},"parameters":["Layers[LayerName].AmplitudeAngleX"]}]}],"expressionType":{"type":"expression"},"parameters":[{"description":"Layer","name":"NewLayerName","type":"layer"}],"objectGroups":[]},{"fullName":"","functionType":"ActionWithOperator","getterName":"VerticalAmplitudeAngle","group":"Camera shake configuration","name":"SetVerticalAmplitudeAngle","sentence":"","events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[],"actions":[{"type":{"value":"SetStringVariable"},"parameters":["LayerName","=","NewLayerName"]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"BuiltinCommonInstructions::CompareStrings"},"parameters":["NewLayerName","=","\"\""]}],"actions":[{"type":{"value":"SetStringVariable"},"parameters":["LayerName","=","\"__BaseLayer\""]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[],"actions":[{"type":{"value":"SetNumberVariable"},"parameters":["Layers[LayerName].AmplitudeAngleX","=","Value"]}]}],"parameters":[],"objectGroups":[]},{"description":"Change the number of back and forth per seconds.","fullName":"Layer shaking frequency","functionType":"Action","group":"Camera shake configuration","name":"SetLayerShakingFrequency","sentence":"Change the shaking frequency to _PARAM1_ (layer: _PARAM2_)","events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[],"actions":[{"type":{"value":"SetStringVariable"},"parameters":["LayerName","=","NewLayerName"]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"BuiltinCommonInstructions::CompareStrings"},"parameters":["NewLayerName","=","\"\""]}],"actions":[{"type":{"value":"SetStringVariable"},"parameters":["LayerName","=","\"__BaseLayer\""]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[],"actions":[{"type":{"value":"SetNumberVariable"},"parameters":["Layers[LayerName].Frequency","=","Frequency"]}]}],"parameters":[{"description":"Frequency","name":"Frequency","type":"expression"},{"description":"Layer","name":"NewLayerName","type":"layer"}],"objectGroups":[]},{"description":"Rotates the camera around its own direction.","fullName":"Spin camera","functionType":"Action","name":"SpinCamera","private":true,"sentence":"Spin the camera (layer: _PARAM2_) by _PARAM1_","events":[{"type":"BuiltinCommonInstructions::JsCode","inlineCode":["const angle = eventsFunctionContext.getArgument(\"Angle\");","const layerName = eventsFunctionContext.getArgument(\"Layer\");","","if (angle === 0) {","    return;","}","","const layer = runtimeScene.getLayer(layerName);","const camera = layer.getRenderer().getThreeCamera();","if (camera) {","    camera.rotation.z = gdjs.toRad(layer.getCameraRotation());","    ","    camera.rotateZ(gdjs.toRad(angle));","","    layer.setCameraRotation(gdjs.toDegrees(camera.rotation.z));","}",""],"parameterObjects":"Object","useStrict":true,"eventsSheetExpanded":true}],"parameters":[{"description":"Angle (in degrees)","name":"Angle","type":"expression"},{"description":"Layer","name":"Layer","type":"layer"}],"objectGroups":[]},{"description":"Rotate the camera vertically according to its own direction.","fullName":"Rotate camera vertically","functionType":"Action","name":"TurnCameraVertically","private":true,"sentence":"Rotate the camera (layer: _PARAM2_) vertically by _PARAM1_","events":[{"type":"BuiltinCommonInstructions::JsCode","inlineCode":["const angle = eventsFunctionContext.getArgument(\"Angle\");","const layerName = eventsFunctionContext.getArgument(\"Layer\");","","if (angle === 0) {","    return;","}","","const layer = runtimeScene.getLayer(layerName);","const camera = layer.getRenderer().getThreeCamera();","if (camera) {","    camera.rotation.z = gdjs.toRad(layer.getCameraRotation());","    ","    camera.rotateX(gdjs.toRad(angle));","","    layer.setCameraRotation(gdjs.toDegrees(camera.rotation.z));","}"],"parameterObjects":"Object","useStrict":true,"eventsSheetExpanded":true}],"parameters":[{"description":"Angle (in degrees)","name":"Angle","type":"expression"},{"description":"Layer","name":"Layer","type":"layer"}],"objectGroups":[]},{"description":"Rotate the camera horizontally according to its own direction.","fullName":"Rotate camera horizontally","functionType":"Action","name":"TurnCameraHorizontally","private":true,"sentence":"Rotate the camera (layer: _PARAM2_) horizontally by _PARAM1_","events":[{"type":"BuiltinCommonInstructions::JsCode","inlineCode":["const angle = eventsFunctionContext.getArgument(\"Angle\");","const layerName = eventsFunctionContext.getArgument(\"Layer\");","","if (angle === 0) {","    return;","}","","const layer = runtimeScene.getLayer(layerName);","const camera = layer.getRenderer().getThreeCamera();","if (camera) {","    camera.rotation.z = gdjs.toRad(layer.getCameraRotation());","    ","    camera.rotateY(gdjs.toRad(angle));","","    layer.setCameraRotation(gdjs.toDegrees(camera.rotation.z));","}"],"parameterObjects":"Object","useStrict":true,"eventsSheetExpanded":true}],"parameters":[{"description":"Angle (in degrees)","name":"Angle","type":"expression"},{"description":"Layer","name":"Layer","type":"layer"}],"objectGroups":[]},{"fullName":"","functionType":"Action","name":"onFirstSceneLoaded","sentence":"","events":[{"type":"BuiltinCommonInstructions::JsCode","inlineCode":["if (gdjs._cameraShake3DExtension) {","    return;","}","","/** Noise generator manager. */","class NoiseManager {","    /**","     * Create the manager of noise generators.","     */","    constructor() {","        this.seed = gdjs.randomInRange(1, Number.MAX_SAFE_INTEGER);","        /** @type {Map<string, NoiseGenerator>} */","        this.generators = new Map();","    }","","    /**","     * @param name {string}","     * @return {NoiseGenerator}","     */","    getGenerator(name) {","        let generator = this.generators.get(name);","        if (!generator) {","            generator = new NoiseGenerator(name + this.seed);","            this.generators.set(name, generator);","        }","        return generator;","    }","","    /**","     * @param seed {number}","     */","    setSeed(seed) {","        this.seed = seed;","        this.generators.forEach(generator => generator.setSeed(name + this.seed));","    }","","    /**","     * @param name {string}","     */","    deleteGenerator(name) {","        this.generators.delete(name);","    }","","    /**","     */","    deleteAllGenerators() {","        this.generators.clear();","    }","}","","/** Noise generator with octaves. */","class NoiseGenerator {","    /**","     * Create a noise generator with a seed.","     * @param seed {string}","     */","    constructor(seed) {","        this.simplexNoise = new SimplexNoise(seed);","        this.frequency = 1;","        this.octaves = 1;","        this.persistence = 0.5;","        this.lacunarity = 2;","        this.xLoopPeriod = 0;","        this.yLoopPeriod = 0;","    }","","    /**","     * @param seed {string}","     */","    setSeed(seed) {","        this.simplexNoise = new SimplexNoise(seed);","    }","","    /**","     * @param x {float}","     * @param y {float}","     * @param z {float} optionnal","     * @param w {float} optionnal","     * @return {float}","     */","    noise(x, y, z, w) {","        if (this.xLoopPeriod && this.yLoopPeriod) {","            const circleRatioX = 2 * Math.PI / this.xLoopPeriod;","            const circleRatioY = 2 * Math.PI / this.yLoopPeriod;","            const angleX = circleRatioX * x;","            const angleY = circleRatioY * y;","            x = Math.cos(angleX) / circleRatioX;","            y = Math.sin(angleX) / circleRatioX;","            z = Math.cos(angleY) / circleRatioY;","            w = Math.sin(angleY) / circleRatioY;","        }","        else if (this.xLoopPeriod) {","            const circleRatio = 2 * Math.PI / this.xLoopPeriod;","            const angleX = circleRatio * x;","            w = z;","            z = y;","            x = Math.cos(angleX) / circleRatio;","            y = Math.sin(angleX) / circleRatio;","        }","        else if (this.yLoopPeriod) {","            const circleRatio = 2 * Math.PI / this.xLoopPeriod;","            const angleX = circleRatio * x;","            w = z;","            // Make the circle perimeter equals to the looping period","            // to keep the same perceived frequency with or without looping.","            y = Math.cos(angleX) / circleRatio;","            z = Math.sin(angleX) / circleRatio;","        }","        let noiseFunction = this.simplexNoise.noise4D.bind(this.simplexNoise);","        if (z === undefined) {","            noiseFunction = this.simplexNoise.noise2D.bind(this.simplexNoise);","        }","        else if (w === undefined) {","            noiseFunction = this.simplexNoise.noise3D.bind(this.simplexNoise);","        }","        let frequency = this.frequency;","        let noiseSum = 0;","        let amplitudeSum = 0;","        let amplitude = 1;","        for (let i = 0; i < this.octaves; i++) {","            noiseSum += noiseFunction(x * frequency, y * frequency, z * frequency, w * frequency) * amplitude;","            amplitudeSum += Math.abs(amplitude);","            amplitude *= this.persistence;","            frequency *= this.lacunarity;","        }","        return noiseSum / amplitudeSum;","    }","}","","/*","A fast javascript implementation of simplex noise by Jonas Wagner","https://github.com/jwagner/simplex-noise.js","","Based on a speed-improved simplex noise algorithm for 2D, 3D and 4D in Java.","Which is based on example code by Stefan Gustavson (stegu@itn.liu.se).","With Optimisations by Peter Eastman (peastman@drizzle.stanford.edu).","Better rank ordering method by Stefan Gustavson in 2012.",""," Copyright (c) 2021 Jonas Wagner",""," Permission is hereby granted, free of charge, to any person obtaining a copy"," of this software and associated documentation files (the \"Software\"), to deal"," in the Software without restriction, including without limitation the rights"," to use, copy, modify, merge, publish, distribute, sublicense, and/or sell"," copies of the Software, and to permit persons to whom the Software is"," furnished to do so, subject to the following conditions:",""," The above copyright notice and this permission notice shall be included in all"," copies or substantial portions of the Software.",""," THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR"," IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,"," FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE"," AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER"," LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,"," OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE"," SOFTWARE."," */","","const F2 = 0.5 * (Math.sqrt(3.0) - 1.0);","const G2 = (3.0 - Math.sqrt(3.0)) / 6.0;","const F3 = 1.0 / 3.0;","const G3 = 1.0 / 6.0;","const F4 = (Math.sqrt(5.0) - 1.0) / 4.0;","const G4 = (5.0 - Math.sqrt(5.0)) / 20.0;","const grad3 = new Float32Array([1, 1, 0,","    -1, 1, 0,","    1, -1, 0,","    -1, -1, 0,","    1, 0, 1,","    -1, 0, 1,","    1, 0, -1,","    -1, 0, -1,","    0, 1, 1,","    0, -1, 1,","    0, 1, -1,","    0, -1, -1]);","const grad4 = new Float32Array([0, 1, 1, 1, 0, 1, 1, -1, 0, 1, -1, 1, 0, 1, -1, -1,","    0, -1, 1, 1, 0, -1, 1, -1, 0, -1, -1, 1, 0, -1, -1, -1,","    1, 0, 1, 1, 1, 0, 1, -1, 1, 0, -1, 1, 1, 0, -1, -1,","    -1, 0, 1, 1, -1, 0, 1, -1, -1, 0, -1, 1, -1, 0, -1, -1,","    1, 1, 0, 1, 1, 1, 0, -1, 1, -1, 0, 1, 1, -1, 0, -1,","    -1, 1, 0, 1, -1, 1, 0, -1, -1, -1, 0, 1, -1, -1, 0, -1,","    1, 1, 1, 0, 1, 1, -1, 0, 1, -1, 1, 0, 1, -1, -1, 0,","    -1, 1, 1, 0, -1, 1, -1, 0, -1, -1, 1, 0, -1, -1, -1, 0]);","","","/**"," * Builds a random permutation table."," * This is exported only for (internal) testing purposes."," * Do not rely on this export."," * @param {() => number} random"," * @private"," */","function buildPermutationTable(random) {","    const p = new Uint8Array(256);","    for (let i = 0; i < 256; i++) {","        p[i] = i;","    }","    for (let i = 0; i < 255; i++) {","        const r = i + ~~(random() * (256 - i));","        const aux = p[i];","        p[i] = p[r];","        p[r] = aux;","    }","    return p;","}","","/*","The ALEA PRNG and masher code used by simplex-noise.js","is based on code by Johannes Baage, modified by Jonas Wagner.","See alea.md for the full license.","@param {string|number} seed","*/","function alea(seed) {","    let s0 = 0;","    let s1 = 0;","    let s2 = 0;","    let c = 1;","    const mash = masher();","    s0 = mash(' ');","    s1 = mash(' ');","    s2 = mash(' ');","    s0 -= mash(seed);","    if (s0 < 0) {","        s0 += 1;","    }","    s1 -= mash(seed);","    if (s1 < 0) {","        s1 += 1;","    }","    s2 -= mash(seed);","    if (s2 < 0) {","        s2 += 1;","    }","    return function () {","        const t = 2091639 * s0 + c * 2.3283064365386963e-10; // 2^-32","        s0 = s1;","        s1 = s2;","        return s2 = t - (c = t | 0);","    };","}","","function masher() {","    let n = 0xefc8249d;","    return function (data) {","        data = data.toString();","        for (let i = 0; i < data.length; i++) {","            n += data.charCodeAt(i);","            let h = 0.02519603282416938 * n;","            n = h >>> 0;","            h -= n;","            h *= n;","            n = h >>> 0;","            h -= n;","            n += h * 0x100000000; // 2^32","        }","        return (n >>> 0) * 2.3283064365386963e-10; // 2^-32","    };","}","","/** Deterministic simplex noise generator suitable for 2D, 3D and 4D spaces. */","class SimplexNoise {","    /**","     * Creates a new `SimplexNoise` instance.","     * This involves some setup. You can save a few cpu cycles by reusing the same instance.","     * @param {(() => number)|string|number} randomOrSeed A random number generator or a seed (string|number).","     * Defaults to Math.random (random irreproducible initialization).","     */","    constructor(randomOrSeed) {","        if (randomOrSeed === void 0) { randomOrSeed = Math.random; }","        const random = typeof randomOrSeed == 'function' ? randomOrSeed : alea(randomOrSeed);","        this.p = buildPermutationTable(random);","        this.perm = new Uint8Array(512);","        this.permMod12 = new Uint8Array(512);","        for (let i = 0; i < 512; i++) {","            this.perm[i] = this.p[i & 255];","            this.permMod12[i] = this.perm[i] % 12;","        }","    }","","    /**","     * Samples the noise field in 2 dimensions","     * @param {number} x","     * @param {number} y","     * @returns a number in the interval [-1, 1]","     */","    noise2D(x, y) {","        const permMod12 = this.permMod12;","        const perm = this.perm;","        let n0 = 0; // Noise contributions from the three corners","        let n1 = 0;","        let n2 = 0;","        // Skew the input space to determine which simplex cell we're in","        const s = (x + y) * F2; // Hairy factor for 2D","        const i = Math.floor(x + s);","        const j = Math.floor(y + s);","        const t = (i + j) * G2;","        const X0 = i - t; // Unskew the cell origin back to (x,y) space","        const Y0 = j - t;","        const x0 = x - X0; // The x,y distances from the cell origin","        const y0 = y - Y0;","        // For the 2D case, the simplex shape is an equilateral triangle.","        // Determine which simplex we are in.","        let i1, j1; // Offsets for second (middle) corner of simplex in (i,j) coords","        if (x0 > y0) {","            i1 = 1;","            j1 = 0;","        } // lower triangle, XY order: (0,0)->(1,0)->(1,1)","        else {","            i1 = 0;","            j1 = 1;","        } // upper triangle, YX order: (0,0)->(0,1)->(1,1)","        // A step of (1,0) in (i,j) means a step of (1-c,-c) in (x,y), and","        // a step of (0,1) in (i,j) means a step of (-c,1-c) in (x,y), where","        // c = (3-sqrt(3))/6","        const x1 = x0 - i1 + G2; // Offsets for middle corner in (x,y) unskewed coords","        const y1 = y0 - j1 + G2;","        const x2 = x0 - 1.0 + 2.0 * G2; // Offsets for last corner in (x,y) unskewed coords","        const y2 = y0 - 1.0 + 2.0 * G2;","        // Work out the hashed gradient indices of the three simplex corners","        const ii = i & 255;","        const jj = j & 255;","        // Calculate the contribution from the three corners","        let t0 = 0.5 - x0 * x0 - y0 * y0;","        if (t0 >= 0) {","            const gi0 = permMod12[ii + perm[jj]] * 3;","            t0 *= t0;","            n0 = t0 * t0 * (grad3[gi0] * x0 + grad3[gi0 + 1] * y0); // (x,y) of grad3 used for 2D gradient","        }","        let t1 = 0.5 - x1 * x1 - y1 * y1;","        if (t1 >= 0) {","            const gi1 = permMod12[ii + i1 + perm[jj + j1]] * 3;","            t1 *= t1;","            n1 = t1 * t1 * (grad3[gi1] * x1 + grad3[gi1 + 1] * y1);","        }","        let t2 = 0.5 - x2 * x2 - y2 * y2;","        if (t2 >= 0) {","            const gi2 = permMod12[ii + 1 + perm[jj + 1]] * 3;","            t2 *= t2;","            n2 = t2 * t2 * (grad3[gi2] * x2 + grad3[gi2 + 1] * y2);","        }","        // Add contributions from each corner to get the final noise value.","        // The result is scaled to return values in the interval [-1,1].","        return 70.0 * (n0 + n1 + n2);","    }","","    /**","     * Samples the noise field in 3 dimensions","     * @param {number} x","     * @param {number} y","     * @param {number} z","     * @returns a number in the interval [-1, 1]","     */","    noise3D(x, y, z) {","        const permMod12 = this.permMod12;","        const perm = this.perm;","        let n0, n1, n2, n3; // Noise contributions from the four corners","        // Skew the input space to determine which simplex cell we're in","        const s = (x + y + z) * F3; // Very nice and simple skew factor for 3D","        const i = Math.floor(x + s);","        const j = Math.floor(y + s);","        const k = Math.floor(z + s);","        const t = (i + j + k) * G3;","        const X0 = i - t; // Unskew the cell origin back to (x,y,z) space","        const Y0 = j - t;","        const Z0 = k - t;","        const x0 = x - X0; // The x,y,z distances from the cell origin","        const y0 = y - Y0;","        const z0 = z - Z0;","        // For the 3D case, the simplex shape is a slightly irregular tetrahedron.","        // Determine which simplex we are in.","        let i1, j1, k1; // Offsets for second corner of simplex in (i,j,k) coords","        let i2, j2, k2; // Offsets for third corner of simplex in (i,j,k) coords","        if (x0 >= y0) {","            if (y0 >= z0) {","                i1 = 1;","                j1 = 0;","                k1 = 0;","                i2 = 1;","                j2 = 1;","                k2 = 0;","            } // X Y Z order","            else if (x0 >= z0) {","                i1 = 1;","                j1 = 0;","                k1 = 0;","                i2 = 1;","                j2 = 0;","                k2 = 1;","            } // X Z Y order","            else {","                i1 = 0;","                j1 = 0;","                k1 = 1;","                i2 = 1;","                j2 = 0;","                k2 = 1;","            } // Z X Y order","        }","        else { // x0<y0","            if (y0 < z0) {","                i1 = 0;","                j1 = 0;","                k1 = 1;","                i2 = 0;","                j2 = 1;","                k2 = 1;","            } // Z Y X order","            else if (x0 < z0) {","                i1 = 0;","                j1 = 1;","                k1 = 0;","                i2 = 0;","                j2 = 1;","                k2 = 1;","            } // Y Z X order","            else {","                i1 = 0;","                j1 = 1;","                k1 = 0;","                i2 = 1;","                j2 = 1;","                k2 = 0;","            } // Y X Z order","        }","        // A step of (1,0,0) in (i,j,k) means a step of (1-c,-c,-c) in (x,y,z),","        // a step of (0,1,0) in (i,j,k) means a step of (-c,1-c,-c) in (x,y,z), and","        // a step of (0,0,1) in (i,j,k) means a step of (-c,-c,1-c) in (x,y,z), where","        // c = 1/6.","        const x1 = x0 - i1 + G3; // Offsets for second corner in (x,y,z) coords","        const y1 = y0 - j1 + G3;","        const z1 = z0 - k1 + G3;","        const x2 = x0 - i2 + 2.0 * G3; // Offsets for third corner in (x,y,z) coords","        const y2 = y0 - j2 + 2.0 * G3;","        const z2 = z0 - k2 + 2.0 * G3;","        const x3 = x0 - 1.0 + 3.0 * G3; // Offsets for last corner in (x,y,z) coords","        const y3 = y0 - 1.0 + 3.0 * G3;","        const z3 = z0 - 1.0 + 3.0 * G3;","        // Work out the hashed gradient indices of the four simplex corners","        const ii = i & 255;","        const jj = j & 255;","        const kk = k & 255;","        // Calculate the contribution from the four corners","        let t0 = 0.6 - x0 * x0 - y0 * y0 - z0 * z0;","        if (t0 < 0)","            n0 = 0.0;","        else {","            const gi0 = permMod12[ii + perm[jj + perm[kk]]] * 3;","            t0 *= t0;","            n0 = t0 * t0 * (grad3[gi0] * x0 + grad3[gi0 + 1] * y0 + grad3[gi0 + 2] * z0);","        }","        let t1 = 0.6 - x1 * x1 - y1 * y1 - z1 * z1;","        if (t1 < 0)","            n1 = 0.0;","        else {","            const gi1 = permMod12[ii + i1 + perm[jj + j1 + perm[kk + k1]]] * 3;","            t1 *= t1;","            n1 = t1 * t1 * (grad3[gi1] * x1 + grad3[gi1 + 1] * y1 + grad3[gi1 + 2] * z1);","        }","        let t2 = 0.6 - x2 * x2 - y2 * y2 - z2 * z2;","        if (t2 < 0)","            n2 = 0.0;","        else {","            const gi2 = permMod12[ii + i2 + perm[jj + j2 + perm[kk + k2]]] * 3;","            t2 *= t2;","            n2 = t2 * t2 * (grad3[gi2] * x2 + grad3[gi2 + 1] * y2 + grad3[gi2 + 2] * z2);","        }","        let t3 = 0.6 - x3 * x3 - y3 * y3 - z3 * z3;","        if (t3 < 0)","            n3 = 0.0;","        else {","            const gi3 = permMod12[ii + 1 + perm[jj + 1 + perm[kk + 1]]] * 3;","            t3 *= t3;","            n3 = t3 * t3 * (grad3[gi3] * x3 + grad3[gi3 + 1] * y3 + grad3[gi3 + 2] * z3);","        }","        // Add contributions from each corner to get the final noise value.","        // The result is scaled to stay just inside [-1,1]","        return 32.0 * (n0 + n1 + n2 + n3);","    }","","    /**","     * Samples the noise field in 4 dimensions","     * @param {number} x","     * @param {number} y","     * @param {number} z","     * @returns a number in the interval [-1, 1]","     */","    noise4D(x, y, z, w) {","        const perm = this.perm;","        let n0, n1, n2, n3, n4; // Noise contributions from the five corners","        // Skew the (x,y,z,w) space to determine which cell of 24 simplices we're in","        const s = (x + y + z + w) * F4; // Factor for 4D skewing","        const i = Math.floor(x + s);","        const j = Math.floor(y + s);","        const k = Math.floor(z + s);","        const l = Math.floor(w + s);","        const t = (i + j + k + l) * G4; // Factor for 4D unskewing","        const X0 = i - t; // Unskew the cell origin back to (x,y,z,w) space","        const Y0 = j - t;","        const Z0 = k - t;","        const W0 = l - t;","        const x0 = x - X0; // The x,y,z,w distances from the cell origin","        const y0 = y - Y0;","        const z0 = z - Z0;","        const w0 = w - W0;","        // For the 4D case, the simplex is a 4D shape I won't even try to describe.","        // To find out which of the 24 possible simplices we're in, we need to","        // determine the magnitude ordering of x0, y0, z0 and w0.","        // Six pair-wise comparisons are performed between each possible pair","        // of the four coordinates, and the results are used to rank the numbers.","        let rankx = 0;","        let ranky = 0;","        let rankz = 0;","        let rankw = 0;","        if (x0 > y0)","            rankx++;","        else","            ranky++;","        if (x0 > z0)","            rankx++;","        else","            rankz++;","        if (x0 > w0)","            rankx++;","        else","            rankw++;","        if (y0 > z0)","            ranky++;","        else","            rankz++;","        if (y0 > w0)","            ranky++;","        else","            rankw++;","        if (z0 > w0)","            rankz++;","        else","            rankw++;","        // simplex[c] is a 4-vector with the numbers 0, 1, 2 and 3 in some order.","        // Many values of c will never occur, since e.g. x>y>z>w makes x<z, y<w and x<w","        // impossible. Only the 24 indices which have non-zero entries make any sense.","        // We use a thresholding to set the coordinates in turn from the largest magnitude.","        // Rank 3 denotes the largest coordinate.","        // Rank 2 denotes the second largest coordinate.","        // Rank 1 denotes the second smallest coordinate.","        // The integer offsets for the second simplex corner","        const i1 = rankx >= 3 ? 1 : 0;","        const j1 = ranky >= 3 ? 1 : 0;","        const k1 = rankz >= 3 ? 1 : 0;","        const l1 = rankw >= 3 ? 1 : 0;","        // The integer offsets for the third simplex corner","        const i2 = rankx >= 2 ? 1 : 0;","        const j2 = ranky >= 2 ? 1 : 0;","        const k2 = rankz >= 2 ? 1 : 0;","        const l2 = rankw >= 2 ? 1 : 0;","        // The integer offsets for the fourth simplex corner","        const i3 = rankx >= 1 ? 1 : 0;","        const j3 = ranky >= 1 ? 1 : 0;","        const k3 = rankz >= 1 ? 1 : 0;","        const l3 = rankw >= 1 ? 1 : 0;","        // The fifth corner has all coordinate offsets = 1, so no need to compute that.","        const x1 = x0 - i1 + G4; // Offsets for second corner in (x,y,z,w) coords","        const y1 = y0 - j1 + G4;","        const z1 = z0 - k1 + G4;","        const w1 = w0 - l1 + G4;","        const x2 = x0 - i2 + 2.0 * G4; // Offsets for third corner in (x,y,z,w) coords","        const y2 = y0 - j2 + 2.0 * G4;","        const z2 = z0 - k2 + 2.0 * G4;","        const w2 = w0 - l2 + 2.0 * G4;","        const x3 = x0 - i3 + 3.0 * G4; // Offsets for fourth corner in (x,y,z,w) coords","        const y3 = y0 - j3 + 3.0 * G4;","        const z3 = z0 - k3 + 3.0 * G4;","        const w3 = w0 - l3 + 3.0 * G4;","        const x4 = x0 - 1.0 + 4.0 * G4; // Offsets for last corner in (x,y,z,w) coords","        const y4 = y0 - 1.0 + 4.0 * G4;","        const z4 = z0 - 1.0 + 4.0 * G4;","        const w4 = w0 - 1.0 + 4.0 * G4;","        // Work out the hashed gradient indices of the five simplex corners","        const ii = i & 255;","        const jj = j & 255;","        const kk = k & 255;","        const ll = l & 255;","        // Calculate the contribution from the five corners","        let t0 = 0.6 - x0 * x0 - y0 * y0 - z0 * z0 - w0 * w0;","        if (t0 < 0)","            n0 = 0.0;","        else {","            const gi0 = (perm[ii + perm[jj + perm[kk + perm[ll]]]] % 32) * 4;","            t0 *= t0;","            n0 = t0 * t0 * (grad4[gi0] * x0 + grad4[gi0 + 1] * y0 + grad4[gi0 + 2] * z0 + grad4[gi0 + 3] * w0);","        }","        let t1 = 0.6 - x1 * x1 - y1 * y1 - z1 * z1 - w1 * w1;","        if (t1 < 0)","            n1 = 0.0;","        else {","            const gi1 = (perm[ii + i1 + perm[jj + j1 + perm[kk + k1 + perm[ll + l1]]]] % 32) * 4;","            t1 *= t1;","            n1 = t1 * t1 * (grad4[gi1] * x1 + grad4[gi1 + 1] * y1 + grad4[gi1 + 2] * z1 + grad4[gi1 + 3] * w1);","        }","        let t2 = 0.6 - x2 * x2 - y2 * y2 - z2 * z2 - w2 * w2;","        if (t2 < 0)","            n2 = 0.0;","        else {","            const gi2 = (perm[ii + i2 + perm[jj + j2 + perm[kk + k2 + perm[ll + l2]]]] % 32) * 4;","            t2 *= t2;","            n2 = t2 * t2 * (grad4[gi2] * x2 + grad4[gi2 + 1] * y2 + grad4[gi2 + 2] * z2 + grad4[gi2 + 3] * w2);","        }","        let t3 = 0.6 - x3 * x3 - y3 * y3 - z3 * z3 - w3 * w3;","        if (t3 < 0)","            n3 = 0.0;","        else {","            const gi3 = (perm[ii + i3 + perm[jj + j3 + perm[kk + k3 + perm[ll + l3]]]] % 32) * 4;","            t3 *= t3;","            n3 = t3 * t3 * (grad4[gi3] * x3 + grad4[gi3 + 1] * y3 + grad4[gi3 + 2] * z3 + grad4[gi3 + 3] * w3);","        }","        let t4 = 0.6 - x4 * x4 - y4 * y4 - z4 * z4 - w4 * w4;","        if (t4 < 0)","            n4 = 0.0;","        else {","            const gi4 = (perm[ii + 1 + perm[jj + 1 + perm[kk + 1 + perm[ll + 1]]]] % 32) * 4;","            t4 *= t4;","            n4 = t4 * t4 * (grad4[gi4] * x4 + grad4[gi4 + 1] * y4 + grad4[gi4 + 2] * z4 + grad4[gi4 + 3] * w4);","        }","        // Sum up and scale the result to cover the range [-1,1]","        return 27.0 * (n0 + n1 + n2 + n3 + n4);","    };","}","","gdjs._cameraShake3DExtension = {","    noiseManager: new NoiseManager(),","};",""],"parameterObjects":"","useStrict":true,"eventsSheetExpanded":true}],"parameters":[],"objectGroups":[]},{"description":"Generate a number from 2 dimensional simplex noise.","fullName":"2D noise","functionType":"Expression","name":"Noise2d","private":true,"sentence":"","events":[{"type":"BuiltinCommonInstructions::JsCode","inlineCode":["const name = eventsFunctionContext.getArgument(\"Name\");\r","const x = eventsFunctionContext.getArgument(\"X\");\r","const y = eventsFunctionContext.getArgument(\"Y\");\r","\r","eventsFunctionContext.returnValue = gdjs._cameraShake3DExtension.noiseManager.getGenerator(name).noise(x, y);"],"parameterObjects":"","useStrict":true,"eventsSheetExpanded":true}],"expressionType":{"type":"expression"},"parameters":[{"description":"Generator name","name":"Name","type":"string"},{"description":"X coordinate","name":"X","type":"expression"},{"description":"Y coordinate","name":"Y","type":"expression"}],"objectGroups":[]},{"description":"Generate a number from 3 dimensional simplex noise.","fullName":"3D noise","functionType":"Expression","name":"Noise3d","private":true,"sentence":"","events":[{"type":"BuiltinCommonInstructions::JsCode","inlineCode":["const name = eventsFunctionContext.getArgument(\"Name\");\r","const x = eventsFunctionContext.getArgument(\"X\");\r","const y = eventsFunctionContext.getArgument(\"Y\");\r","const z = eventsFunctionContext.getArgument(\"Z\");\r","\r","eventsFunctionContext.returnValue = gdjs._cameraShake3DExtension.noiseManager.getGenerator(name).noise(x, y, z);"],"parameterObjects":"","useStrict":true,"eventsSheetExpanded":true}],"expressionType":{"type":"expression"},"parameters":[{"description":"Generator name","name":"Name","type":"string"},{"description":"X coordinate","name":"X","type":"expression"},{"description":"Y coordinate","name":"Y","type":"expression"},{"description":"Z coordinate","name":"Z","type":"expression"}],"objectGroups":[]},{"description":"Generate a number from 4 dimensional simplex noise.","fullName":"4D noise","functionType":"Expression","name":"Noise4d","private":true,"sentence":"","events":[{"type":"BuiltinCommonInstructions::JsCode","inlineCode":["const name = eventsFunctionContext.getArgument(\"Name\");\r","const x = eventsFunctionContext.getArgument(\"X\");\r","const y = eventsFunctionContext.getArgument(\"Y\");\r","const z = eventsFunctionContext.getArgument(\"Z\");\r","const w = eventsFunctionContext.getArgument(\"W\");\r","\r","eventsFunctionContext.returnValue = gdjs._cameraShake3DExtension.noiseManager.getGenerator(name).noise(x, y, z, w);"],"parameterObjects":"","useStrict":true,"eventsSheetExpanded":true}],"expressionType":{"type":"expression"},"parameters":[{"description":"Generator name","name":"Name","type":"string"},{"description":"X coordinate","name":"X","type":"expression"},{"description":"Y coordinate","name":"Y","type":"expression"},{"description":"Z coordinate","name":"Z","type":"expression"},{"description":"W coordinate","name":"W","type":"expression"}],"objectGroups":[]},{"description":"Create a noise generator with default settings (frequency = 1,  octaves = 1, persistence = 0.5, lacunarity = 2).","fullName":"Create a noise generator","functionType":"Action","name":"Create","private":true,"sentence":"Create a noise generator named _PARAM1_","events":[{"type":"BuiltinCommonInstructions::JsCode","inlineCode":["const name = eventsFunctionContext.getArgument(\"Name\");\r","\r","gdjs._cameraShake3DExtension.noiseManager.getGenerator(name);"],"parameterObjects":"","useStrict":true,"eventsSheetExpanded":false}],"parameters":[{"description":"Generator name","name":"Name","type":"string"}],"objectGroups":[]},{"description":"Delete a noise generator and loose its settings.","fullName":"Delete a noise generator","functionType":"Action","name":"Delete","private":true,"sentence":"Delete _PARAM1_ noise generator","events":[{"type":"BuiltinCommonInstructions::JsCode","inlineCode":["const name = eventsFunctionContext.getArgument(\"Name\");\r","\r","gdjs._cameraShake3DExtension.noiseManager.deleteGenerator(name);"],"parameterObjects":"","useStrict":true,"eventsSheetExpanded":false}],"parameters":[{"description":"Generator name","name":"Name","type":"string"}],"objectGroups":[]},{"description":"Delete all noise generators and loose their settings.","fullName":"Delete all noise generators","functionType":"Action","name":"DeleteAll","private":true,"sentence":"Delete all noise generators","events":[{"type":"BuiltinCommonInstructions::JsCode","inlineCode":"gdjs._cameraShake3DExtension.noiseManager.deleteAllGenerators();","parameterObjects":"","useStrict":true,"eventsSheetExpanded":false}],"parameters":[],"objectGroups":[]},{"description":"The seed is a number used to generate the random noise. Setting the same seed will result in the same random noise generation. It's for example useful to generate the same world, by saving this seed value and reusing it later to generate again a world.","fullName":"Noise seed","functionType":"Action","name":"SetSeed","private":true,"sentence":"Change the noise seed to _PARAM1_","events":[{"type":"BuiltinCommonInstructions::JsCode","inlineCode":"gdjs._cameraShake3DExtension.noiseManager.setSeed(eventsFunctionContext.getArgument(\"Seed\"));","parameterObjects":"","useStrict":true,"eventsSheetExpanded":false}],"parameters":[{"description":"Seed","longDescription":"15 digits numbers maximum","name":"Seed","type":"expression"}],"objectGroups":[]},{"description":"Change the looping period on X used for noise generation. The noise will wrap-around on X.","fullName":"Noise looping period on X","functionType":"Action","name":"SetLoopPeriodX","private":true,"sentence":"Change the looping period on X of _PARAM2_: _PARAM1_","events":[{"type":"BuiltinCommonInstructions::JsCode","inlineCode":["const name = eventsFunctionContext.getArgument(\"Name\");\r","\r","gdjs._cameraShake3DExtension.noiseManager.getGenerator(name).xLoopPeriod = eventsFunctionContext.getArgument(\"LoopPeriod\");"],"parameterObjects":"","useStrict":true,"eventsSheetExpanded":false}],"parameters":[{"description":"Looping period on X","name":"LoopPeriod","type":"expression"},{"description":"Generator name","name":"Name","type":"string"}],"objectGroups":[]},{"description":"Change the looping period on Y used for noise generation. The noise will wrap-around on Y.","fullName":"Noise looping period on Y","functionType":"Action","name":"SetLoopPeriodY","private":true,"sentence":"Change the looping period on Y of _PARAM2_: _PARAM1_","events":[{"type":"BuiltinCommonInstructions::JsCode","inlineCode":["const name = eventsFunctionContext.getArgument(\"Name\");\r","\r","gdjs._cameraShake3DExtension.noiseManager.getGenerator(name).yLoopPeriod = eventsFunctionContext.getArgument(\"LoopPeriod\");"],"parameterObjects":"","useStrict":true,"eventsSheetExpanded":true}],"parameters":[{"description":"Looping period on Y","name":"LoopPeriod","type":"expression"},{"description":"Generator name","name":"Name","type":"string"}],"objectGroups":[]},{"description":"Change the base frequency used for noise generation. A lower frequency will zoom in the noise.","fullName":"Noise base frequency","functionType":"Action","name":"SetFrequency","private":true,"sentence":"Change the noise frequency of _PARAM2_: _PARAM1_","events":[{"type":"BuiltinCommonInstructions::JsCode","inlineCode":["const name = eventsFunctionContext.getArgument(\"Name\");\r","\r","gdjs._cameraShake3DExtension.noiseManager.getGenerator(name).frequency = eventsFunctionContext.getArgument(\"Frequency\");"],"parameterObjects":"","useStrict":true,"eventsSheetExpanded":false}],"parameters":[{"description":"Frequency","name":"Frequency","type":"expression"},{"description":"Generator name","name":"Name","type":"string"}],"objectGroups":[]},{"description":"Change the number of octaves used for noise generation. It can be seen as layers of noise with different zoom.","fullName":"Noise octaves","functionType":"Action","name":"SetOctaves","private":true,"sentence":"Change the number of noise octaves of _PARAM2_: _PARAM1_","events":[{"type":"BuiltinCommonInstructions::JsCode","inlineCode":["const name = eventsFunctionContext.getArgument(\"Name\");\r","\r","gdjs._cameraShake3DExtension.noiseManager.getGenerator(name).octaves = eventsFunctionContext.getArgument(\"Octaves\");"],"parameterObjects":"","useStrict":true,"eventsSheetExpanded":false}],"parameters":[{"description":"Octaves","name":"Octaves","type":"expression"},{"description":"Generator name","name":"Name","type":"string"}],"objectGroups":[]},{"description":"Change the persistence used for noise generation. At its default value \"0.5\", it halves the noise amplitude at each octave.","fullName":"Noise persistence","functionType":"Action","name":"SetPersistence","private":true,"sentence":"Change the noise persistence of _PARAM2_: _PARAM1_","events":[{"type":"BuiltinCommonInstructions::JsCode","inlineCode":["const name = eventsFunctionContext.getArgument(\"Name\");\r","\r","gdjs._cameraShake3DExtension.noiseManager.getGenerator(name).persistence = eventsFunctionContext.getArgument(\"Persistence\");"],"parameterObjects":"","useStrict":true,"eventsSheetExpanded":false}],"parameters":[{"description":"Persistence","name":"Persistence","type":"expression"},{"description":"Generator name","name":"Name","type":"string"}],"objectGroups":[]},{"description":"Change the lacunarity used for noise generation. At its default value \"2\", it doubles the frequency at each octave.","fullName":"Noise lacunarity","functionType":"Action","name":"SetLacunarity","private":true,"sentence":"Change the noise lacunarity of _PARAM2_: _PARAM1_","events":[{"type":"BuiltinCommonInstructions::JsCode","inlineCode":["const name = eventsFunctionContext.getArgument(\"Name\");\r","\r","gdjs._cameraShake3DExtension.noiseManager.getGenerator(name).lacunarity = eventsFunctionContext.getArgument(\"Lacunarity\");"],"parameterObjects":"","useStrict":true,"eventsSheetExpanded":false}],"parameters":[{"description":"Lacunarity","name":"Lacunarity","type":"expression"},{"description":"Generator name","name":"Name","type":"string"}],"objectGroups":[]},{"description":"The seed used for noise generation.","fullName":"Noise seed","functionType":"Expression","name":"Seed","private":true,"sentence":"","events":[{"type":"BuiltinCommonInstructions::JsCode","inlineCode":"eventsFunctionContext.returnValue = gdjs._cameraShake3DExtension.noiseManager.seed;","parameterObjects":"","useStrict":true,"eventsSheetExpanded":false}],"expressionType":{"type":"expression"},"parameters":[],"objectGroups":[]},{"description":"The base frequency used for noise generation.","fullName":"Noise base frequency","functionType":"Expression","name":"Frequency","private":true,"sentence":"","events":[{"type":"BuiltinCommonInstructions::JsCode","inlineCode":["const name = eventsFunctionContext.getArgument(\"Name\");\r","\r","eventsFunctionContext.returnValue = gdjs._cameraShake3DExtension.noiseManager.getGenerator(name).frequency;"],"parameterObjects":"","useStrict":true,"eventsSheetExpanded":false}],"expressionType":{"type":"expression"},"parameters":[{"description":"Generator name","name":"Name","type":"string"}],"objectGroups":[]},{"description":"The number of octaves used for noise generation.","fullName":"Noise octaves number","functionType":"Expression","name":"Octaves","private":true,"sentence":"","events":[{"type":"BuiltinCommonInstructions::JsCode","inlineCode":["const name = eventsFunctionContext.getArgument(\"Name\");\r","\r","eventsFunctionContext.returnValue = gdjs._cameraShake3DExtension.noiseManager.getGenerator(name).octaves;"],"parameterObjects":"","useStrict":true,"eventsSheetExpanded":false}],"expressionType":{"type":"expression"},"parameters":[{"description":"Generator name","name":"Name","type":"string"}],"objectGroups":[]},{"description":"The persistence used for noise generation.","fullName":"Noise persistence","functionType":"Expression","name":"Persistence","private":true,"sentence":"","events":[{"type":"BuiltinCommonInstructions::JsCode","inlineCode":["const name = eventsFunctionContext.getArgument(\"Name\");\r","\r","eventsFunctionContext.returnValue = gdjs._cameraShake3DExtension.noiseManager.getGenerator(name).persistence;"],"parameterObjects":"","useStrict":true,"eventsSheetExpanded":false}],"expressionType":{"type":"expression"},"parameters":[{"description":"Generator name","name":"Name","type":"string"}],"objectGroups":[]},{"description":"The lacunarity used for noise generation.","fullName":"Noise lacunarity","functionType":"Expression","name":"Lacunarity","private":true,"sentence":"","events":[{"type":"BuiltinCommonInstructions::JsCode","inlineCode":["const name = eventsFunctionContext.getArgument(\"Name\");\r","\r","eventsFunctionContext.returnValue = gdjs._cameraShake3DExtension.noiseManager.getGenerator(name).lacunarity;"],"parameterObjects":"","useStrict":true,"eventsSheetExpanded":false}],"expressionType":{"type":"expression"},"parameters":[{"description":"Generator name","name":"Name","type":"string"}],"objectGroups":[]}],"eventsBasedBehaviors":[],"eventsBasedObjects":[]},{"author":"","category":"Movement","extensionNamespace":"","fullName":"3D walk","helpPath":"","iconUrl":"data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiPz48IURPQ1RZUEUgc3ZnIFBVQkxJQyAiLS8vVzNDLy9EVEQgU1ZHIDEuMS8vRU4iICJodHRwOi8vd3d3LnczLm9yZy9HcmFwaGljcy9TVkcvMS4xL0RURC9zdmcxMS5kdGQiPjxzdmcgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayIgdmVyc2lvbj0iMS4xIiBpZD0ibWRpLXdhbGsiIHdpZHRoPSIyNCIgaGVpZ2h0PSIyNCIgdmlld0JveD0iMCAwIDI0IDI0Ij48cGF0aCBkPSJNMTQuMTIsMTBIMTlWOC4ySDE1LjM4TDEzLjM4LDQuODdDMTMuMDgsNC4zNyAxMi41NCw0LjAzIDExLjkyLDQuMDNDMTEuNzQsNC4wMyAxMS41OCw0LjA2IDExLjQyLDQuMTFMNiw1LjhWMTFINy44VjcuMzNMOS45MSw2LjY3TDYsMjJINy44TDEwLjY3LDEzLjg5TDEzLDE3VjIySDE0LjhWMTUuNTlMMTIuMzEsMTEuMDVMMTMuMDQsOC4xOE0xNCwzLjhDMTUsMy44IDE1LjgsMyAxNS44LDJDMTUuOCwxIDE1LDAuMiAxNCwwLjJDMTMsMC4yIDEyLjIsMSAxMi4yLDJDMTIuMiwzIDEzLDMuOCAxNCwzLjhaIiAvPjwvc3ZnPg==","name":"Walk3D","previewIconUrl":"https://asset-resources.gdevelop.io/public-resources/Icons/941323cf01b837b2eb512ecbf0a95add8a195b3696eb6f5865dc090e526dc9b3_walk.svg","shortDescription":"Turn and move objects forward and sideways.","version":"0.1.0","description":"Move objects forward and sideways arrording to the direction they're facing.","origin":{"identifier":"Walk3D","name":"gdevelop-extension-store"},"tags":["3d"],"authorIds":["IWykYNRvhCZBN3vEgKEbBPOR3Oc2","oc974hW1zSYZfAnRbpKoXizqc1D3","3qThSVKAPdP03MXTWNpe2QaNxpv1"],"dependencies":[],"globalVariables":[],"sceneVariables":[],"eventsFunctions":[],"eventsBasedBehaviors":[{"description":"Turn and move objects forward and sideways.","fullName":"3D walk","name":"Walk3D","objectType":"","eventsFunctions":[{"fullName":"","functionType":"Action","name":"doStepPreEvents","sentence":"","events":[{"colorB":228,"colorG":176,"colorR":74,"creationTime":0,"name":"Rotation","source":"","type":"BuiltinCommonInstructions::Group","events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[],"actions":[{"type":{"value":"Walk3D::Walk3D::SetPropertyPreviousRotationSpeed"},"parameters":["Object","Behavior","=","CurrentRotationSpeed"]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"Walk3D::Walk3D::PropertyHasPressedTurnLeft"},"parameters":["Object","Behavior"]},{"type":{"value":"BuiltinCommonInstructions::Or"},"parameters":[],"subInstructions":[{"type":{"inverted":true,"value":"Walk3D::Walk3D::PropertyHasPressedTurnRight"},"parameters":["Object","Behavior"]},{"type":{"value":"Walk3D::Walk3D::PropertyHasPressedTurnLeftLast"},"parameters":["Object","Behavior"]}]}],"actions":[{"type":{"value":"Walk3D::Walk3D::SetPropertyTargetedRotationSpeed"},"parameters":["Object","Behavior","=","-RotationSpeedMax"]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"Walk3D::Walk3D::PropertyHasPressedTurnRight"},"parameters":["Object","Behavior"]},{"type":{"value":"BuiltinCommonInstructions::Or"},"parameters":[],"subInstructions":[{"type":{"inverted":true,"value":"Walk3D::Walk3D::PropertyHasPressedTurnLeft"},"parameters":["Object","Behavior"]},{"type":{"inverted":true,"value":"Walk3D::Walk3D::PropertyHasPressedTurnLeftLast"},"parameters":["Object","Behavior"]}]}],"actions":[{"type":{"value":"Walk3D::Walk3D::SetPropertyTargetedRotationSpeed"},"parameters":["Object","Behavior","=","RotationSpeedMax"]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"Walk3D::Walk3D::PropertyTargetedRotationSpeed"},"parameters":["Object","Behavior","<","0"]}],"actions":[],"events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"Walk3D::Walk3D::PropertyPreviousRotationSpeed"},"parameters":["Object","Behavior","<=","0"]}],"actions":[{"type":{"value":"Walk3D::Walk3D::SetPropertyCurrentRotationSpeed"},"parameters":["Object","Behavior","=","max(CurrentRotationSpeed - RotationAcceleration * TimeDelta(), TargetedRotationSpeed)"]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"Walk3D::Walk3D::PropertyPreviousRotationSpeed"},"parameters":["Object","Behavior",">","0"]}],"actions":[{"type":{"value":"Walk3D::Walk3D::SetPropertyCurrentRotationSpeed"},"parameters":["Object","Behavior","=","max(CurrentRotationSpeed - (RotationAcceleration + RotationDeceleration) * TimeDelta(), TargetedRotationSpeed)"]}]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"Walk3D::Walk3D::PropertyTargetedRotationSpeed"},"parameters":["Object","Behavior",">","0"]}],"actions":[],"events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"Walk3D::Walk3D::PropertyPreviousRotationSpeed"},"parameters":["Object","Behavior",">=","0"]}],"actions":[{"type":{"value":"Walk3D::Walk3D::SetPropertyCurrentRotationSpeed"},"parameters":["Object","Behavior","=","min(CurrentRotationSpeed + RotationAcceleration * TimeDelta(), TargetedRotationSpeed)"]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"Walk3D::Walk3D::PropertyPreviousRotationSpeed"},"parameters":["Object","Behavior","<","0"]}],"actions":[{"type":{"value":"Walk3D::Walk3D::SetPropertyCurrentRotationSpeed"},"parameters":["Object","Behavior","=","min(CurrentRotationSpeed + (RotationAcceleration + RotationDeceleration) * TimeDelta(), TargetedRotationSpeed)"]}]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"Walk3D::Walk3D::PropertyTargetedRotationSpeed"},"parameters":["Object","Behavior","=","0"]}],"actions":[],"events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"Walk3D::Walk3D::PropertyPreviousRotationSpeed"},"parameters":["Object","Behavior",">=","0"]}],"actions":[{"type":{"value":"Walk3D::Walk3D::SetPropertyCurrentRotationSpeed"},"parameters":["Object","Behavior","=","max(CurrentRotationSpeed - RotationDeceleration * TimeDelta(), 0)"]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"Walk3D::Walk3D::PropertyPreviousRotationSpeed"},"parameters":["Object","Behavior","<","0"]}],"actions":[{"type":{"value":"Walk3D::Walk3D::SetPropertyCurrentRotationSpeed"},"parameters":["Object","Behavior","=","min(CurrentRotationSpeed + RotationDeceleration * TimeDelta(), 0)"]}]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[],"actions":[{"type":{"value":"SetAngle"},"parameters":["Object","+","(PreviousRotationSpeed + CurrentRotationSpeed) / 2 * TimeDelta()"]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"Walk3D::Walk3D::PropertyHasPressedTurnLeft"},"parameters":["Object","Behavior"]}],"actions":[{"type":{"value":"Walk3D::Walk3D::SetPropertyHadPressedTurnLeft"},"parameters":["Object","Behavior","yes"]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"inverted":true,"value":"Walk3D::Walk3D::PropertyHasPressedTurnLeft"},"parameters":["Object","Behavior"]}],"actions":[{"type":{"value":"Walk3D::Walk3D::SetPropertyHadPressedTurnLeft"},"parameters":["Object","Behavior","no"]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"Walk3D::Walk3D::PropertyHasPressedTurnRight"},"parameters":["Object","Behavior"]}],"actions":[{"type":{"value":"Walk3D::Walk3D::SetPropertyHadPressedTurnRight"},"parameters":["Object","Behavior","yes"]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"inverted":true,"value":"Walk3D::Walk3D::PropertyHasPressedTurnRight"},"parameters":["Object","Behavior"]}],"actions":[{"type":{"value":"Walk3D::Walk3D::SetPropertyHadPressedTurnRight"},"parameters":["Object","Behavior","no"]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[],"actions":[{"type":{"value":"Walk3D::Walk3D::SetPropertyHasPressedTurnLeft"},"parameters":["Object","Behavior","no"]},{"type":{"value":"Walk3D::Walk3D::SetPropertyHasPressedTurnRight"},"parameters":["Object","Behavior","no"]},{"type":{"value":"Walk3D::Walk3D::SetPropertyTargetedRotationSpeed"},"parameters":["Object","Behavior","=","0"]}]}],"parameters":[]},{"colorB":228,"colorG":176,"colorR":74,"creationTime":0,"name":"Translation","source":"","type":"BuiltinCommonInstructions::Group","events":[{"colorB":228,"colorG":176,"colorR":74,"creationTime":0,"name":"Forward","source":"","type":"BuiltinCommonInstructions::Group","events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[],"actions":[{"type":{"value":"Walk3D::Walk3D::SetPropertyPreviousForwardSpeed"},"parameters":["Object","Behavior","=","CurrentForwardSpeed"]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"Walk3D::Walk3D::PropertyHasPressedMoveBackward"},"parameters":["Object","Behavior"]},{"type":{"value":"BuiltinCommonInstructions::Or"},"parameters":[],"subInstructions":[{"type":{"inverted":true,"value":"Walk3D::Walk3D::PropertyHasPressedMoveForward"},"parameters":["Object","Behavior"]},{"type":{"value":"Walk3D::Walk3D::PropertyHasPressedMoveBackwardLast"},"parameters":["Object","Behavior"]}]}],"actions":[{"type":{"value":"Walk3D::Walk3D::SetPropertyTargetedForwardSpeed"},"parameters":["Object","Behavior","=","-TranslationSpeedMax"]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"Walk3D::Walk3D::PropertyHasPressedMoveForward"},"parameters":["Object","Behavior"]},{"type":{"value":"BuiltinCommonInstructions::Or"},"parameters":[],"subInstructions":[{"type":{"inverted":true,"value":"Walk3D::Walk3D::PropertyHasPressedMoveBackward"},"parameters":["Object","Behavior"]},{"type":{"inverted":true,"value":"Walk3D::Walk3D::PropertyHasPressedMoveBackwardLast"},"parameters":["Object","Behavior"]}]}],"actions":[{"type":{"value":"Walk3D::Walk3D::SetPropertyTargetedForwardSpeed"},"parameters":["Object","Behavior","=","TranslationSpeedMax"]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"Walk3D::Walk3D::PropertyTargetedForwardSpeed"},"parameters":["Object","Behavior","<","0"]}],"actions":[],"events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"Walk3D::Walk3D::PropertyPreviousForwardSpeed"},"parameters":["Object","Behavior","<=","0"]}],"actions":[{"type":{"value":"Walk3D::Walk3D::SetPropertyCurrentForwardSpeed"},"parameters":["Object","Behavior","=","max(CurrentForwardSpeed - TranslationAcceleration * TimeDelta(), TargetedForwardSpeed)"]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"Walk3D::Walk3D::PropertyPreviousForwardSpeed"},"parameters":["Object","Behavior",">","0"]}],"actions":[{"type":{"value":"Walk3D::Walk3D::SetPropertyCurrentForwardSpeed"},"parameters":["Object","Behavior","=","max(CurrentForwardSpeed - (TranslationAcceleration + TranslationDeceleration) * TimeDelta(), TargetedForwardSpeed)"]}]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"Walk3D::Walk3D::PropertyTargetedForwardSpeed"},"parameters":["Object","Behavior",">","0"]}],"actions":[],"events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"Walk3D::Walk3D::PropertyPreviousForwardSpeed"},"parameters":["Object","Behavior",">=","0"]}],"actions":[{"type":{"value":"Walk3D::Walk3D::SetPropertyCurrentForwardSpeed"},"parameters":["Object","Behavior","=","min(CurrentForwardSpeed + TranslationAcceleration * TimeDelta(), TargetedForwardSpeed)"]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"Walk3D::Walk3D::PropertyPreviousForwardSpeed"},"parameters":["Object","Behavior","<","0"]}],"actions":[{"type":{"value":"Walk3D::Walk3D::SetPropertyCurrentForwardSpeed"},"parameters":["Object","Behavior","=","min(CurrentForwardSpeed + (TranslationAcceleration + TranslationDeceleration) * TimeDelta(), TargetedForwardSpeed)"]}]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"Walk3D::Walk3D::PropertyTargetedForwardSpeed"},"parameters":["Object","Behavior","=","0"]}],"actions":[],"events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"Walk3D::Walk3D::PropertyPreviousForwardSpeed"},"parameters":["Object","Behavior",">=","0"]}],"actions":[{"type":{"value":"Walk3D::Walk3D::SetPropertyCurrentForwardSpeed"},"parameters":["Object","Behavior","=","max(CurrentForwardSpeed - TranslationDeceleration * TimeDelta(), 0)"]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"Walk3D::Walk3D::PropertyPreviousForwardSpeed"},"parameters":["Object","Behavior","<","0"]}],"actions":[{"type":{"value":"Walk3D::Walk3D::SetPropertyCurrentForwardSpeed"},"parameters":["Object","Behavior","=","min(CurrentForwardSpeed + TranslationDeceleration * TimeDelta(), 0)"]}]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"Walk3D::Walk3D::PropertyHadPressedMoveBackward"},"parameters":["Object","Behavior"]}],"actions":[{"type":{"value":"Walk3D::Walk3D::SetPropertyHadPressedMoveBackward"},"parameters":["Object","Behavior","yes"]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"inverted":true,"value":"Walk3D::Walk3D::PropertyHadPressedMoveBackward"},"parameters":["Object","Behavior"]}],"actions":[{"type":{"value":"Walk3D::Walk3D::SetPropertyHadPressedMoveBackward"},"parameters":["Object","Behavior","no"]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"Walk3D::Walk3D::PropertyHasPressedMoveForward"},"parameters":["Object","Behavior"]}],"actions":[{"type":{"value":"Walk3D::Walk3D::SetPropertyHadPressedMoveForward"},"parameters":["Object","Behavior","yes"]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"inverted":true,"value":"Walk3D::Walk3D::PropertyHasPressedMoveForward"},"parameters":["Object","Behavior"]}],"actions":[{"type":{"value":"Walk3D::Walk3D::SetPropertyHadPressedMoveForward"},"parameters":["Object","Behavior","no"]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[],"actions":[{"type":{"value":"Walk3D::Walk3D::SetPropertyHasPressedMoveBackward"},"parameters":["Object","Behavior","no"]},{"type":{"value":"Walk3D::Walk3D::SetPropertyHasPressedMoveForward"},"parameters":["Object","Behavior","no"]},{"type":{"value":"Walk3D::Walk3D::SetPropertyTargetedForwardSpeed"},"parameters":["Object","Behavior","=","0"]}]}],"parameters":[]},{"colorB":228,"colorG":176,"colorR":74,"creationTime":0,"name":"Sideways","source":"","type":"BuiltinCommonInstructions::Group","events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[],"actions":[{"type":{"value":"Walk3D::Walk3D::SetPropertyPreviousSidewaysSpeed"},"parameters":["Object","Behavior","=","CurrentSidewaysSpeed"]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"Walk3D::Walk3D::PropertyHasPressedMoveLeft"},"parameters":["Object","Behavior"]},{"type":{"value":"BuiltinCommonInstructions::Or"},"parameters":[],"subInstructions":[{"type":{"inverted":true,"value":"Walk3D::Walk3D::PropertyHasPressedMoveRight"},"parameters":["Object","Behavior"]},{"type":{"value":"Walk3D::Walk3D::PropertyHasPressedMoveLeftLast"},"parameters":["Object","Behavior"]}]}],"actions":[{"type":{"value":"Walk3D::Walk3D::SetPropertyTargetedSidewaysSpeed"},"parameters":["Object","Behavior","=","-TranslationSpeedMax"]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"Walk3D::Walk3D::PropertyHasPressedMoveRight"},"parameters":["Object","Behavior"]},{"type":{"value":"BuiltinCommonInstructions::Or"},"parameters":[],"subInstructions":[{"type":{"inverted":true,"value":"Walk3D::Walk3D::PropertyHasPressedMoveLeft"},"parameters":["Object","Behavior"]},{"type":{"inverted":true,"value":"Walk3D::Walk3D::PropertyHasPressedMoveLeftLast"},"parameters":["Object","Behavior"]}]}],"actions":[{"type":{"value":"Walk3D::Walk3D::SetPropertyTargetedSidewaysSpeed"},"parameters":["Object","Behavior","=","TranslationSpeedMax"]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"Walk3D::Walk3D::PropertyTargetedSidewaysSpeed"},"parameters":["Object","Behavior","<","0"]}],"actions":[],"events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"Walk3D::Walk3D::PropertyPreviousSidewaysSpeed"},"parameters":["Object","Behavior","<=","0"]}],"actions":[{"type":{"value":"Walk3D::Walk3D::SetPropertyCurrentSidewaysSpeed"},"parameters":["Object","Behavior","=","max(CurrentSidewaysSpeed - TranslationAcceleration * TimeDelta(), TargetedSidewaysSpeed)"]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"Walk3D::Walk3D::PropertyPreviousSidewaysSpeed"},"parameters":["Object","Behavior",">","0"]}],"actions":[{"type":{"value":"Walk3D::Walk3D::SetPropertyCurrentSidewaysSpeed"},"parameters":["Object","Behavior","=","max(CurrentSidewaysSpeed - (TranslationAcceleration + TranslationDeceleration) * TimeDelta(), TargetedSidewaysSpeed)"]}]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"Walk3D::Walk3D::PropertyTargetedSidewaysSpeed"},"parameters":["Object","Behavior",">","0"]}],"actions":[],"events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"Walk3D::Walk3D::PropertyPreviousSidewaysSpeed"},"parameters":["Object","Behavior",">=","0"]}],"actions":[{"type":{"value":"Walk3D::Walk3D::SetPropertyCurrentSidewaysSpeed"},"parameters":["Object","Behavior","=","min(CurrentSidewaysSpeed + TranslationAcceleration * TimeDelta(), TargetedSidewaysSpeed)"]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"Walk3D::Walk3D::PropertyPreviousSidewaysSpeed"},"parameters":["Object","Behavior","<","0"]}],"actions":[{"type":{"value":"Walk3D::Walk3D::SetPropertyCurrentSidewaysSpeed"},"parameters":["Object","Behavior","=","min(CurrentSidewaysSpeed + (TranslationAcceleration + TranslationDeceleration) * TimeDelta(), TargetedSidewaysSpeed)"]}]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"Walk3D::Walk3D::PropertyTargetedSidewaysSpeed"},"parameters":["Object","Behavior","=","0"]}],"actions":[],"events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"Walk3D::Walk3D::PropertyPreviousSidewaysSpeed"},"parameters":["Object","Behavior",">=","0"]}],"actions":[{"type":{"value":"Walk3D::Walk3D::SetPropertyCurrentSidewaysSpeed"},"parameters":["Object","Behavior","=","max(CurrentSidewaysSpeed - TranslationDeceleration * TimeDelta(), 0)"]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"Walk3D::Walk3D::PropertyPreviousSidewaysSpeed"},"parameters":["Object","Behavior","<","0"]}],"actions":[{"type":{"value":"Walk3D::Walk3D::SetPropertyCurrentSidewaysSpeed"},"parameters":["Object","Behavior","=","min(CurrentSidewaysSpeed + TranslationDeceleration * TimeDelta(), 0)"]}]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"Walk3D::Walk3D::PropertyHadPressedMoveLeft"},"parameters":["Object","Behavior"]}],"actions":[{"type":{"value":"Walk3D::Walk3D::SetPropertyHadPressedMoveLeft"},"parameters":["Object","Behavior","yes"]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"inverted":true,"value":"Walk3D::Walk3D::PropertyHadPressedMoveLeft"},"parameters":["Object","Behavior"]}],"actions":[{"type":{"value":"Walk3D::Walk3D::SetPropertyHadPressedMoveLeft"},"parameters":["Object","Behavior","no"]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"Walk3D::Walk3D::PropertyHasPressedMoveRight"},"parameters":["Object","Behavior"]}],"actions":[{"type":{"value":"Walk3D::Walk3D::SetPropertyHadPressedMoveRight"},"parameters":["Object","Behavior","yes"]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"inverted":true,"value":"Walk3D::Walk3D::PropertyHasPressedMoveRight"},"parameters":["Object","Behavior"]}],"actions":[{"type":{"value":"Walk3D::Walk3D::SetPropertyHadPressedMoveRight"},"parameters":["Object","Behavior","no"]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[],"actions":[{"type":{"value":"Walk3D::Walk3D::SetPropertyHasPressedMoveLeft"},"parameters":["Object","Behavior","no"]},{"type":{"value":"Walk3D::Walk3D::SetPropertyHasPressedMoveRight"},"parameters":["Object","Behavior","no"]},{"type":{"value":"Walk3D::Walk3D::SetPropertyTargetedSidewaysSpeed"},"parameters":["Object","Behavior","=","0"]}]}],"parameters":[]},{"type":"BuiltinCommonInstructions::Standard","conditions":[],"actions":[{"type":{"value":"MettreAutour"},"parameters":["Object","Object","(PreviousForwardSpeed + CurrentForwardSpeed) / 2 * TimeDelta()","Object.Angle()"]},{"type":{"value":"MettreAutour"},"parameters":["Object","Object","(PreviousSidewaysSpeed + CurrentSidewaysSpeed) / 2 * TimeDelta()","Object.Angle() + 90"]}]}],"parameters":[]}],"parameters":[{"description":"Object","name":"Object","type":"object"},{"description":"Behavior","name":"Behavior","supplementaryInformation":"Walk3D::Walk3D","type":"behavior"}],"objectGroups":[]},{"description":"Simulate a press of the turn left key.","fullName":"Simulate turn left key press","functionType":"Action","group":"Top-down walk state","name":"SimulateTurnLeftKey","sentence":"Simulate pressing turn left key for _PARAM0_","events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"inverted":true,"value":"Walk3D::Walk3D::PropertyHadPressedTurnLeft"},"parameters":["Object","Behavior"]}],"actions":[{"type":{"value":"Walk3D::Walk3D::SetPropertyHasPressedTurnLeftLast"},"parameters":["Object","Behavior","yes"]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[],"actions":[{"type":{"value":"Walk3D::Walk3D::SetPropertyHasPressedTurnLeft"},"parameters":["Object","Behavior","yes"]}]}],"parameters":[{"description":"Object","name":"Object","type":"object"},{"description":"Behavior","name":"Behavior","supplementaryInformation":"Walk3D::Walk3D","type":"behavior"}],"objectGroups":[]},{"description":"Simulate a press of the turn right key.","fullName":"Simulate turn right key press","functionType":"Action","group":"Top-down walk state","name":"SimulateTurnRightKey","sentence":"Simulate pressing turn right key for _PARAM0_","events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"inverted":true,"value":"Walk3D::Walk3D::PropertyHadPressedTurnRight"},"parameters":["Object","Behavior"]}],"actions":[{"type":{"value":"Walk3D::Walk3D::SetPropertyHasPressedTurnLeftLast"},"parameters":["Object","Behavior","no"]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[],"actions":[{"type":{"value":"Walk3D::Walk3D::SetPropertyHasPressedTurnRight"},"parameters":["Object","Behavior","yes"]}]}],"parameters":[{"description":"Object","name":"Object","type":"object"},{"description":"Behavior","name":"Behavior","supplementaryInformation":"Walk3D::Walk3D","type":"behavior"}],"objectGroups":[]},{"description":"Simulate a press of the move backward key.","fullName":"Simulate move backward key press","functionType":"Action","group":"Top-down walk state","name":"SimulateMoveBackwardKey","sentence":"Simulate pressing move backward key for _PARAM0_","events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"inverted":true,"value":"Walk3D::Walk3D::PropertyHadPressedMoveBackward"},"parameters":["Object","Behavior"]}],"actions":[{"type":{"value":"Walk3D::Walk3D::SetPropertyHasPressedMoveBackwardLast"},"parameters":["Object","Behavior","yes"]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[],"actions":[{"type":{"value":"Walk3D::Walk3D::SetPropertyHasPressedMoveBackward"},"parameters":["Object","Behavior","yes"]}]}],"parameters":[{"description":"Object","name":"Object","type":"object"},{"description":"Behavior","name":"Behavior","supplementaryInformation":"Walk3D::Walk3D","type":"behavior"}],"objectGroups":[]},{"description":"Simulate a press of the move forward key.","fullName":"Simulate move forward key press","functionType":"Action","group":"Top-down walk state","name":"SimulateMoveForwardKey","sentence":"Simulate pressing move forward key for _PARAM0_","events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"inverted":true,"value":"Walk3D::Walk3D::PropertyHadPressedMoveForward"},"parameters":["Object","Behavior"]}],"actions":[{"type":{"value":"Walk3D::Walk3D::SetPropertyHasPressedMoveBackwardLast"},"parameters":["Object","Behavior","no"]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[],"actions":[{"type":{"value":"Walk3D::Walk3D::SetPropertyHasPressedMoveForward"},"parameters":["Object","Behavior","yes"]}]}],"parameters":[{"description":"Object","name":"Object","type":"object"},{"description":"Behavior","name":"Behavior","supplementaryInformation":"Walk3D::Walk3D","type":"behavior"}],"objectGroups":[]},{"description":"Simulate a press of the move left key.","fullName":"Simulate move left key press","functionType":"Action","group":"Top-down walk state","name":"SimulateMoveLeftKey","sentence":"Simulate pressing move left key for _PARAM0_","events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"inverted":true,"value":"Walk3D::Walk3D::PropertyHadPressedMoveLeft"},"parameters":["Object","Behavior"]}],"actions":[{"type":{"value":"Walk3D::Walk3D::SetPropertyHasPressedMoveLeftLast"},"parameters":["Object","Behavior","yes"]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[],"actions":[{"type":{"value":"Walk3D::Walk3D::SetPropertyHasPressedMoveLeft"},"parameters":["Object","Behavior","yes"]}]}],"parameters":[{"description":"Object","name":"Object","type":"object"},{"description":"Behavior","name":"Behavior","supplementaryInformation":"Walk3D::Walk3D","type":"behavior"}],"objectGroups":[]},{"description":"Simulate a press of the move right key.","fullName":"Simulate move right key press","functionType":"Action","group":"Top-down walk state","name":"SimulateMoveRightKey","sentence":"Simulate pressing move right key for _PARAM0_","events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"inverted":true,"value":"Walk3D::Walk3D::PropertyHadPressedMoveRight"},"parameters":["Object","Behavior"]}],"actions":[{"type":{"value":"Walk3D::Walk3D::SetPropertyHasPressedMoveLeftLast"},"parameters":["Object","Behavior","no"]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[],"actions":[{"type":{"value":"Walk3D::Walk3D::SetPropertyHasPressedMoveRight"},"parameters":["Object","Behavior","yes"]}]}],"parameters":[{"description":"Object","name":"Object","type":"object"},{"description":"Behavior","name":"Behavior","supplementaryInformation":"Walk3D::Walk3D","type":"behavior"}],"objectGroups":[]},{"description":"Simulate a stick control.","fullName":"Simulate stick control","functionType":"Action","group":"Top-down walk state","name":"SimulateMoveStick","sentence":"Simulate a stick control for _PARAM0_ with a _PARAM2_ angle and a _PARAM3_ force","events":[{"type":"BuiltinCommonInstructions::Comment","color":{"b":109,"g":230,"r":255,"textB":0,"textG":0,"textR":0},"comment":"Denormilize the targeted speed.\nIt projects the circle on a square with sides length of the circle diameter."},{"type":"BuiltinCommonInstructions::Standard","conditions":[],"actions":[{"type":{"value":"Walk3D::Walk3D::SetSharedPropertyCos"},"parameters":["Object","Behavior","=","cos(ToRad(-Angle))"]},{"type":{"value":"Walk3D::Walk3D::SetSharedPropertySin"},"parameters":["Object","Behavior","=","sin(ToRad(-Angle))"]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"BuiltinCommonInstructions::CompareNumbers"},"parameters":["abs(Cos)",">=","abs(Sin)"]}],"actions":[{"type":{"value":"Walk3D::Walk3D::SetPropertyTargetedSidewaysSpeed"},"parameters":["Object","Behavior","=","Force * TranslationSpeedMax * sign(Cos)"]},{"type":{"value":"Walk3D::Walk3D::SetPropertyTargetedForwardSpeed"},"parameters":["Object","Behavior","=","Force * TranslationSpeedMax * Sin / abs(Cos)"]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"BuiltinCommonInstructions::CompareNumbers"},"parameters":["abs(Cos)","<=","abs(Sin)"]}],"actions":[{"type":{"value":"Walk3D::Walk3D::SetPropertyTargetedSidewaysSpeed"},"parameters":["Object","Behavior","=","Force * TranslationSpeedMax * Cos / abs(Sin)"]},{"type":{"value":"Walk3D::Walk3D::SetPropertyTargetedForwardSpeed"},"parameters":["Object","Behavior","=","Force * TranslationSpeedMax * sign(Sin)"]}]}],"parameters":[{"description":"Object","name":"Object","type":"object"},{"description":"Behavior","name":"Behavior","supplementaryInformation":"Walk3D::Walk3D","type":"behavior"},{"description":"Stick angle (in degrees)","name":"Angle","type":"expression"},{"description":"Stick force (between 0 and 1)","name":"Force","type":"expression"}],"objectGroups":[]},{"description":"Simulate a stick control for rotation.","fullName":"Simulate stick control for rotation","functionType":"Action","group":"Top-down walk state","name":"SimulateRotationStick","sentence":"Simulate a stick control for rotation of _PARAM0_ with an axis value of _PARAM2_","events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[],"actions":[{"type":{"value":"Walk3D::Walk3D::SetPropertyTargetedRotationSpeed"},"parameters":["Object","Behavior","=","Value * RotationSpeedMax"]}]}],"parameters":[{"description":"Object","name":"Object","type":"object"},{"description":"Behavior","name":"Behavior","supplementaryInformation":"Walk3D::Walk3D","type":"behavior"},{"description":"Axis value (between -1 and 1)","name":"Value","type":"expression"}],"objectGroups":[]},{"description":"the current rotation speed of the object.","fullName":"Current rotation speed","functionType":"ExpressionAndCondition","group":"Top-down walk state","name":"CurrentRotationSpeed","sentence":"the current rotation speed","events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[],"actions":[{"type":{"value":"SetReturnNumber"},"parameters":["CurrentRotationSpeed"]}]}],"expressionType":{"type":"expression"},"parameters":[{"description":"Object","name":"Object","type":"object"},{"description":"Behavior","name":"Behavior","supplementaryInformation":"Walk3D::Walk3D","type":"behavior"}],"objectGroups":[]},{"fullName":"","functionType":"ActionWithOperator","getterName":"CurrentRotationSpeed","name":"SetCurrentRotationSpeed","sentence":"","events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[],"actions":[{"type":{"value":"Walk3D::Walk3D::SetPropertyCurrentRotationSpeed"},"parameters":["Object","Behavior","=","Value"]}]}],"parameters":[{"description":"Object","name":"Object","type":"object"},{"description":"Behavior","name":"Behavior","supplementaryInformation":"Walk3D::Walk3D","type":"behavior"}],"objectGroups":[]},{"description":"the current forward speed of the object.","fullName":"Current forward speed","functionType":"ExpressionAndCondition","group":"Top-down walk state","name":"CurrentForwardSpeed","sentence":"the current forward speed","events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[],"actions":[{"type":{"value":"SetReturnNumber"},"parameters":["CurrentForwardSpeed"]}]}],"expressionType":{"type":"expression"},"parameters":[{"description":"Object","name":"Object","type":"object"},{"description":"Behavior","name":"Behavior","supplementaryInformation":"Walk3D::Walk3D","type":"behavior"}],"objectGroups":[]},{"fullName":"","functionType":"ActionWithOperator","getterName":"CurrentForwardSpeed","name":"SetCurrentForwardSpeed","sentence":"","events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[],"actions":[{"type":{"value":"Walk3D::Walk3D::SetPropertyCurrentForwardSpeed"},"parameters":["Object","Behavior","=","Value"]}]}],"parameters":[{"description":"Object","name":"Object","type":"object"},{"description":"Behavior","name":"Behavior","supplementaryInformation":"Walk3D::Walk3D","type":"behavior"}],"objectGroups":[]},{"description":"the current sideways speed of the object.","fullName":"Current sideways speed","functionType":"ExpressionAndCondition","group":"Top-down walk state","name":"CurrentSidewaysSpeed","sentence":"the current sideways speed","events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[],"actions":[{"type":{"value":"SetReturnNumber"},"parameters":["CurrentSidewaysSpeed"]}]}],"expressionType":{"type":"expression"},"parameters":[{"description":"Object","name":"Object","type":"object"},{"description":"Behavior","name":"Behavior","supplementaryInformation":"Walk3D::Walk3D","type":"behavior"}],"objectGroups":[]},{"fullName":"","functionType":"ActionWithOperator","getterName":"CurrentSidewaysSpeed","name":"SetCurrentSidewaysSpeed","sentence":"","events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[],"actions":[{"type":{"value":"Walk3D::Walk3D::SetPropertyCurrentSidewaysSpeed"},"parameters":["Object","Behavior","=","Value"]}]}],"parameters":[{"description":"Object","name":"Object","type":"object"},{"description":"Behavior","name":"Behavior","supplementaryInformation":"Walk3D::Walk3D","type":"behavior"}],"objectGroups":[]},{"description":"the maximum rotation speed of the object.","fullName":"Maximum rotation speed","functionType":"ExpressionAndCondition","group":"Top-down walk configuration","name":"RotationSpeedMax","sentence":"the maximum rotation speed","events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[],"actions":[{"type":{"value":"SetReturnNumber"},"parameters":["RotationSpeedMax"]}]}],"expressionType":{"type":"expression"},"parameters":[{"description":"Object","name":"Object","type":"object"},{"description":"Behavior","name":"Behavior","supplementaryInformation":"Walk3D::Walk3D","type":"behavior"}],"objectGroups":[]},{"fullName":"","functionType":"ActionWithOperator","getterName":"RotationSpeedMax","name":"SetRotationSpeedMax","sentence":"","events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[],"actions":[{"type":{"value":"Walk3D::Walk3D::SetPropertyRotationSpeedMax"},"parameters":["Object","Behavior","=","Value"]}]}],"parameters":[{"description":"Object","name":"Object","type":"object"},{"description":"Behavior","name":"Behavior","supplementaryInformation":"Walk3D::Walk3D","type":"behavior"}],"objectGroups":[]},{"description":"the rotation acceleration of the object.","fullName":"Rotation acceleration","functionType":"ExpressionAndCondition","group":"Top-down walk configuration","name":"RotationAcceleration","sentence":"the rotation acceleration","events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[],"actions":[{"type":{"value":"SetReturnNumber"},"parameters":["RotationAcceleration"]}]}],"expressionType":{"type":"expression"},"parameters":[{"description":"Object","name":"Object","type":"object"},{"description":"Behavior","name":"Behavior","supplementaryInformation":"Walk3D::Walk3D","type":"behavior"}],"objectGroups":[]},{"fullName":"","functionType":"ActionWithOperator","getterName":"RotationAcceleration","name":"SetRotationAcceleration","sentence":"","events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[],"actions":[{"type":{"value":"Walk3D::Walk3D::SetPropertyRotationAcceleration"},"parameters":["Object","Behavior","=","Value"]}]}],"parameters":[{"description":"Object","name":"Object","type":"object"},{"description":"Behavior","name":"Behavior","supplementaryInformation":"Walk3D::Walk3D","type":"behavior"}],"objectGroups":[]},{"description":"the rotation deceleration of the object.","fullName":"Rotation deceleration","functionType":"ExpressionAndCondition","group":"Top-down walk configuration","name":"RotationDeceleration","sentence":"the rotation deceleration","events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[],"actions":[{"type":{"value":"SetReturnNumber"},"parameters":["RotationDeceleration"]}]}],"expressionType":{"type":"expression"},"parameters":[{"description":"Object","name":"Object","type":"object"},{"description":"Behavior","name":"Behavior","supplementaryInformation":"Walk3D::Walk3D","type":"behavior"}],"objectGroups":[]},{"fullName":"","functionType":"ActionWithOperator","getterName":"RotationDeceleration","name":"SetRotationDeceleration","sentence":"","events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[],"actions":[{"type":{"value":"Walk3D::Walk3D::SetPropertyRotationDeceleration"},"parameters":["Object","Behavior","=","Value"]}]}],"parameters":[{"description":"Object","name":"Object","type":"object"},{"description":"Behavior","name":"Behavior","supplementaryInformation":"Walk3D::Walk3D","type":"behavior"}],"objectGroups":[]},{"description":"the maximum speed of the object.","fullName":"Maximum speed","functionType":"ExpressionAndCondition","group":"Top-down walk configuration","name":"TranslationSpeedMax","sentence":"the maximum speed","events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[],"actions":[{"type":{"value":"SetReturnNumber"},"parameters":["TranslationSpeedMax"]}]}],"expressionType":{"type":"expression"},"parameters":[{"description":"Object","name":"Object","type":"object"},{"description":"Behavior","name":"Behavior","supplementaryInformation":"Walk3D::Walk3D","type":"behavior"}],"objectGroups":[]},{"fullName":"","functionType":"ActionWithOperator","getterName":"TranslationSpeedMax","name":"SetTranslationSpeedMax","sentence":"","events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[],"actions":[{"type":{"value":"Walk3D::Walk3D::SetPropertyTranslationSpeedMax"},"parameters":["Object","Behavior","=","Value"]}]}],"parameters":[{"description":"Object","name":"Object","type":"object"},{"description":"Behavior","name":"Behavior","supplementaryInformation":"Walk3D::Walk3D","type":"behavior"}],"objectGroups":[]},{"description":"the acceleration of the object.","fullName":"Acceleration","functionType":"ExpressionAndCondition","group":"Top-down walk configuration","name":"TranslationAcceleration","sentence":"the acceleration","events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[],"actions":[{"type":{"value":"SetReturnNumber"},"parameters":["TranslationAcceleration"]}]}],"expressionType":{"type":"expression"},"parameters":[{"description":"Object","name":"Object","type":"object"},{"description":"Behavior","name":"Behavior","supplementaryInformation":"Walk3D::Walk3D","type":"behavior"}],"objectGroups":[]},{"fullName":"","functionType":"ActionWithOperator","getterName":"TranslationAcceleration","name":"SetTranslationAcceleration","sentence":"","events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[],"actions":[{"type":{"value":"Walk3D::Walk3D::SetPropertyTranslationAcceleration"},"parameters":["Object","Behavior","=","Value"]}]}],"parameters":[{"description":"Object","name":"Object","type":"object"},{"description":"Behavior","name":"Behavior","supplementaryInformation":"Walk3D::Walk3D","type":"behavior"}],"objectGroups":[]},{"description":"the deceleration of the object.","fullName":"Deceleration","functionType":"ExpressionAndCondition","group":"Top-down walk configuration","name":"TranslationDeceleration","sentence":"the deceleration","events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[],"actions":[{"type":{"value":"SetReturnNumber"},"parameters":["TranslationDeceleration"]}]}],"expressionType":{"type":"expression"},"parameters":[{"description":"Object","name":"Object","type":"object"},{"description":"Behavior","name":"Behavior","supplementaryInformation":"Walk3D::Walk3D","type":"behavior"}],"objectGroups":[]},{"fullName":"","functionType":"ActionWithOperator","getterName":"TranslationDeceleration","name":"SetTranslationDeceleration","sentence":"","events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[],"actions":[{"type":{"value":"Walk3D::Walk3D::SetPropertyTranslationDeceleration"},"parameters":["Object","Behavior","=","Value"]}]}],"parameters":[{"description":"Object","name":"Object","type":"object"},{"description":"Behavior","name":"Behavior","supplementaryInformation":"Walk3D::Walk3D","type":"behavior"}],"objectGroups":[]}],"propertyDescriptors":[{"value":"180","type":"Number","unit":"AngularSpeed","label":"Maximum rotation speed","description":"","group":"Rotation","extraInformation":[],"name":"RotationSpeedMax"},{"value":"720","type":"Number","label":"Rotation acceleration","description":"","group":"Rotation","extraInformation":[],"name":"RotationAcceleration"},{"value":"720","type":"Number","label":"Rotation deceleration","description":"","group":"Rotation","extraInformation":[],"name":"RotationDeceleration"},{"value":"400","type":"Number","unit":"PixelSpeed","label":"Maximum speed","description":"","group":"","extraInformation":[],"name":"TranslationSpeedMax"},{"value":"1600","type":"Number","unit":"PixelAcceleration","label":"Acceleration","description":"","group":"","extraInformation":[],"name":"TranslationAcceleration"},{"value":"1600","type":"Number","unit":"PixelAcceleration","label":"Deceleration","description":"","group":"","extraInformation":[],"name":"TranslationDeceleration"},{"value":"0","type":"Number","unit":"AngularSpeed","label":"Current rotation speed","description":"","group":"","extraInformation":[],"hidden":true,"name":"CurrentRotationSpeed"},{"value":"0","type":"Number","label":"","description":"","group":"","extraInformation":[],"hidden":true,"name":"PreviousRotationSpeed"},{"value":"0","type":"Number","unit":"PixelSpeed","label":"Current forward speed","description":"","group":"","extraInformation":[],"hidden":true,"name":"CurrentForwardSpeed"},{"value":"0","type":"Number","unit":"PixelSpeed","label":"Current sideways speed","description":"","group":"","extraInformation":[],"hidden":true,"name":"CurrentSidewaysSpeed"},{"value":"0","type":"Number","label":"","description":"","group":"","extraInformation":[],"hidden":true,"name":"PreviousForwardSpeed"},{"value":"0","type":"Number","label":"","description":"","group":"","extraInformation":[],"hidden":true,"name":"PreviousSidewaysSpeed"},{"value":"","type":"Boolean","label":"","description":"","group":"","extraInformation":[],"hidden":true,"name":"HasPressedTurnLeft"},{"value":"","type":"Boolean","label":"","description":"","group":"","extraInformation":[],"hidden":true,"name":"HasPressedTurnRight"},{"value":"","type":"Boolean","label":"","description":"","group":"","extraInformation":[],"hidden":true,"name":"HasPressedTurnLeftLast"},{"value":"","type":"Boolean","label":"","description":"","group":"","extraInformation":[],"hidden":true,"name":"HadPressedTurnLeft"},{"value":"","type":"Boolean","label":"","description":"","group":"","extraInformation":[],"hidden":true,"name":"HadPressedTurnRight"},{"value":"","type":"Boolean","label":"","description":"","group":"","extraInformation":[],"hidden":true,"name":"HasPressedMoveForward"},{"value":"","type":"Boolean","label":"","description":"","group":"","extraInformation":[],"hidden":true,"name":"HasPressedMoveBackward"},{"value":"","type":"Boolean","label":"","description":"","group":"","extraInformation":[],"hidden":true,"name":"HadPressedMoveForward"},{"value":"","type":"Boolean","label":"","description":"","group":"","extraInformation":[],"hidden":true,"name":"HadPressedMoveBackward"},{"value":"","type":"Boolean","label":"","description":"","group":"","extraInformation":[],"hidden":true,"name":"HasPressedMoveBackwardLast"},{"value":"","type":"Boolean","label":"","description":"","group":"","extraInformation":[],"hidden":true,"name":"HasPressedMoveLeft"},{"value":"","type":"Boolean","label":"","description":"","group":"","extraInformation":[],"hidden":true,"name":"HasPressedMoveRight"},{"value":"","type":"Boolean","label":"","description":"","group":"","extraInformation":[],"hidden":true,"name":"HadPressedMoveLeft"},{"value":"","type":"Boolean","label":"","description":"","group":"","extraInformation":[],"hidden":true,"name":"HadPressedMoveRight"},{"value":"","type":"Boolean","label":"","description":"","group":"","extraInformation":[],"hidden":true,"name":"HasPressedMoveLeftLast"},{"value":"0","type":"Number","label":"","description":"","group":"","extraInformation":[],"hidden":true,"name":"TargetedForwardSpeed"},{"value":"0","type":"Number","label":"","description":"","group":"","extraInformation":[],"hidden":true,"name":"TargetedSidewaysSpeed"},{"value":"0","type":"Number","label":"","description":"","group":"","extraInformation":[],"hidden":true,"name":"TargetedRotationSpeed"}],"sharedPropertyDescriptors":[{"value":"0","type":"Number","label":"","description":"","group":"","extraInformation":[],"hidden":true,"name":"Cos"},{"value":"0","type":"Number","label":"","description":"","group":"","extraInformation":[],"name":"Sin"}]}],"eventsBasedObjects":[]},{"author":"","category":"Movement","extensionNamespace":"","fullName":"3D jump","helpPath":"","iconUrl":"data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0idXRmLTgiPz4NCjwhLS0gR2VuZXJhdG9yOiBBZG9iZSBJbGx1c3RyYXRvciAyMy4wLjMsIFNWRyBFeHBvcnQgUGx1Zy1JbiAuIFNWRyBWZXJzaW9uOiA2LjAwIEJ1aWxkIDApICAtLT4NCjxzdmcgdmVyc2lvbj0iMS4xIiBpZD0iSWNvbnMiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgeG1sbnM6eGxpbms9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiIHg9IjBweCIgeT0iMHB4Ig0KCSB2aWV3Qm94PSIwIDAgMzIgMzIiIHN0eWxlPSJlbmFibGUtYmFja2dyb3VuZDpuZXcgMCAwIDMyIDMyOyIgeG1sOnNwYWNlPSJwcmVzZXJ2ZSI+DQo8c3R5bGUgdHlwZT0idGV4dC9jc3MiPg0KCS5zdDB7ZmlsbDpub25lO3N0cm9rZTojMDAwMDAwO3N0cm9rZS13aWR0aDoyO3N0cm9rZS1saW5lY2FwOnJvdW5kO3N0cm9rZS1saW5lam9pbjpyb3VuZDtzdHJva2UtbWl0ZXJsaW1pdDoxMDt9DQo8L3N0eWxlPg0KPHBhdGggY2xhc3M9InN0MCIgZD0iTTI3LDI4aC04LjFjLTEuMiwwLTIuMy0wLjUtMy4yLTEuM0wzLDE0bDctOHYwYzAsMy45LDQuMSw4LDgsOGgxdjBjLTAuMSw0LjUsMS42LDcuOCw2LDkuMg0KCWMwLjMsMC4xLDAuNSwwLjIsMC44LDAuMmwwLDBjMS4yLDAuMywyLDEuNiwxLjcsMi44TDI3LDI4eiIvPg0KPHBhdGggY2xhc3M9InN0MCIgZD0iTTEsMTZsMTMuNywxMy43YzAuOCwwLjgsMiwxLjMsMy4yLDEuM0gyNyIvPg0KPGNpcmNsZSBjbGFzcz0ic3QwIiBjeD0iMTAuNSIgY3k9IjE1LjUiIHI9IjEuNSIvPg0KPGxpbmUgY2xhc3M9InN0MCIgeDE9IjE1IiB5MT0iMTkiIHgyPSIxOS41IiB5Mj0iMTkiLz4NCjxsaW5lIGNsYXNzPSJzdDAiIHgxPSIxNyIgeTE9IjIyIiB4Mj0iMjIuNSIgeTI9IjIyIi8+DQo8cGF0aCBjbGFzcz0ic3QwIiBkPSJNMjgsMWwtNy4zLDcuM0MxOSwxMCwxOC40LDEyLjQsMTksMTQuN2wwLDAiLz4NCjxwYXRoIGNsYXNzPSJzdDAiIGQ9Ik0xMCw3TDEwLDdjMS45LTAuNiwzLjYtMiw0LjYtMy43TDE2LDEiLz4NCjwvc3ZnPg0K","name":"Jump3D","previewIconUrl":"https://asset-resources.gdevelop.io/public-resources/Icons/Line Hero Pack/Master/SVG/Sports and Fitness/29b5c1893f81031cca98c9a1c447464b433717bdf3569ce5fac7c7cb0a8a2b82_Sports and Fitness_gym_running_foot_run.svg","shortDescription":"Jump and fall along Z axis.","version":"0.1.1","description":"It handles basic collisions with 3D boxes but rotations around X and Y axes are not supported.","origin":{"identifier":"Jump3D","name":"gdevelop-extension-store"},"tags":["3d","jump","platform","platformer","collision"],"authorIds":["IWykYNRvhCZBN3vEgKEbBPOR3Oc2","toILhIv6WWNwz59xMtlGMijOZ1t2","PEzPAaWHgYgk5UwIPppsL6f2ugp2"],"dependencies":[],"globalVariables":[],"sceneVariables":[],"eventsFunctions":[{"description":"the top of the object on Z axis","fullName":"Top on Z axis","functionType":"ExpressionAndCondition","group":"Position","name":"TopZ","private":true,"sentence":"the top on Z axis of _PARAM1_","events":[{"type":"BuiltinCommonInstructions::JsCode","inlineCode":["if (objects.length === 0) {","    return;","}","const object = objects[0];","eventsFunctionContext.returnValue = object.getDrawableZ ? object.getDrawableZ() + object.getDepth() : 0;",""],"parameterObjects":"Object","useStrict":true,"eventsSheetExpanded":false}],"expressionType":{"type":"expression"},"parameters":[{"description":"Object","name":"Object","type":"objectList"}],"objectGroups":[]},{"fullName":"","functionType":"ActionWithOperator","getterName":"TopZ","name":"SetTopZ","private":true,"sentence":"","events":[{"type":"BuiltinCommonInstructions::JsCode","inlineCode":["if (objects.length === 0) {","    return;","}","const object = objects[0];","if (!object.getDrawableZ) {","    return;","}","const newTop = eventsFunctionContext.getArgument(\"Value\");","const oldTop = object.getDrawableZ() + object.getDepth();","object.setZ(object.getZ() - oldTop + newTop);",""],"parameterObjects":"Object","useStrict":true,"eventsSheetExpanded":true}],"parameters":[{"description":"Object","name":"Object","type":"objectList"}],"objectGroups":[]},{"description":"the bottom of the object on Z axis","fullName":"Bottom on Z axis","functionType":"ExpressionAndCondition","group":"Position","name":"BottomZ","private":true,"sentence":"the bottom on Z axis of _PARAM1_","events":[{"type":"BuiltinCommonInstructions::JsCode","inlineCode":["if (objects.length === 0) {","    return;","}","const object = objects[0];","eventsFunctionContext.returnValue = object.getDrawableZ ? object.getDrawableZ() : 0;",""],"parameterObjects":"Object","useStrict":true,"eventsSheetExpanded":false}],"expressionType":{"type":"expression"},"parameters":[{"description":"Object","name":"Object","type":"objectList"}],"objectGroups":[]},{"fullName":"","functionType":"ActionWithOperator","getterName":"BottomZ","name":"SetBottomZ","private":true,"sentence":"","events":[{"type":"BuiltinCommonInstructions::JsCode","inlineCode":["if (objects.length === 0) {","    return;","}","const object = objects[0];","if (!object.getDrawableZ) {","    return;","}","const newBottom = eventsFunctionContext.getArgument(\"Value\");","const oldBottom = object.getDrawableZ();","object.setZ(object.getZ() - oldBottom + newBottom);",""],"parameterObjects":"Object","useStrict":true,"eventsSheetExpanded":true}],"parameters":[{"description":"Object","name":"Object","type":"objectList"}],"objectGroups":[]},{"description":"Check if an object is overlapping a range on Z axis.","fullName":"Overlap Z range","functionType":"Condition","group":"Collision","name":"IsWithinZ","private":true,"sentence":"_PARAM1_ overlap the range from _PARAM3_ to _PARAM4_","events":[{"type":"BuiltinCommonInstructions::JsCode","inlineCode":["const bottom = eventsFunctionContext.getArgument(\"BottomZ\");","const top = eventsFunctionContext.getArgument(\"TopZ\");","","if (top <= bottom) {","    return false;","}","","let isAnyObjectPicked = false;","for (const object of objects) {","    object.pick = object.getZ() < top && object.getZ() + object.getDepth() > bottom;","    isAnyObjectPicked = isAnyObjectPicked || object.pick;","}","","const objectsLists = eventsFunctionContext.getObjectsLists(\"Object\");","for (const name in objectsLists.items) {","    if (objectsLists.items.hasOwnProperty(name)) {","        const objectsList = objectsLists.items[name];","        gdjs.evtTools.object.filterPickedObjectsList(objectsList);","    }","}","eventsFunctionContext.returnValue = isAnyObjectPicked;",""],"parameterObjects":"Object","useStrict":true,"eventsSheetExpanded":true}],"parameters":[{"description":"Object","name":"Object","type":"objectList"},{"description":"3D capability","name":"Object3D","supplementaryInformation":"Scene3D::Base3DBehavior","type":"behavior"},{"description":"Bottom Z","name":"BottomZ","type":"expression"},{"description":"Top Z","name":"TopZ","type":"expression"}],"objectGroups":[]}],"eventsBasedBehaviors":[{"description":"Jump and fall along Z axis.","fullName":"3D jump","name":"Jump3D","objectType":"","eventsFunctions":[{"fullName":"","functionType":"Action","name":"onCreated","sentence":"","events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[],"actions":[{"type":{"value":"Jump3D::Jump3D::SetJumpHeight"},"parameters":["Object","Behavior","=","JumpHeight",""]}]}],"parameters":[{"description":"Object","name":"Object","type":"object"},{"description":"Behavior","name":"Behavior","supplementaryInformation":"Jump3D::Jump3D","type":"behavior"}],"objectGroups":[]},{"fullName":"Jump height","functionType":"ActionWithOperator","getterName":"JumpHeight","name":"SetJumpHeight","sentence":"","events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[],"actions":[{"type":{"value":"Jump3D::Jump3D::SetPropertyJumpHeight"},"parameters":["Object","Behavior","=","Value"]},{"type":{"value":"Jump3D::Jump3D::SetPropertyJumpSpeed"},"parameters":["Object","Behavior","=","Object.Behavior::JumpSpeedToReach(Value)"]}]}],"parameters":[{"description":"Object","name":"Object","type":"object"},{"description":"Behavior","name":"Behavior","supplementaryInformation":"Jump3D::Jump3D","type":"behavior"},{"description":"Jump height","name":"JumpHeight","type":"expression"}],"objectGroups":[]},{"description":"the jump height of the object. Its value is always positive.","fullName":"Jump height","functionType":"ExpressionAndCondition","group":"3D jump configuration","name":"JumpHeight","sentence":"the jump height","events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[],"actions":[{"type":{"value":"SetReturnNumber"},"parameters":["JumpHeight"]}]}],"expressionType":{"type":"expression"},"parameters":[{"description":"Object","name":"Object","type":"object"},{"description":"Behavior","name":"Behavior","supplementaryInformation":"Jump3D::Jump3D","type":"behavior"}],"objectGroups":[]},{"description":"Return the jump speed to reach a given height.","fullName":"Jump height","functionType":"Expression","name":"JumpSpeedToReach","private":true,"sentence":"","events":[{"type":"BuiltinCommonInstructions::JsCode","inlineCode":["// Formulas used in this extension were generated from a math model.","// They are probably not understandable on their own.","// If you need to modify them or need to write new feature,","// please take a look to the platformer extension documentation:","// https://github.com/4ian/GDevelop/tree/master/Extensions/PlatformBehavior#readme","","const behaviorName = eventsFunctionContext.getBehaviorName(\"Behavior\");","const behavior = objects[0].getBehavior(behaviorName);","/** @type {float} */","const jumpHeight = -Math.abs(eventsFunctionContext.getArgument(\"JumpHeight\"));","","/** @type {float} */","const gravity = behavior._getGravity();","/** @type {float} */","const maxFallingSpeed = behavior._getMaxFallingSpeed();","/** @type {float} */","const jumpSustainTime = behavior._getJumpSustainDurationMax();","","const maxFallingSpeedReachedTime = maxFallingSpeed / gravity;","","// The implementation jumps from one quadratic resolution to another","// to find the right formula to use as the time is unknown.","","const sustainCase = (jumpHeight) => Math.sqrt(-jumpHeight * gravity * 2);","const maxFallingCase = (jumpHeight) => -gravity * jumpSustainTime + maxFallingSpeed","    + Math.sqrt(gravity * gravity * jumpSustainTime * jumpSustainTime - 2 * jumpHeight * gravity - maxFallingSpeed * maxFallingSpeed);","","let jumpSpeed = 0;","let peakTime = 0;","if (maxFallingSpeedReachedTime > jumpSustainTime) {","    // common case","    jumpSpeed = -gravity * jumpSustainTime + Math.sqrt(2 * gravity * gravity * jumpSustainTime * jumpSustainTime - 4 * jumpHeight * gravity);","    peakTime = (gravity * jumpSustainTime + jumpSpeed) / (2 * gravity);","    if (peakTime < jumpSustainTime) {","        jumpSpeed = sustainCase(jumpHeight);","    }","    else if (peakTime > maxFallingSpeedReachedTime) {","        jumpSpeed = maxFallingCase(jumpHeight);","    }","}","else {","    // affine case can't have a maximum","","    // sustain case","    jumpSpeed = sustainCase(jumpHeight);","    peakTime = jumpSpeed / gravity;","    if (peakTime > maxFallingSpeedReachedTime) {","        jumpSpeed = maxFallingCase(jumpHeight);","    }","}","","eventsFunctionContext.returnValue = jumpSpeed;",""],"parameterObjects":"Object","useStrict":true,"eventsSheetExpanded":true}],"expressionType":{"type":"expression"},"parameters":[{"description":"Object","name":"Object","type":"object"},{"description":"Behavior","name":"Behavior","supplementaryInformation":"Jump3D::Jump3D","type":"behavior"},{"description":"Jump height","name":"JumpHeight","type":"expression"}],"objectGroups":[]},{"fullName":"","functionType":"Action","name":"doStepPreEvents","sentence":"","events":[{"colorB":228,"colorG":176,"colorR":74,"creationTime":0,"name":"Start to jump","source":"","type":"BuiltinCommonInstructions::Group","events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"Jump3D::Jump3D::PropertyHasPressedJumpKey"},"parameters":["Object","Behavior"]}],"actions":[],"events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"Jump3D::Jump3D::PropertyCanJump"},"parameters":["Object","Behavior"]}],"actions":[{"type":{"value":"Jump3D::Jump3D::SetPropertyCurrentFallSpeed"},"parameters":["Object","Behavior","=","0"]},{"type":{"value":"ResetObjectTimer"},"parameters":["Object","\"_Jump3DExtension.SustainJump\""]},{"type":{"value":"Jump3D::Jump3D::SetPropertyState"},"parameters":["Object","Behavior","=","\"InTheAir\""]},{"type":{"value":"Jump3D::Jump3D::SetPropertyCurrentJumpSpeed"},"parameters":["Object","Behavior","=","JumpSpeed"]},{"type":{"value":"Jump3D::Jump3D::SetPropertyCurrentFallSpeed"},"parameters":["Object","Behavior","=","0"]},{"type":{"value":"Jump3D::Jump3D::SetPropertyCanJump"},"parameters":["Object","Behavior",""]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"CompareObjectTimer"},"parameters":["Object","\"_Jump3DExtension.SustainJump\"",">","JumpSustainDurationMax"]}],"actions":[{"type":{"value":"RemoveObjectTimer"},"parameters":["Object","\"_Jump3DExtension.SustainJump\""]}]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"inverted":true,"value":"Jump3D::Jump3D::PropertyHasPressedJumpKey"},"parameters":["Object","Behavior"]}],"actions":[{"type":{"value":"RemoveObjectTimer"},"parameters":["Object","\"_Jump3DExtension.SustainJump\""]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[],"actions":[{"type":{"value":"Jump3D::Jump3D::SetPropertyHasPressedJumpKey"},"parameters":["Object","Behavior","no"]}]}],"parameters":[]},{"type":"BuiltinCommonInstructions::Standard","conditions":[],"actions":[{"type":{"value":"Jump3D::Jump3D::SetPropertyPreviousJumpSpeed"},"parameters":["Object","Behavior","=","CurrentJumpSpeed"]},{"type":{"value":"Jump3D::Jump3D::SetPropertyPreviousFallSpeed"},"parameters":["Object","Behavior","=","CurrentFallSpeed"]},{"type":{"value":"Jump3D::Jump3D::SetPropertyPreviousState"},"parameters":["Object","Behavior","=","State"]}]},{"type":"BuiltinCommonInstructions::Comment","color":{"b":109,"g":230,"r":255,"textB":0,"textG":0,"textR":0},"comment":"Make the object fall every frame to check the floor."},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"Jump3D::Jump3D::CurrentVerticalSpeed"},"parameters":["Object","Behavior","=","0",""]}],"actions":[{"type":{"value":"Jump3D::Jump3D::Fall"},"parameters":["Object","Behavior",""]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"Jump3D::Jump3D::PropertyState"},"parameters":["Object","Behavior","!=","\"Idle\""]}],"actions":[],"events":[{"colorB":228,"colorG":176,"colorR":74,"creationTime":0,"name":"Jump speed","source":"","type":"BuiltinCommonInstructions::Group","events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"inverted":true,"value":"CompareObjectTimer"},"parameters":["Object","\"_Jump3DExtension.SustainJump\"",">=","0"]}],"actions":[{"type":{"value":"Jump3D::Jump3D::SetPropertyCurrentJumpSpeed"},"parameters":["Object","Behavior","=","max(0, CurrentJumpSpeed - Gravity * TimeDelta())"]}]},{"type":"BuiltinCommonInstructions::Comment","color":{"b":109,"g":230,"r":255,"textB":0,"textG":0,"textR":0},"comment":"Verlet integration"},{"type":"BuiltinCommonInstructions::Standard","conditions":[],"actions":[{"type":{"value":"Scene3D::Base3DBehavior::SetZ"},"parameters":["Object","Object3D","+","(PreviousJumpSpeed + CurrentJumpSpeed) / 2 * TimeDelta()"]}]}],"parameters":[]},{"colorB":228,"colorG":176,"colorR":74,"creationTime":0,"name":"Fall speed","source":"","type":"BuiltinCommonInstructions::Group","events":[{"type":"BuiltinCommonInstructions::Comment","color":{"b":109,"g":230,"r":255,"textB":0,"textG":0,"textR":0},"comment":"Verlet integration"},{"type":"BuiltinCommonInstructions::Standard","conditions":[],"actions":[{"type":{"value":"Jump3D::Jump3D::SetPropertyCurrentFallSpeed"},"parameters":["Object","Behavior","=","min(CurrentFallSpeed + Gravity * TimeDelta(), MaxFallingSpeed)"]},{"type":{"value":"Scene3D::Base3DBehavior::SetZ"},"parameters":["Object","Object3D","-","(PreviousFallSpeed + CurrentFallSpeed) / 2 * TimeDelta()"]}]}],"parameters":[]}]},{"colorB":228,"colorG":176,"colorR":74,"creationTime":0,"name":"Fall on the floor","source":"","type":"BuiltinCommonInstructions::Group","events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"Jump3D::Jump3D::PropertyShouldStopAtZero"},"parameters":["Object","Behavior"]},{"type":{"value":"Jump3D::BottomZ"},"parameters":["Object","<","0","Object",""]}],"actions":[{"type":{"value":"Jump3D::Jump3D::Land"},"parameters":["Object","Behavior",""]},{"type":{"value":"Jump3D::SetBottomZ"},"parameters":["Object","=","0","Object",""]}]}],"parameters":[]}],"parameters":[{"description":"Object","name":"Object","type":"object"},{"description":"Behavior","name":"Behavior","supplementaryInformation":"Jump3D::Jump3D","type":"behavior"}],"objectGroups":[]},{"description":"Simulate a press of the jump key.","fullName":"Simulate jump key press","functionType":"Action","group":"3D jump state","name":"SimulateJumpKey","sentence":"Simulate pressing Jump key for _PARAM0_","events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[],"actions":[{"type":{"value":"Jump3D::Jump3D::SetPropertyHasPressedJumpKey"},"parameters":["Object","Behavior","yes"]}]}],"parameters":[{"description":"Object","name":"Object","type":"object"},{"description":"Behavior","name":"Behavior","supplementaryInformation":"Jump3D::Jump3D","type":"behavior"}],"objectGroups":[]},{"description":"Separate from walls and land on platforms. 3D boxes rotated around X and Y axes are not supported.","fullName":"Separate from platforms","functionType":"Action","group":"3D jump state","name":"SeparateFromPlatforms","sentence":"Separate _PARAM0_ from platform _PARAM2_","events":[{"type":"BuiltinCommonInstructions::Comment","color":{"b":109,"g":230,"r":255,"textB":0,"textG":0,"textR":0},"comment":"Check platforms to land on."},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"CollisionNP"},"parameters":["Object","Platform","","",""]}],"actions":[],"events":[{"type":"BuiltinCommonInstructions::ForEach","object":"Platform","conditions":[{"type":{"value":"Jump3D::TopZ"},"parameters":["Object",">","Jump3D::BottomZ(Platform)","Object",""]},{"type":{"value":"Jump3D::TopZ"},"parameters":["Object","<","Jump3D::BottomZ(Platform) + Object.Behavior::VerticalSpeed() * TimeDelta()","Object",""]}],"actions":[{"type":{"value":"Jump3D::Jump3D::AbortJump"},"parameters":["Object","Behavior",""]},{"type":{"value":"Jump3D::SetTopZ"},"parameters":["Object","=","Jump3D::BottomZ(Platform)","Object",""]}]},{"type":"BuiltinCommonInstructions::ForEach","object":"Platform","conditions":[{"type":{"value":"Jump3D::BottomZ"},"parameters":["Object","<","Jump3D::TopZ(Platform)","Object",""]},{"type":{"value":"Jump3D::BottomZ"},"parameters":["Object",">","Jump3D::TopZ(Platform) + Object.Behavior::VerticalSpeed() * TimeDelta()","Object",""]}],"actions":[{"type":{"value":"Jump3D::Jump3D::Land"},"parameters":["Object","Behavior",""]},{"type":{"value":"Jump3D::SetBottomZ"},"parameters":["Object","=","Jump3D::TopZ(Platform)","Object",""]}]}]},{"type":"BuiltinCommonInstructions::Comment","color":{"b":109,"g":230,"r":255,"textB":0,"textG":0,"textR":0},"comment":"Separate from walls"},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"Jump3D::IsWithinZ"},"parameters":["","Platform","Object3D","Jump3D::BottomZ(Object)","Jump3D::TopZ(Object)",""]}],"actions":[{"type":{"value":"SeparateFromObjects"},"parameters":["Object","Platform",""]}]}],"parameters":[{"description":"Object","name":"Object","type":"object"},{"description":"Behavior","name":"Behavior","supplementaryInformation":"Jump3D::Jump3D","type":"behavior"},{"description":"Platform","name":"Platform","type":"objectList"},{"description":"3D capability","name":"Object3D","supplementaryInformation":"Scene3D::Base3DBehavior","type":"behavior"}],"objectGroups":[]},{"description":"Stop the object from falling and land on the floor. The object will start falling again the next frame.","fullName":"Land on the floor","functionType":"Action","group":"3D jump state","name":"Land","sentence":"Make _PARAM0_ land on the floor","events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[],"actions":[{"type":{"value":"Jump3D::Jump3D::SetPropertyState"},"parameters":["Object","Behavior","=","\"Idle\""]},{"type":{"value":"Jump3D::Jump3D::SetPropertyCurrentJumpSpeed"},"parameters":["Object","Behavior","=","0"]},{"type":{"value":"Jump3D::Jump3D::SetPropertyCurrentFallSpeed"},"parameters":["Object","Behavior","=","0"]},{"type":{"value":"Jump3D::Jump3D::SetPropertyCanJump"},"parameters":["Object","Behavior","yes"]}]}],"parameters":[{"description":"Object","name":"Object","type":"object"},{"description":"Behavior","name":"Behavior","supplementaryInformation":"Jump3D::Jump3D","type":"behavior"}],"objectGroups":[]},{"description":"Make the object fall from the floor.","fullName":"Fall from the floor","functionType":"Action","group":"3D jump state","name":"Fall","private":true,"sentence":"Make _PARAM0_ fall from the floor","events":[{"type":"BuiltinCommonInstructions::Comment","color":{"b":109,"g":230,"r":255,"textB":0,"textG":0,"textR":0},"comment":"Add a 1-frame delay in case collision checks are done after the simulate jump action."},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"Jump3D::Jump3D::PropertyState"},"parameters":["Object","Behavior","!=","\"Idle\""]}],"actions":[{"type":{"value":"Jump3D::Jump3D::SetPropertyCanJump"},"parameters":["Object","Behavior",""]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[],"actions":[{"type":{"value":"Jump3D::Jump3D::SetPropertyState"},"parameters":["Object","Behavior","=","\"InTheAir\""]},{"type":{"value":"Jump3D::Jump3D::SetPropertyCurrentJumpSpeed"},"parameters":["Object","Behavior","=","0"]}]}],"parameters":[{"description":"Object","name":"Object","type":"object"},{"description":"Behavior","name":"Behavior","supplementaryInformation":"Jump3D::Jump3D","type":"behavior"}],"objectGroups":[]},{"description":"Abort the current jump and stop the object vertically. This action doesn't have any effect when the character is not jumping.","fullName":"Abort jump","functionType":"Action","group":"3D jump state","name":"AbortJump","sentence":"Abort the current jump of _PARAM0_","events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[],"actions":[{"type":{"value":"Jump3D::Jump3D::SetPropertyCurrentJumpSpeed"},"parameters":["Object","Behavior","=","0"]},{"type":{"value":"Jump3D::Jump3D::SetPropertyCurrentFallSpeed"},"parameters":["Object","Behavior","=","0"]}]}],"parameters":[{"description":"Object","name":"Object","type":"object"},{"description":"Behavior","name":"Behavior","supplementaryInformation":"Jump3D::Jump3D","type":"behavior"}],"objectGroups":[]},{"description":"When this action is executed, the object is able to jump again, even if it is in the air: this can be useful to allow a double jump for example. This is not a permanent effect: you must call again this action everytime you want to allow the object to jump (apart if it's on the floor).","fullName":"Allow jumping again","functionType":"Action","group":"3D jump state","name":"SetCanJump","sentence":"Allow _PARAM0_ to jump again","events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[],"actions":[{"type":{"value":"Jump3D::Jump3D::SetPropertyCanJump"},"parameters":["Object","Behavior","yes"]}]}],"parameters":[{"description":"Object","name":"Object","type":"object"},{"description":"Behavior","name":"Behavior","supplementaryInformation":"Jump3D::Jump3D","type":"behavior"}],"objectGroups":[]},{"description":"Check if the object can jump.","fullName":"Can jump","functionType":"Condition","group":"3D jump state","name":"CanJump","sentence":"_PARAM0_ can jump","events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"Jump3D::Jump3D::PropertyCanJump"},"parameters":["Object","Behavior"]}],"actions":[{"type":{"value":"SetReturnBoolean"},"parameters":["True"]}]}],"parameters":[{"description":"Object","name":"Object","type":"object"},{"description":"Behavior","name":"Behavior","supplementaryInformation":"Jump3D::Jump3D","type":"behavior"}],"objectGroups":[]},{"description":"Check if the object is falling.\\nNote that the object can be flagged as jumping and falling at the same time: at the end of a jump, the fall speed becomes higher than the jump speed.","fullName":"Is falling","functionType":"Condition","group":"3D jump state","name":"IsFalling","sentence":"_PARAM0_ is falling","events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"Jump3D::Jump3D::CurrentVerticalSpeed"},"parameters":["Object","Behavior","<","0",""]}],"actions":[{"type":{"value":"SetReturnBoolean"},"parameters":["True"]}]}],"parameters":[{"description":"Object","name":"Object","type":"object"},{"description":"Behavior","name":"Behavior","supplementaryInformation":"Jump3D::Jump3D","type":"behavior"}],"objectGroups":[]},{"description":"Check if the object is jumping.","fullName":"Is jumping","functionType":"Condition","group":"3D jump state","name":"IsJumping","sentence":"_PARAM0_ is jumping","events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"Jump3D::Jump3D::PropertyCurrentJumpSpeed"},"parameters":["Object","Behavior",">","0"]}],"actions":[{"type":{"value":"SetReturnBoolean"},"parameters":["True"]}]}],"parameters":[{"description":"Object","name":"Object","type":"object"},{"description":"Behavior","name":"Behavior","supplementaryInformation":"Jump3D::Jump3D","type":"behavior"}],"objectGroups":[]},{"description":"Check if the object is on a platform.","fullName":"Is on floor","functionType":"Condition","group":"3D jump state","name":"IsOnFloor","sentence":"_PARAM0_ is on floor","events":[{"type":"BuiltinCommonInstructions::Comment","color":{"b":109,"g":230,"r":255,"textB":0,"textG":0,"textR":0},"comment":"Return the state from the previous frame because the actual state may change during the current frame according to collision."},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"Jump3D::Jump3D::PropertyPreviousState"},"parameters":["Object","Behavior","=","\"Idle\""]}],"actions":[{"type":{"value":"SetReturnBoolean"},"parameters":["True"]}]}],"parameters":[{"description":"Object","name":"Object","type":"object"},{"description":"Behavior","name":"Behavior","supplementaryInformation":"Jump3D::Jump3D","type":"behavior"}],"objectGroups":[]},{"description":"the current jump speed of the object. Its value is always positive.","fullName":"Current jump speed","functionType":"ExpressionAndCondition","group":"3D jump state","name":"CurrentJumpSpeed","sentence":"the current jump speed","events":[{"type":"BuiltinCommonInstructions::Comment","color":{"b":109,"g":230,"r":255,"textB":0,"textG":0,"textR":0},"comment":"Return the speed from the previous frame because the actual speed may change during the current frame according to collision."},{"type":"BuiltinCommonInstructions::Standard","conditions":[],"actions":[{"type":{"value":"SetReturnNumber"},"parameters":["PreviousJumpSpeed"]}]}],"expressionType":{"type":"expression"},"parameters":[{"description":"Object","name":"Object","type":"object"},{"description":"Behavior","name":"Behavior","supplementaryInformation":"Jump3D::Jump3D","type":"behavior"}],"objectGroups":[]},{"fullName":"","functionType":"ActionWithOperator","getterName":"CurrentJumpSpeed","name":"SetCurrentJumpSpeed","sentence":"","events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"Jump3D::Jump3D::PropertyState"},"parameters":["Object","Behavior","!=","\"Idle\""]}],"actions":[{"type":{"value":"Jump3D::Jump3D::SetPropertyCurrentJumpSpeed"},"parameters":["Object","Behavior","=","Value"]}]}],"parameters":[{"description":"Object","name":"Object","type":"object"},{"description":"Behavior","name":"Behavior","supplementaryInformation":"Jump3D::Jump3D","type":"behavior"}],"objectGroups":[]},{"description":"the current falling speed of the object. Its value is always positive.","fullName":"Current falling speed","functionType":"ExpressionAndCondition","group":"3D jump state","name":"CurrentFallSpeed","sentence":"the current falling speed","events":[{"type":"BuiltinCommonInstructions::Comment","color":{"b":109,"g":230,"r":255,"textB":0,"textG":0,"textR":0},"comment":"Return the speed from the previous frame because the actual speed may change during the current frame according to collision."},{"type":"BuiltinCommonInstructions::Standard","conditions":[],"actions":[{"type":{"value":"SetReturnNumber"},"parameters":["PreviousFallSpeed"]}]}],"expressionType":{"type":"expression"},"parameters":[{"description":"Object","name":"Object","type":"object"},{"description":"Behavior","name":"Behavior","supplementaryInformation":"Jump3D::Jump3D","type":"behavior"}],"objectGroups":[]},{"fullName":"","functionType":"ActionWithOperator","getterName":"CurrentFallSpeed","name":"SetCurrentFallSpeed","sentence":"","events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"Jump3D::Jump3D::PropertyState"},"parameters":["Object","Behavior","!=","\"Idle\""]}],"actions":[{"type":{"value":"Jump3D::Jump3D::SetPropertyCurrentFallSpeed"},"parameters":["Object","Behavior","=","Value"]}]}],"parameters":[{"description":"Object","name":"Object","type":"object"},{"description":"Behavior","name":"Behavior","supplementaryInformation":"Jump3D::Jump3D","type":"behavior"}],"objectGroups":[]},{"description":"the current speed of the object on Z axis. Its value is negative when the object falls.","fullName":"Current vertical speed","functionType":"ExpressionAndCondition","group":"3D jump state","name":"CurrentVerticalSpeed","sentence":"the current vertical speed","events":[{"type":"BuiltinCommonInstructions::Comment","color":{"b":109,"g":230,"r":255,"textB":0,"textG":0,"textR":0},"comment":"Return the speed from the previous frame because the actual speed may change during the current frame according to collision."},{"type":"BuiltinCommonInstructions::Standard","conditions":[],"actions":[{"type":{"value":"SetReturnNumber"},"parameters":["PreviousJumpSpeed - PreviousFallSpeed"]}]}],"expressionType":{"type":"expression"},"parameters":[{"description":"Object","name":"Object","type":"object"},{"description":"Behavior","name":"Behavior","supplementaryInformation":"Jump3D::Jump3D","type":"behavior"}],"objectGroups":[]},{"description":"the current speed of the object on Z axis. Its value is negative when the object falls.","fullName":"Actual current vertical speed","functionType":"ExpressionAndCondition","group":"3D jump state","name":"VerticalSpeed","private":true,"sentence":"the actual current vertical speed","events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[],"actions":[{"type":{"value":"SetReturnNumber"},"parameters":["CurrentJumpSpeed - CurrentFallSpeed"]}]}],"expressionType":{"type":"expression"},"parameters":[{"description":"Object","name":"Object","type":"object"},{"description":"Behavior","name":"Behavior","supplementaryInformation":"Jump3D::Jump3D","type":"behavior"}],"objectGroups":[]},{"description":"the maximum falling speed of the object. Its value is always positive.","fullName":"Maximum falling speed","functionType":"ExpressionAndCondition","group":"3D jump configuration","name":"MaxFallingSpeed","sentence":"the maximum falling speed","events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[],"actions":[{"type":{"value":"SetReturnNumber"},"parameters":["MaxFallingSpeed"]}]}],"expressionType":{"type":"expression"},"parameters":[{"description":"Object","name":"Object","type":"object"},{"description":"Behavior","name":"Behavior","supplementaryInformation":"Jump3D::Jump3D","type":"behavior"}],"objectGroups":[]},{"fullName":"","functionType":"ActionWithOperator","getterName":"MaxFallingSpeed","name":"SetMaxFallingSpeed","sentence":"","events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[],"actions":[{"type":{"value":"Jump3D::Jump3D::SetPropertyMaxFallingSpeed"},"parameters":["Object","Behavior","=","Value"]}]}],"parameters":[{"description":"Object","name":"Object","type":"object"},{"description":"Behavior","name":"Behavior","supplementaryInformation":"Jump3D::Jump3D","type":"behavior"}],"objectGroups":[]},{"description":"the gravity of the object. Its value is always positive.","fullName":"Gravity","functionType":"ExpressionAndCondition","group":"3D jump configuration","name":"Gravity","sentence":"the gravity","events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[],"actions":[{"type":{"value":"SetReturnNumber"},"parameters":["Gravity"]}]}],"expressionType":{"type":"expression"},"parameters":[{"description":"Object","name":"Object","type":"object"},{"description":"Behavior","name":"Behavior","supplementaryInformation":"Jump3D::Jump3D","type":"behavior"}],"objectGroups":[]},{"fullName":"","functionType":"ActionWithOperator","getterName":"Gravity","name":"SetGravity","sentence":"","events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[],"actions":[{"type":{"value":"Jump3D::Jump3D::SetPropertyGravity"},"parameters":["Object","Behavior","=","Value"]}]}],"parameters":[{"description":"Object","name":"Object","type":"object"},{"description":"Behavior","name":"Behavior","supplementaryInformation":"Jump3D::Jump3D","type":"behavior"}],"objectGroups":[]},{"description":"the jump sustain time of the object. Maximum time (in seconds) during which the jump strength is sustained if the jump key is held - allowing variable height jumps.","fullName":"Jump sustain time","functionType":"ExpressionAndCondition","group":"3D jump configuration","name":"JumpSustainDurationMax","sentence":"the jump sustain time","events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[],"actions":[{"type":{"value":"SetReturnNumber"},"parameters":["JumpSustainDurationMax"]}]}],"expressionType":{"type":"expression"},"parameters":[{"description":"Object","name":"Object","type":"object"},{"description":"Behavior","name":"Behavior","supplementaryInformation":"Jump3D::Jump3D","type":"behavior"}],"objectGroups":[]},{"fullName":"","functionType":"ActionWithOperator","getterName":"JumpSustainDurationMax","name":"SetJumpSustainDurationMax","sentence":"","events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[],"actions":[{"type":{"value":"Jump3D::Jump3D::SetPropertyJumpSustainDurationMax"},"parameters":["Object","Behavior","=","Value"]}]}],"parameters":[{"description":"Object","name":"Object","type":"object"},{"description":"Behavior","name":"Behavior","supplementaryInformation":"Jump3D::Jump3D","type":"behavior"}],"objectGroups":[]},{"description":"Check if stop falling when Z equals 0.","fullName":"Stop falling when Z equals 0","functionType":"Condition","group":"3D jump configuration","name":"ShouldStopAtZero","sentence":"_PARAM0_ stop falling when Z equals 0","events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"Jump3D::Jump3D::PropertyShouldStopAtZero"},"parameters":["Object","Behavior"]}],"actions":[{"type":{"value":"SetReturnBoolean"},"parameters":["True"]}]}],"parameters":[{"description":"Object","name":"Object","type":"object"},{"description":"Behavior","name":"Behavior","supplementaryInformation":"Jump3D::Jump3D","type":"behavior"}],"objectGroups":[]},{"description":"Change if stop falling when Z equals 0.","fullName":"Stop falling when Z equals 0","functionType":"Action","group":"3D jump configuration","name":"SetShouldStopAtZero","sentence":"_PARAM0_ stop falling when Z equals 0: _PARAM2_","events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"inverted":true,"value":"GetArgumentAsBoolean"},"parameters":["\"Value\""]}],"actions":[{"type":{"value":"Jump3D::Jump3D::SetPropertyShouldStopAtZero"},"parameters":["Object","Behavior","no"]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"GetArgumentAsBoolean"},"parameters":["\"Value\""]}],"actions":[{"type":{"value":"Jump3D::Jump3D::SetPropertyShouldStopAtZero"},"parameters":["Object","Behavior","yes"]}]}],"parameters":[{"description":"Object","name":"Object","type":"object"},{"description":"Behavior","name":"Behavior","supplementaryInformation":"Jump3D::Jump3D","type":"behavior"},{"defaultValue":"yes","description":"StopAtZero","name":"Value","optional":true,"type":"yesorno"}],"objectGroups":[]}],"propertyDescriptors":[{"value":"","type":"Behavior","label":"3D capability","description":"","group":"","extraInformation":["Scene3D::Base3DBehavior"],"name":"Object3D"},{"value":"150","type":"Number","label":"Jump height","description":"Its value is always positive.","group":"","extraInformation":[],"name":"JumpHeight"},{"value":"700","type":"Number","unit":"PixelSpeed","label":"Maximum falling speed","description":"Its value is always positive.","group":"","extraInformation":[],"name":"MaxFallingSpeed"},{"value":"1000","type":"Number","unit":"PixelAcceleration","label":"Gravity","description":"Its value is always positive.","group":"","extraInformation":[],"name":"Gravity"},{"value":"600","type":"Number","label":"Jump speed","description":"Its value is always positive.","group":"","extraInformation":[],"hidden":true,"name":"JumpSpeed"},{"value":"0.2","type":"Number","unit":"Second","label":"Jump sustain time","description":"Maximum time (in seconds) during which the jump strength is sustained if the jump key is held - allowing variable height jumps.","group":"","extraInformation":[],"name":"JumpSustainDurationMax"},{"value":"Idle","type":"Choice","label":"","description":"","group":"","extraInformation":["Idle","SustainJump","InTheAir"],"hidden":true,"name":"State"},{"value":"","type":"Number","unit":"PixelSpeed","label":"Current jump speed","description":"Its value is always positive.","group":"","extraInformation":[],"hidden":true,"name":"CurrentJumpSpeed"},{"value":"","type":"Number","unit":"PixelSpeed","label":"Current falling speed","description":"Its value is always positive.","group":"","extraInformation":[],"hidden":true,"name":"CurrentFallSpeed"},{"value":"","type":"Number","unit":"PixelSpeed","label":"","description":"","group":"","extraInformation":[],"hidden":true,"name":"PreviousJumpSpeed"},{"value":"","type":"Number","unit":"PixelSpeed","label":"","description":"","group":"","extraInformation":[],"hidden":true,"name":"PreviousFallSpeed"},{"value":"","type":"Boolean","label":"","description":"","group":"","extraInformation":[],"hidden":true,"name":"HasPressedJumpKey"},{"value":"true","type":"Boolean","label":"","description":"","group":"","extraInformation":[],"hidden":true,"name":"CanJump"},{"value":"true","type":"Boolean","label":"Stop falling when Z equals 0","description":"","group":"","extraInformation":[],"name":"ShouldStopAtZero"},{"value":"Idle","type":"String","label":"","description":"","group":"","extraInformation":[],"hidden":true,"name":"PreviousState"}],"sharedPropertyDescriptors":[]}],"eventsBasedObjects":[]},{"author":"","category":"Visual effect","extensionNamespace":"","fullName":"3D particle emitter","helpPath":"","iconUrl":"data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiPz48IURPQ1RZUEUgc3ZnIFBVQkxJQyAiLS8vVzNDLy9EVEQgU1ZHIDEuMS8vRU4iICJodHRwOi8vd3d3LnczLm9yZy9HcmFwaGljcy9TVkcvMS4xL0RURC9zdmcxMS5kdGQiPjxzdmcgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayIgdmVyc2lvbj0iMS4xIiBpZD0ibWRpLWZpcmUiIHdpZHRoPSIyNCIgaGVpZ2h0PSIyNCIgdmlld0JveD0iMCAwIDI0IDI0Ij48cGF0aCBkPSJNMTcuNjYgMTEuMkMxNy40MyAxMC45IDE3LjE1IDEwLjY0IDE2Ljg5IDEwLjM4QzE2LjIyIDkuNzggMTUuNDYgOS4zNSAxNC44MiA4LjcyQzEzLjMzIDcuMjYgMTMgNC44NSAxMy45NSAzQzEzIDMuMjMgMTIuMTcgMy43NSAxMS40NiA0LjMyQzguODcgNi40IDcuODUgMTAuMDcgOS4wNyAxMy4yMkM5LjExIDEzLjMyIDkuMTUgMTMuNDIgOS4xNSAxMy41NUM5LjE1IDEzLjc3IDkgMTMuOTcgOC44IDE0LjA1QzguNTcgMTQuMTUgOC4zMyAxNC4wOSA4LjE0IDEzLjkzQzguMDggMTMuODggOC4wNCAxMy44MyA4IDEzLjc2QzYuODcgMTIuMzMgNi42OSAxMC4yOCA3LjQ1IDguNjRDNS43OCAxMCA0Ljg3IDEyLjMgNSAxNC40N0M1LjA2IDE0Ljk3IDUuMTIgMTUuNDcgNS4yOSAxNS45N0M1LjQzIDE2LjU3IDUuNyAxNy4xNyA2IDE3LjdDNy4wOCAxOS40MyA4Ljk1IDIwLjY3IDEwLjk2IDIwLjkyQzEzLjEgMjEuMTkgMTUuMzkgMjAuOCAxNy4wMyAxOS4zMkMxOC44NiAxNy42NiAxOS41IDE1IDE4LjU2IDEyLjcyTDE4LjQzIDEyLjQ2QzE4LjIyIDEyIDE3LjY2IDExLjIgMTcuNjYgMTEuMk0xNC41IDE3LjVDMTQuMjIgMTcuNzQgMTMuNzYgMTggMTMuNCAxOC4xQzEyLjI4IDE4LjUgMTEuMTYgMTcuOTQgMTAuNSAxNy4yOEMxMS42OSAxNyAxMi40IDE2LjEyIDEyLjYxIDE1LjIzQzEyLjc4IDE0LjQzIDEyLjQ2IDEzLjc3IDEyLjMzIDEzQzEyLjIxIDEyLjI2IDEyLjIzIDExLjYzIDEyLjUgMTAuOTRDMTIuNjkgMTEuMzIgMTIuODkgMTEuNyAxMy4xMyAxMkMxMy45IDEzIDE1LjExIDEzLjQ0IDE1LjM3IDE0LjhDMTUuNDEgMTQuOTQgMTUuNDMgMTUuMDggMTUuNDMgMTUuMjNDMTUuNDYgMTYuMDUgMTUuMSAxNi45NSAxNC41IDE3LjVIMTQuNVoiIC8+PC9zdmc+","name":"ParticleEmitter3D","previewIconUrl":"https://asset-resources.gdevelop.io/public-resources/Icons/f2e5a34bf465f781866677762d385d6c8e9e8d203383f2df9a3b7e0fad6a2cb5_fire.svg","shortDescription":"Display a large number of particles to create visual effects.","version":"2.0.2","description":["Particle emitters can be used to display:","- Fire","- Smoke","- Splashes","- Lights","","Breaking change","- 2.0.0","  - Object properties for position and rotation have been removed. They must be set with the instance editor or the action.","- 1.0.0","  - Particles were 3 times too small"],"origin":{"identifier":"ParticleEmitter3D","name":"gdevelop-extension-store"},"tags":["3d","particle","explosion","fire","smoke","splash","light"],"authorIds":["IWykYNRvhCZBN3vEgKEbBPOR3Oc2"],"dependencies":[],"globalVariables":[],"sceneVariables":[],"eventsFunctions":[{"description":"Define helper classes JavaScript code.","fullName":"Define helper classes","functionType":"Action","name":"DefineHelperClasses","private":true,"sentence":"Define helper classes JavaScript code","events":[{"type":"BuiltinCommonInstructions::JsCode","inlineCode":["if (gdjs.__particleEmmiter3DExtension) {","    return;","}","","class ParticleEmitter3DRenderer extends gdjs.CustomRuntimeObject3DRenderer {","    constructor(","        object,","        instanceContainer,","        parent","    ) {","        super(object, instanceContainer, parent);","    }","","    _updateThreeGroup() {","        const threeObject3D = this.get3DRendererObject();","","        threeObject3D.rotation.set(","            gdjs.toRad(this._object.getRotationX()),","            gdjs.toRad(this._object.getRotationY()),","            -gdjs.toRad(this._object.angle)","        );","","        threeObject3D.position.set(","            this._object.getX(),","            -this._object.getY(),","            this._object.getZ()","        );","","        threeObject3D.scale.set(","            this._object.isFlippedX() ? -1 : 1,","            this._object.isFlippedY() ? -1 : 1,","            this._object.isFlippedZ() ? -1 : 1","        );","","        threeObject3D.visible = !this._object.hidden;","","        this._isContainerDirty = true;","    }","}","","/**"," * @param {string} colorString"," * @param {THREE.Vector4} threeColor"," */","const setThreeColor = (colorString, threeColor = new THREE.Vector4()) => {","    const integerColor = gdjs.rgbOrHexToRGBColor(colorString);","    threeColor.x = integerColor[0] / 255;","    threeColor.y = integerColor[1] / 255;","    threeColor.z = integerColor[2] / 255;","};","","/**"," * @param {string} integerOpacity"," * @param {THREE.Vector4} threeColor"," */","const setThreeOpacity = (integerOpacity, threeColor = new THREE.Vector4()) => {","    threeColor.w = integerOpacity / 255;","};","","class ParticleEmitterAdapter {","    /**","     * @param particleSystem {ParticleSystem}","     * @param colorOverLife {ColorOverLife}","     * @param sizeOverLife {SizeOverLife}","     * @param applyForce {ApplyForce}","     */","    constructor(particleSystem, colorOverLife, sizeOverLife, applyForce) {","        this.particleSystem = particleSystem;","        this.colorOverLife = colorOverLife;","        this.sizeOverLife = sizeOverLife;","        this.applyForce = applyForce;","    }","","    /**","     * @param startColor {string}","     */","    setStartColor(startColor) {","        setThreeColor(startColor, this.colorOverLife.color.color.keys[0][0]);","    }","","    /**","     * @param endColor {string}","     */","    setEndColor(endColor) {","        setThreeColor(endColor, this.colorOverLife.color.color.keys[1][0]);","    }","","    /**","     * @param startOpacity {number}","     */","    setStartOpacity(startOpacity) {","        this.colorOverLife.color.alpha.keys[0][0] = startOpacity / 255;","    }","","    /**","     * @param endOpacity {number}","     */","    setEndOpacity(endOpacity) {","        this.colorOverLife.color.alpha.keys[1][0] = endOpacity / 255;","    }","","    /**","     * @param flow {number}","     */","    setFlow(flow) {","        this.particleSystem.emissionOverTime.value = flow;","    }","","    /**","     * @param startMinSize {number}","     */","    setStartMinSize(startMinSize) {","        this.particleSystem.startSize.a = startMinSize;","    }","","    /**","     * @param startMaxSize {number}","     */","    setStartMaxSize(startMaxSize) {","        this.particleSystem.startSize.b = startMaxSize;","    }","","    /**","     * @param endScale {number}","     */","    setEndScale(endScale) {","        /** @type Bezier */","        const bezier = this.sizeOverLife.size.functions[0][0];","        bezier.p[0] = 1;","        bezier.p[1] = gdjs.evtTools.common.lerp(1, endScale, 1 / 3);","        bezier.p[2] = gdjs.evtTools.common.lerp(1, endScale, 2 / 3);","        bezier.p[3] = endScale;","    }","","    /**","     * @param startSpeedMin {number}","     */","    setStartSpeedMin(startSpeedMin) {","        this.particleSystem.startSpeed.a = startSpeedMin;","    }","","    /**","     * @param startSpeedMax {number}","     */","    setStartSpeedMax(startSpeedMax) {","        this.particleSystem.startSpeed.b = startSpeedMax;","    }","","    /**","     * @param lifespanMin {number}","     */","    setLifespanMin(lifespanMin) {","        this.particleSystem.startLife.a = lifespanMin;","    }","","    /**","     * @param lifespanMax {number}","     */","    setLifespanMax(lifespanMax) {","        this.particleSystem.startLife.b = lifespanMax;","    }","","    /**","     * @param duration {number}","     */","    setDuration(duration) {","        this.particleSystem.duration = duration || Number.POSITIVE_INFINITY;","    }","","    /**","     * @param areParticlesRelative {boolean}","     */","    setParticlesRelative(areParticlesRelative) {","        this.particleSystem.worldSpace = !areParticlesRelative;","    }","","    /**","     * @param sprayConeAngle {number}","     */","    setSprayConeAngle(sprayConeAngle) {","        if (0 < sprayConeAngle && sprayConeAngle <= 180) {","            if (!this.particleSystem.emitterShape.angle) {","                this.particleSystem.emitterShape = new ConeEmitter({ radius: 0.1, angle: Math.PI / 8 });","            }","            this.particleSystem.emitterShape.angle = sprayConeAngle * Math.PI / 180;","        }","        else {","            if (this.particleSystem.emitterShape.angle) {","                this.particleSystem.emitterShape = new PointEmitter();","            }","        }","    }","","    /**","     * @param blending {string}","     */","    setBlending(blendingString) {","        const blending =","            blendingString === \"Additive\" ? THREE.AdditiveBlending :","                blendingString === \"Normal\" ? THREE.NormalBlending :","                    blendingString === \"Subtractive\" ? THREE.SubtractiveBlending :","                        blendingString === \"Multiply\" ? THREE.MultiplyBlending :","                            blendingString === \"None\" ? THREE.NoBlending :","                                THREE.AdditiveBlending;","        // TODO This doesn't work.","        this.particleSystem.blending = blending;","    }","","    /**","     * @param gravity {number}","     */","    setGravity(gravity) {","        this.applyForce.magnitude.value = gravity;","    }","","    /**","     * @param gravityTop {string}","     */","    setGravityTop(gravityTop) {","        // TODO Make gravity absolute even when \"relative\" is enabled. ","        switch (gravityTop) {","            case \"Z+\":","                this.applyForce.direction.set(0, 0, -1);","                break;","","            case \"Y-\":","                this.applyForce.direction.set(0, 1, 0);","                break;","        }","    }","}","","","","/**"," * three.quarks v0.11.2 build Mon Jan 22 2024"," * https://github.com/Alchemist0823/three.quarks#readme"," * Copyright 2024 Alchemist0823 <the.forrest.sun@gmail.com>, MIT"," */","","class ParticleEmitter extends THREE.Object3D {","    constructor(system) {","        super();","        this.type = 'ParticleEmitter';","        this.system = system;","    }","    clone() {","        const system = this.system.clone();","        system.emitter.copy(this, true);","        return system.emitter;","    }","    dispose() { }","    extractFromCache(cache) {","        const values = [];","        for (const key in cache) {","            const data = cache[key];","            delete data.metadata;","            values.push(data);","        }","        return values;","    }","    toJSON(meta, options = {}) {","        const isRootObject = meta === undefined || typeof meta === 'string';","        const output = {};","        if (isRootObject) {","            meta = {","                geometries: {},","                materials: {},","                textures: {},","                images: {},","                shapes: {},","                skeletons: {},","                animations: {},","                nodes: {},","            };","            output.metadata = {","                version: 4.5,","                type: 'Object',","                generator: 'Object3D.toJSON',","            };","        }","        const object = {};","        object.uuid = this.uuid;","        object.type = this.type;","        if (this.name !== '')","            object.name = this.name;","        if (this.castShadow === true)","            object.castShadow = true;","        if (this.receiveShadow === true)","            object.receiveShadow = true;","        if (this.visible === false)","            object.visible = false;","        if (this.frustumCulled === false)","            object.frustumCulled = false;","        if (this.renderOrder !== 0)","            object.renderOrder = this.renderOrder;","        if (JSON.stringify(this.userData) !== '{}')","            object.userData = this.userData;","        object.layers = this.layers.mask;","        object.matrix = this.matrix.toArray();","        if (this.matrixAutoUpdate === false)","            object.matrixAutoUpdate = false;","        if (this.system !== null)","            object.ps = this.system.toJSON(meta, options);","        if (this.children.length > 0) {","            object.children = [];","            for (let i = 0; i < this.children.length; i++) {","                if (this.children[i].type !== 'ParticleSystemPreview') {","                    object.children.push(this.children[i].toJSON(meta).object);","                }","            }","        }","        if (isRootObject) {","            const geometries = this.extractFromCache(meta.geometries);","            const materials = this.extractFromCache(meta.materials);","            const textures = this.extractFromCache(meta.textures);","            const images = this.extractFromCache(meta.images);","            if (geometries.length > 0)","                output.geometries = geometries;","            if (materials.length > 0)","                output.materials = materials;","            if (textures.length > 0)","                output.textures = textures;","            if (images.length > 0)","                output.images = images;","        }","        output.object = object;","        return output;","    }","}","","class LinkedListNode {","    constructor(data) {","        this.data = data;","        this.next = null;","        this.prev = null;","    }","    hasPrev() {","        return this.prev !== null;","    }","    hasNext() {","        return this.next !== null;","    }","}","class LinkedList {","    constructor() {","        this.length = 0;","        this.head = this.tail = null;","    }","    isEmpty() {","        return this.head === null;","    }","    clear() {","        this.length = 0;","        this.head = this.tail = null;","    }","    front() {","        if (this.head === null)","            return null;","        return this.head.data;","    }","    back() {","        if (this.tail === null)","            return null;","        return this.tail.data;","    }","    dequeue() {","        if (this.head) {","            const value = this.head.data;","            this.head = this.head.next;","            if (!this.head) {","                this.tail = null;","            }","            else {","                this.head.prev = null;","            }","            this.length--;","            return value;","        }","        return undefined;","    }","    pop() {","        if (this.tail) {","            const value = this.tail.data;","            this.tail = this.tail.prev;","            if (!this.tail) {","                this.head = null;","            }","            else {","                this.tail.next = null;","            }","            this.length--;","            return value;","        }","        return undefined;","    }","    queue(data) {","        const node = new LinkedListNode(data);","        if (!this.tail) {","            this.tail = node;","        }","        if (this.head) {","            this.head.prev = node;","            node.next = this.head;","        }","        this.head = node;","        this.length++;","    }","    push(data) {","        const node = new LinkedListNode(data);","        if (!this.head) {","            this.head = node;","        }","        if (this.tail) {","            this.tail.next = node;","            node.prev = this.tail;","        }","        this.tail = node;","        this.length++;","    }","    insertBefore(node, data) {","        const newNode = new LinkedListNode(data);","        newNode.next = node;","        newNode.prev = node.prev;","        if (newNode.prev !== null) {","            newNode.prev.next = newNode;","        }","        newNode.next.prev = newNode;","        if (node == this.head) {","            this.head = newNode;","        }","        this.length++;","    }","    remove(data) {","        if (this.head === null || this.tail === null) {","            return;","        }","        let tempNode = this.head;","        if (data === this.head.data) {","            this.head = this.head.next;","        }","        if (data === this.tail.data) {","            this.tail = this.tail.prev;","        }","        while (tempNode.next !== null && tempNode.data !== data) {","            tempNode = tempNode.next;","        }","        if (tempNode.data === data) {","            if (tempNode.prev !== null)","                tempNode.prev.next = tempNode.next;","            if (tempNode.next !== null)","                tempNode.next.prev = tempNode.prev;","            this.length--;","        }","    }","    *values() {","        let current = this.head;","        while (current !== null) {","            yield current.data;","            current = current.next;","        }","    }","}","","class NodeParticle {","    constructor() {","        this.position = new THREE.Vector3();","        this.velocity = new THREE.Vector3();","        this.age = 0;","        this.life = 1;","        this.size = 1;","        this.rotation = 0;","        this.color = new THREE.Vector4(1, 1, 1, 1);","        this.uvTile = 0;","    }","    get died() {","        return this.age >= this.life;","    }","    reset() {","        this.position.set(0, 0, 0);","        this.velocity.set(0, 0, 0);","        this.age = 0;","        this.life = 1;","        this.size = 1;","        this.rotation = 0;","        this.color.set(1, 1, 1, 1);","        this.uvTile = 0;","    }","}","class SpriteParticle {","    constructor() {","        this.startSpeed = 0;","        this.startColor = new THREE.Vector4();","        this.startSize = 1;","        this.position = new THREE.Vector3();","        this.velocity = new THREE.Vector3();","        this.age = 0;","        this.life = 1;","        this.size = 1;","        this.speedModifier = 1;","        this.rotation = 0;","        this.color = new THREE.Vector4();","        this.uvTile = 0;","    }","    get died() {","        return this.age >= this.life;","    }","}","class RecordState {","    constructor(position, size, color) {","        this.position = position;","        this.size = size;","        this.color = color;","    }","}","class TrailParticle {","    constructor() {","        this.startSpeed = 0;","        this.startColor = new THREE.Vector4();","        this.startSize = 1;","        this.position = new THREE.Vector3();","        this.velocity = new THREE.Vector3();","        this.age = 0;","        this.life = 1;","        this.size = 1;","        this.length = 100;","        this.speedModifier = 1;","        this.color = new THREE.Vector4();","        this.previous = new LinkedList();","        this.uvTile = 0;","    }","    update() {","        if (this.age <= this.life) {","            this.previous.push(new RecordState(this.position.clone(), this.size, this.color.clone()));","        }","        else {","            if (this.previous.length > 0) {","                this.previous.dequeue();","            }","        }","        while (this.previous.length > this.length) {","            this.previous.dequeue();","        }","    }","    get died() {","        return this.age >= this.life;","    }","    reset() {","        this.previous.clear();","    }","}","","class Bezier {","    constructor(p1, p2, p3, p4) {","        this.p = [p1, p2, p3, p4];","    }","    genValue(t) {","        const t2 = t * t;","        const t3 = t * t * t;","        const mt = 1 - t;","        const mt2 = mt * mt;","        const mt3 = mt2 * mt;","        return this.p[0] * mt3 + this.p[1] * mt2 * t * 3 + this.p[2] * mt * t2 * 3 + this.p[3] * t3;","    }","    derivativeCoefficients(points) {","        const dpoints = [];","        for (let p = points, c = p.length - 1; c > 0; c--) {","            const list = [];","            for (let j = 0; j < c; j++) {","                const dpt = c * (p[j + 1] - p[j]);","                list.push(dpt);","            }","            dpoints.push(list);","            p = list;","        }","        return dpoints;","    }","    getSlope(t) {","        const p = this.derivativeCoefficients(this.p)[0];","        const mt = 1 - t;","        const a = mt * mt;","        const b = mt * t * 2;","        const c = t * t;","        return a * p[0] + b * p[1] + c * p[2];","    }","    controlCurve(d0, d1) {","        this.p[1] = d0 / 3 + this.p[0];","        this.p[2] = this.p[3] - d1 / 3;","    }","    hull(t) {","        let p = this.p;","        let _p = [], pt, idx = 0, i = 0, l = 0;","        const q = [];","        q[idx++] = p[0];","        q[idx++] = p[1];","        q[idx++] = p[2];","        q[idx++] = p[3];","        while (p.length > 1) {","            _p = [];","            for (i = 0, l = p.length - 1; i < l; i++) {","                pt = t * p[i] + (1 - t) * p[i + 1];","                q[idx++] = pt;","                _p.push(pt);","            }","            p = _p;","        }","        return q;","    }","    split(t) {","        const q = this.hull(t);","        const result = {","            left: new Bezier(q[0], q[4], q[7], q[9]),","            right: new Bezier(q[9], q[8], q[6], q[3]),","            span: q","        };","        return result;","    }","    clone() {","        return new Bezier(this.p[0], this.p[1], this.p[2], this.p[3]);","    }","    toJSON() {","        return {","            p0: this.p[0],","            p1: this.p[1],","            p2: this.p[2],","            p3: this.p[3],","        };","    }","    static fromJSON(json) {","        return new Bezier(json.p0, json.p1, json.p2, json.p3);","    }","}","","const ColorToJSON = (color) => {","    return { r: color.x, g: color.y, b: color.z, a: color.w };","};","const JSONToColor = (json) => {","    return new THREE.Vector4(json.r, json.g, json.b, json.a);","};","const JSONToValue = (json, type) => {","    switch (type) {","        case 'Vector3':","            return new THREE.Vector3(json.x, json.y, json.z);","        case 'Vector4':","            return new THREE.Vector4(json.x, json.y, json.z, json.w);","        case 'Color':","            return new THREE.Vector3(json.r, json.g, json.b);","        case 'Number':","            return json;","        default:","            return json;","    }","};","const ValueToJSON = (value, type) => {","    switch (type) {","        case 'Vector3':","            return { x: value.x, y: value.y, z: value.z };","        case 'Vector4':","            return { x: value.x, y: value.y, z: value.z, w: value.w };","        case 'Color':","            return { r: value.x, g: value.y, b: value.z };","        case 'Number':","            return value;","        default:","            return value;","    }","};","","class RandomColor {","    constructor(a, b) {","        this.a = a;","        this.b = b;","        this.type = \"value\";","    }","    genColor(color) {","        const rand = Math.random();","        return color.copy(this.a).lerp(this.b, rand);","    }","    toJSON() {","        return {","            type: \"RandomColor\",","            a: ColorToJSON(this.a),","            b: ColorToJSON(this.b),","        };","    }","    static fromJSON(json) {","        return new RandomColor(JSONToColor(json.a), JSONToColor(json.b));","    }","    clone() {","        return new RandomColor(this.a.clone(), this.b.clone());","    }","}","","class ColorRange {","    constructor(a, b) {","        this.a = a;","        this.b = b;","        this.type = 'value';","    }","    genColor(color, t) {","        return color.copy(this.a).lerp(this.b, Math.random());","    }","    toJSON() {","        return {","            type: 'ColorRange',","            a: ColorToJSON(this.a),","            b: ColorToJSON(this.b),","        };","    }","    static fromJSON(json) {","        return new ColorRange(JSONToColor(json.a), JSONToColor(json.b));","    }","    clone() {","        return new ColorRange(this.a.clone(), this.b.clone());","    }","}","","class ContinuousLinearFunction {","    constructor(keys, subType) {","        this.subType = subType;","        this.type = 'function';","        this.keys = keys;","    }","    findKey(t) {","        let mid = 0;","        let left = 0, right = this.keys.length - 1;","        while (left + 1 < right) {","            mid = Math.floor((left + right) / 2);","            if (t < this.getStartX(mid))","                right = mid - 1;","            else if (t > this.getEndX(mid))","                left = mid + 1;","            else","                return mid;","        }","        for (let i = left; i <= right; i++) {","            if (t >= this.getStartX(i) && t <= this.getEndX(i))","                return i;","        }","        return -1;","    }","    getStartX(index) {","        return this.keys[index][1];","    }","    getEndX(index) {","        if (index + 1 < this.keys.length)","            return this.keys[index + 1][1];","        return 1;","    }","    genValue(value, t) {","        const index = this.findKey(t);","        if (this.subType === 'Number') {","            if (index === -1) {","                return this.keys[0][0];","            }","            else if (index + 1 >= this.keys.length) {","                return this.keys[this.keys.length - 1][0];","            }","            return ((this.keys[index + 1][0] - this.keys[index][0]) *","                ((t - this.getStartX(index)) / (this.getEndX(index) - this.getStartX(index))) +","                this.keys[index][0]);","        }","        else {","            if (index === -1) {","                return value.copy(this.keys[0][0]);","            }","            if (index + 1 >= this.keys.length) {","                return value.copy(this.keys[this.keys.length - 1][0]);","            }","            return value","                .copy(this.keys[index][0])","                .lerp(this.keys[index + 1][0], (t - this.getStartX(index)) / (this.getEndX(index) - this.getStartX(index)));","        }","    }","    toJSON() {","        this.keys[0][0].constructor.name;","        return {","            type: 'CLinearFunction',","            subType: this.subType,","            keys: this.keys.map(([color, pos]) => ({ value: ValueToJSON(color, this.subType), pos: pos })),","        };","    }","    static fromJSON(json) {","        return new ContinuousLinearFunction(json.keys.map((pair) => [JSONToValue(pair.value, json.subType), pair.pos]), json.subType);","    }","    clone() {","        if (this.subType === 'Number') {","            return new ContinuousLinearFunction(this.keys.map(([value, pos]) => [value, pos]), this.subType);","        }","        else {","            return new ContinuousLinearFunction(this.keys.map(([value, pos]) => [value.clone(), pos]), this.subType);","        }","    }","}","","const tempVec3 = new THREE.Vector3();","class Gradient {","    constructor(color = [","        [new THREE.Vector3(0, 0, 0), 0],","        [new THREE.Vector3(1, 1, 1), 0],","    ], alpha = [","        [1, 0],","        [1, 1],","    ]) {","        this.type = 'function';","        this.color = new ContinuousLinearFunction(color, 'Color');","        this.alpha = new ContinuousLinearFunction(alpha, 'Number');","    }","    genColor(color, t) {","        this.color.genValue(tempVec3, t);","        return color.set(tempVec3.x, tempVec3.y, tempVec3.z, this.alpha.genValue(1, t));","    }","    toJSON() {","        return {","            type: 'Gradient',","            color: this.color.toJSON(),","            alpha: this.alpha.toJSON(),","        };","    }","    static fromJSON(json) {","        if (json.functions) {","            const keys = json.functions.map((func) => [ColorRange.fromJSON(func.function).a, func.start]);","            if (json.functions.length > 0) {","                keys.push([ColorRange.fromJSON(json.functions[json.functions.length - 1].function).b, 1]);","            }","            return new Gradient(keys.map((key) => [new THREE.Vector3(key[0].x, key[0].y, key[0].z), key[1]]), keys.map((key) => [key[0].w, key[1]]));","        }","        else {","            const gradient = new Gradient();","            gradient.alpha = ContinuousLinearFunction.fromJSON(json.alpha);","            gradient.color = ContinuousLinearFunction.fromJSON(json.color);","            return gradient;","        }","    }","    clone() {","        const gradient = new Gradient();","        gradient.alpha = this.alpha.clone();","        gradient.color = this.color.clone();","        return gradient;","    }","}","","const tempColor = new THREE.Vector4();","class RandomColorBetweenGradient {","    constructor(gradient1, gradient2) {","        this.type = 'memorizedFunction';","        this.gradient1 = gradient1;","        this.gradient2 = gradient2;","    }","    startGen(memory) {","        memory.rand = Math.random();","    }","    genColor(color, t, memory) {","        this.gradient1.genColor(color, t);","        this.gradient2.genColor(tempColor, t);","        if (memory && memory.rand) {","            color.lerp(tempColor, memory.rand);","        }","        else {","            color.lerp(tempColor, Math.random());","        }","        return color;","    }","    toJSON() {","        return {","            type: 'RandomColorBetweenGradient',","            gradient1: this.gradient1.toJSON(),","            gradient2: this.gradient2.toJSON(),","        };","    }","    static fromJSON(json) {","        return new RandomColorBetweenGradient(Gradient.fromJSON(json.gradient1), Gradient.fromJSON(json.gradient2));","    }","    clone() {","        return new RandomColorBetweenGradient(this.gradient1.clone(), this.gradient2.clone());","    }","}","","class ConstantColor {","    constructor(color) {","        this.color = color;","        this.type = 'value';","    }","    genColor(color) {","        return color.copy(this.color);","    }","    toJSON() {","        return {","            type: 'ConstantColor',","            color: ColorToJSON(this.color),","        };","    }","    static fromJSON(json) {","        return new ConstantColor(JSONToColor(json.color));","    }","    clone() {","        return new ConstantColor(this.color.clone());","    }","}","function ColorGeneratorFromJSON(json) {","    switch (json.type) {","        case 'ConstantColor':","            return ConstantColor.fromJSON(json);","        case 'ColorRange':","            return ColorRange.fromJSON(json);","        case 'RandomColor':","            return RandomColor.fromJSON(json);","        case 'Gradient':","            return Gradient.fromJSON(json);","        case 'RandomColorBetweenGradient':","            return RandomColorBetweenGradient.fromJSON(json);","        default:","            return new ConstantColor(new THREE.Vector4(1, 1, 1, 1));","    }","}","","class ConstantValue {","    constructor(value) {","        this.value = value;","        this.type = 'value';","    }","    genValue() {","        return this.value;","    }","    toJSON() {","        return {","            type: \"ConstantValue\",","            value: this.value","        };","    }","    static fromJSON(json) {","        return new ConstantValue(json.value);","    }","    clone() {","        return new ConstantValue(this.value);","    }","}","","class IntervalValue {","    constructor(a, b) {","        this.a = a;","        this.b = b;","        this.type = 'value';","    }","    genValue() {","        return THREE.MathUtils.lerp(this.a, this.b, Math.random());","    }","    toJSON() {","        return {","            type: 'IntervalValue',","            a: this.a,","            b: this.b,","        };","    }","    static fromJSON(json) {","        return new IntervalValue(json.a, json.b);","    }","    clone() {","        return new IntervalValue(this.a, this.b);","    }","}","","class PiecewiseFunction {","    constructor() {","        this.functions = new Array();","    }","    findFunction(t) {","        let mid = 0;","        let left = 0, right = this.functions.length - 1;","        while (left + 1 < right) {","            mid = Math.floor((left + right) / 2);","            if (t < this.getStartX(mid))","                right = mid - 1;","            else if (t > this.getEndX(mid))","                left = mid + 1;","            else","                return mid;","        }","        for (let i = left; i <= right; i++) {","            if (t >= this.functions[i][1] && t <= this.getEndX(i))","                return i;","        }","        return -1;","    }","    getStartX(index) {","        return this.functions[index][1];","    }","    setStartX(index, x) {","        if (index > 0)","            this.functions[index][1] = x;","    }","    getEndX(index) {","        if (index + 1 < this.functions.length)","            return this.functions[index + 1][1];","        return 1;","    }","    setEndX(index, x) {","        if (index + 1 < this.functions.length)","            this.functions[index + 1][1] = x;","    }","    insertFunction(t, func) {","        const index = this.findFunction(t);","        this.functions.splice(index + 1, 0, [func, t]);","    }","    removeFunction(index) {","        return this.functions.splice(index, 1)[0][0];","    }","    getFunction(index) {","        return this.functions[index][0];","    }","    setFunction(index, func) {","        this.functions[index][0] = func;","    }","    get numOfFunctions() {","        return this.functions.length;","    }","}","","class PiecewiseBezier extends PiecewiseFunction {","    constructor(curves = [[new Bezier(0, 1.0 / 3, 1.0 / 3 * 2, 1), 0]]) {","        super();","        this.type = \"function\";","        this.functions = curves;","    }","    genValue(t = 0) {","        const index = this.findFunction(t);","        if (index === -1) {","            return 0;","        }","        return this.functions[index][0].genValue((t - this.getStartX(index)) / (this.getEndX(index) - this.getStartX(index)));","    }","    toSVG(length, segments) {","        if (segments < 1)","            return \"\";","        let result = [\"M\", 0, this.functions[0][0].p[0]].join(\" \");","        for (let i = 1.0 / segments; i <= 1; i += 1.0 / segments) {","            result = [result, \"L\", i * length, this.genValue(i)].join(\" \");","        }","        return result;","    }","    toJSON() {","        return {","            type: \"PiecewiseBezier\",","            functions: this.functions.map(([bezier, start]) => ({ function: bezier.toJSON(), start: start })),","        };","    }","    static fromJSON(json) {","        return new PiecewiseBezier(json.functions.map((piecewiseFunction) => ([Bezier.fromJSON(piecewiseFunction.function), piecewiseFunction.start])));","    }","    clone() {","        return new PiecewiseBezier(this.functions.map(([bezier, start]) => ([bezier.clone(), start])));","    }","}","","function ValueGeneratorFromJSON(json) {","    switch (json.type) {","        case 'ConstantValue':","            return ConstantValue.fromJSON(json);","        case 'IntervalValue':","            return IntervalValue.fromJSON(json);","        case 'PiecewiseBezier':","            return PiecewiseBezier.fromJSON(json);","        default:","            return new ConstantValue(0);","    }","}","","class RandomQuatGenerator {","    constructor() {","        this.type = \"rotation\";","    }","    genValue(quat, t) {","        let x, y, z, u, v, w;","        do {","            x = Math.random() * 2 - 1;","            y = Math.random() * 2 - 1;","            z = x * x + y * y;","        } while (z > 1);","        do {","            u = Math.random() * 2 - 1;","            v = Math.random() * 2 - 1;","            w = u * u + v * v;","        } while (w > 1);","        const s = Math.sqrt((1 - z) / w);","        quat.set(x, y, s * u, s * v);","        return quat;","    }","    toJSON() {","        return {","            type: \"RandomQuat\"","        };","    }","    static fromJSON(json) {","        return new RandomQuatGenerator();","    }","    clone() {","        return new RandomQuatGenerator();","    }","}","","class AxisAngleGenerator {","    constructor(axis, angle) {","        this.axis = axis;","        this.angle = angle;","        this.type = 'rotation';","    }","    genValue(quat, t) {","        return quat.setFromAxisAngle(this.axis, this.angle.genValue(t));","    }","    toJSON() {","        return {","            type: 'AxisAngle',","            axis: { x: this.axis.x, y: this.axis.y, z: this.axis.z },","            angle: this.angle.toJSON(),","        };","    }","    static fromJSON(json) {","        return new AxisAngleGenerator(new THREE.Vector3(json.axis.x, json.axis.y, json.axis.z), ValueGeneratorFromJSON(json.angle));","    }","    clone() {","        return new AxisAngleGenerator(this.axis.clone(), this.angle.clone());","    }","}","","class EulerGenerator {","    constructor(angleX, angleY, angleZ, eulerOrder) {","        this.angleX = angleX;","        this.angleY = angleY;","        this.angleZ = angleZ;","        this.type = 'rotation';","        this.eular = new THREE.Euler(0, 0, 0, eulerOrder);","    }","    genValue(quat, t) {","        this.eular.set(this.angleX.genValue(t), this.angleY.genValue(t), this.angleZ.genValue(t));","        return quat.setFromEuler(this.eular);","    }","    toJSON() {","        return {","            type: 'Euler',","            angleX: this.angleX.toJSON(),","            angleY: this.angleY.toJSON(),","            angleZ: this.angleZ.toJSON(),","            eulerOrder: this.eular.order,","        };","    }","    static fromJSON(json) {","        return new EulerGenerator(ValueGeneratorFromJSON(json.angleX), ValueGeneratorFromJSON(json.angleY), ValueGeneratorFromJSON(json.angleZ), json.eulerOrder);","    }","    clone() {","        return new EulerGenerator(this.angleX, this.angleY, this.angleZ, this.eular.order);","    }","}","","function RotationGeneratorFromJSON(json) {","    switch (json.type) {","        case 'AxisAngle':","            return AxisAngleGenerator.fromJSON(json);","        case 'Euler':","            return EulerGenerator.fromJSON(json);","        case 'RandomQuat':","            return RandomQuatGenerator.fromJSON(json);","        default:","            return new RandomQuatGenerator();","    }","}","","function GeneratorFromJSON(json) {","    switch (json.type) {","        case 'ConstantValue':","        case 'IntervalValue':","        case 'PiecewiseBezier':","            return ValueGeneratorFromJSON(json);","        case 'AxisAngle':","        case 'RandomQuat':","        case 'Euler':","            return RotationGeneratorFromJSON(json);","        default:","            return new ConstantValue(0);","    }","}","","class ColorOverLife {","    constructor(color) {","        this.color = color;","        this.type = 'ColorOverLife';","    }","    initialize(particle) {","        if (this.color.type === 'memorizedFunction') {","            particle.colorOverLifeMemory = {};","            this.color.startGen(particle.colorOverLifeMemory);","        }","    }","    update(particle, delta) {","        if (this.color.type === 'memorizedFunction') {","            this.color.genColor(particle.color, particle.age / particle.life, particle.colorOverLifeMemory);","        }","        else {","            this.color.genColor(particle.color, particle.age / particle.life);","        }","        particle.color.x *= particle.startColor.x;","        particle.color.y *= particle.startColor.y;","        particle.color.z *= particle.startColor.z;","        particle.color.w *= particle.startColor.w;","    }","    frameUpdate(delta) { }","    toJSON() {","        return {","            type: this.type,","            color: this.color.toJSON(),","        };","    }","    static fromJSON(json) {","        return new ColorOverLife(ColorGeneratorFromJSON(json.color));","    }","    clone() {","        return new ColorOverLife(this.color.clone());","    }","    reset() { }","}","","class RotationOverLife {","    constructor(angularVelocity) {","        this.angularVelocity = angularVelocity;","        this.type = 'RotationOverLife';","        this.dynamic = !(angularVelocity instanceof ConstantValue || angularVelocity instanceof IntervalValue);","    }","    initialize(particle) {","        this.dynamic = !(this.angularVelocity instanceof ConstantValue || this.angularVelocity instanceof IntervalValue);","        if (!this.dynamic && typeof particle.rotation === 'number') {","            particle.angularVelocity = this.angularVelocity.genValue();","        }","    }","    update(particle, delta) {","        if (!this.dynamic) {","            if (typeof particle.rotation === 'number') {","                particle.rotation += delta * particle.angularVelocity;","            }","        }","        else {","            if (typeof particle.rotation === 'number') {","                particle.rotation +=","                    delta * this.angularVelocity.genValue(particle.age / particle.life);","            }","        }","    }","    toJSON() {","        return {","            type: this.type,","            angularVelocity: this.angularVelocity.toJSON(),","        };","    }","    static fromJSON(json) {","        return new RotationOverLife(ValueGeneratorFromJSON(json.angularVelocity));","    }","    frameUpdate(delta) { }","    clone() {","        return new RotationOverLife(this.angularVelocity.clone());","    }","    reset() { }","}","","const IdentityQuaternion = new THREE.Quaternion();","class Rotation3DOverLife {","    constructor(angularVelocity) {","        this.angularVelocity = angularVelocity;","        this.type = 'Rotation3DOverLife';","        this.tempQuat = new THREE.Quaternion();","        this.dynamic = !(angularVelocity instanceof RandomQuatGenerator);","    }","    initialize(particle) {","        this.dynamic = !(this.angularVelocity instanceof RandomQuatGenerator);","        if (particle.rotation instanceof THREE.Quaternion) {","            particle.angularVelocity = new THREE.Quaternion();","            this.angularVelocity.genValue(particle.angularVelocity);","        }","    }","    update(particle, delta) {","        if (particle.rotation instanceof THREE.Quaternion) {","            if (!this.dynamic) {","                this.tempQuat.slerpQuaternions(IdentityQuaternion, particle.angularVelocity, delta);","                particle.rotation.multiply(this.tempQuat);","            }","            else {","                this.angularVelocity.genValue(this.tempQuat, particle.age / particle.life);","                this.tempQuat.slerpQuaternions(IdentityQuaternion, this.tempQuat, delta);","                particle.rotation.multiply(this.tempQuat);","            }","        }","    }","    toJSON() {","        return {","            type: this.type,","            angularVelocity: this.angularVelocity.toJSON(),","        };","    }","    static fromJSON(json) {","        return new Rotation3DOverLife(RotationGeneratorFromJSON(json.angularVelocity));","    }","    frameUpdate(delta) { }","    clone() {","        return new Rotation3DOverLife(this.angularVelocity.clone());","    }","    reset() { }","}","","class ForceOverLife {","    initialize(particle) { }","    constructor(x, y, z) {","        this.x = x;","        this.y = y;","        this.z = z;","        this.type = 'ForceOverLife';","        this._temp = new THREE.Vector3();","    }","    update(particle, delta) {","        this._temp.set(this.x.genValue(particle.age / particle.life), this.y.genValue(particle.age / particle.life), this.z.genValue(particle.age / particle.life));","        particle.velocity.addScaledVector(this._temp, delta);","    }","    toJSON() {","        return {","            type: this.type,","            x: this.x.toJSON(),","            y: this.y.toJSON(),","            z: this.z.toJSON(),","        };","    }","    static fromJSON(json) {","        return new ForceOverLife(ValueGeneratorFromJSON(json.x), ValueGeneratorFromJSON(json.y), ValueGeneratorFromJSON(json.z));","    }","    frameUpdate(delta) { }","    clone() {","        return new ForceOverLife(this.x.clone(), this.y.clone(), this.z.clone());","    }","    reset() { }","}","","class SizeOverLife {","    initialize(particle) {","    }","    constructor(size) {","        this.size = size;","        this.type = 'SizeOverLife';","    }","    update(particle) {","        particle.size = particle.startSize * this.size.genValue(particle.age / particle.life);","    }","    toJSON() {","        return {","            type: this.type,","            size: this.size.toJSON(),","        };","    }","    static fromJSON(json) {","        return new SizeOverLife(ValueGeneratorFromJSON(json.size));","    }","    frameUpdate(delta) {","    }","    clone() {","        return new SizeOverLife(this.size.clone());","    }","    reset() {","    }","}","","class SpeedOverLife {","    initialize(particle) {","    }","    constructor(speed) {","        this.speed = speed;","        this.type = 'SpeedOverLife';","    }","    update(particle) {","        particle.speedModifier = this.speed.genValue(particle.age / particle.life);","    }","    toJSON() {","        return {","            type: this.type,","            speed: this.speed.toJSON(),","        };","    }","    static fromJSON(json) {","        return new SpeedOverLife(ValueGeneratorFromJSON(json.speed));","    }","    frameUpdate(delta) {","    }","    clone() {","        return new SpeedOverLife(this.speed.clone());","    }","    reset() {","    }","}","","class FrameOverLife {","    constructor(frame) {","        this.frame = frame;","        this.type = 'FrameOverLife';","    }","    initialize(particle) {","        if (!(this.frame instanceof PiecewiseBezier)) {","            particle.uvTile = Math.floor(this.frame.genValue(0) + 0.001);","        }","    }","    update(particle, delta) {","        if (this.frame instanceof PiecewiseBezier) {","            particle.uvTile = Math.floor(this.frame.genValue(particle.age / particle.life) + 0.001);","        }","    }","    frameUpdate(delta) { }","    toJSON() {","        return {","            type: this.type,","            frame: this.frame.toJSON(),","        };","    }","    static fromJSON(json) {","        return new FrameOverLife(ValueGeneratorFromJSON(json.frame));","    }","    clone() {","        return new FrameOverLife(this.frame.clone());","    }","    reset() { }","}","","new THREE.Vector3(0, 0, 1);","class OrbitOverLife {","    constructor(orbitSpeed, axis = new THREE.Vector3(0, 1, 0)) {","        this.orbitSpeed = orbitSpeed;","        this.axis = axis;","        this.type = 'OrbitOverLife';","        this.temp = new THREE.Vector3();","        this.rotation = new THREE.Quaternion();","        this.line = new THREE.Line3();","    }","    initialize(particle) {","    }","    update(particle, delta) {","        this.line.set(new THREE.Vector3(0, 0, 0), this.axis);","        this.line.closestPointToPoint(particle.position, false, this.temp);","        this.rotation.setFromAxisAngle(this.axis, this.orbitSpeed.genValue(particle.age / particle.life) * delta);","        particle.position.sub(this.temp);","        particle.position.applyQuaternion(this.rotation);","        particle.position.add(this.temp);","    }","    frameUpdate(delta) {","    }","    toJSON() {","        return {","            type: this.type,","            orbitSpeed: this.orbitSpeed.toJSON(),","            axis: [this.axis.x, this.axis.y, this.axis.z],","        };","    }","    static fromJSON(json) {","        return new OrbitOverLife(ValueGeneratorFromJSON(json.orbitSpeed), json.axis ? new THREE.Vector3(json.axis[0], json.axis[1], json.axis[2]) : undefined);","    }","    clone() {","        return new OrbitOverLife(this.orbitSpeed.clone());","    }","    reset() {","    }","}","","class WidthOverLength {","    initialize(particle) {","    }","    constructor(width) {","        this.width = width;","        this.type = 'WidthOverLength';","    }","    update(particle) {","        if (particle instanceof TrailParticle) {","            const iter = particle.previous.values();","            for (let i = 0; i < particle.previous.length; i++) {","                const cur = iter.next();","                cur.value.size = this.width.genValue((particle.previous.length - i) / particle.length);","            }","        }","    }","    frameUpdate(delta) {","    }","    toJSON() {","        return {","            type: this.type,","            width: this.width.toJSON(),","        };","    }","    static fromJSON(json) {","        return new WidthOverLength(ValueGeneratorFromJSON(json.width));","    }","    clone() {","        return new WidthOverLength(this.width.clone());","    }","    reset() {","    }","}","","class ApplyForce {","    constructor(direction, magnitude) {","        this.direction = direction;","        this.magnitude = magnitude;","        this.type = 'ApplyForce';","        this.magnitudeValue = this.magnitude.genValue();","    }","    initialize(particle) {","    }","    update(particle, delta) {","        particle.velocity.addScaledVector(this.direction, this.magnitudeValue * delta);","    }","    frameUpdate(delta) {","        this.magnitudeValue = this.magnitude.genValue();","    }","    toJSON() {","        return {","            type: this.type,","            direction: [this.direction.x, this.direction.y, this.direction.z],","            magnitude: this.magnitude.toJSON(),","        };","    }","    static fromJSON(json) {","        var _a;","        return new ApplyForce(new THREE.Vector3(json.direction[0], json.direction[1], json.direction[2]), ValueGeneratorFromJSON((_a = json.magnitude) !== null && _a !== void 0 ? _a : json.force));","    }","    clone() {","        return new ApplyForce(this.direction.clone(), this.magnitude.clone());","    }","    reset() {","    }","}","","class GravityForce {","    constructor(center, magnitude) {","        this.center = center;","        this.magnitude = magnitude;","        this.type = 'GravityForce';","        this.temp = new THREE.Vector3();","    }","    initialize(particle) {","    }","    update(particle, delta) {","        this.temp.copy(this.center).sub(particle.position).normalize();","        particle.velocity.addScaledVector(this.temp, this.magnitude / particle.position.distanceToSquared(this.center) * delta);","    }","    frameUpdate(delta) {","    }","    toJSON() {","        return {","            type: this.type,","            center: [this.center.x, this.center.y, this.center.z],","            magnitude: this.magnitude,","        };","    }","    static fromJSON(json) {","        return new GravityForce(new THREE.Vector3(json.center[0], json.center[1], json.center[2]), json.magnitude);","    }","    clone() {","        return new GravityForce(this.center.clone(), this.magnitude);","    }","    reset() {","    }","}","","new THREE.Vector3(0, 0, 1);","class ChangeEmitDirection {","    constructor(angle) {","        this.angle = angle;","        this.type = 'ChangeEmitDirection';","        this._temp = new THREE.Vector3();","        this._q = new THREE.Quaternion();","    }","    initialize(particle) {","        const len = particle.velocity.length();","        if (len == 0)","            return;","        particle.velocity.normalize();","        if (particle.velocity.x === 0 && particle.velocity.y === 0) {","            this._temp.set(0, particle.velocity.z, 0);","        }","        else {","            this._temp.set(-particle.velocity.y, particle.velocity.x, 0);","        }","        this._q.setFromAxisAngle(this._temp.normalize(), this.angle.genValue());","        this._temp.copy(particle.velocity);","        particle.velocity.applyQuaternion(this._q);","        this._q.setFromAxisAngle(this._temp, Math.random() * Math.PI * 2);","        particle.velocity.applyQuaternion(this._q);","        particle.velocity.setLength(len);","    }","    update(particle, delta) {","    }","    frameUpdate(delta) {","    }","    toJSON() {","        return {","            type: this.type,","            angle: this.angle.toJSON(),","        };","    }","    static fromJSON(json) {","        return new ChangeEmitDirection(ValueGeneratorFromJSON(json.angle));","    }","    clone() {","        return new ChangeEmitDirection(this.angle);","    }","    reset() {","    }","}","","const VECTOR_ONE = new THREE.Vector3(1, 1, 1);","const VECTOR_Z = new THREE.Vector3(0, 0, 1);","let SubParticleEmitMode = void 0;","(function (SubParticleEmitMode) {","    SubParticleEmitMode[SubParticleEmitMode[\"Death\"] = 0] = \"Death\";","    SubParticleEmitMode[SubParticleEmitMode[\"Birth\"] = 1] = \"Birth\";","    SubParticleEmitMode[SubParticleEmitMode[\"Frame\"] = 2] = \"Frame\";","})(SubParticleEmitMode || (SubParticleEmitMode = {}));","class EmitSubParticleSystem {","    constructor(particleSystem, useVelocityAsBasis, subParticleSystem, mode = SubParticleEmitMode.Frame, emitProbability = 1) {","        this.particleSystem = particleSystem;","        this.useVelocityAsBasis = useVelocityAsBasis;","        this.subParticleSystem = subParticleSystem;","        this.mode = mode;","        this.emitProbability = emitProbability;","        this.type = 'EmitSubParticleSystem';","        this.q_ = new THREE.Quaternion();","        this.v_ = new THREE.Vector3();","        this.v2_ = new THREE.Vector3();","        this.subEmissions = new Array();","        if (this.subParticleSystem && this.subParticleSystem.system) {","            this.subParticleSystem.system.onlyUsedByOther = true;","        }","    }","    initialize(particle) {","    }","    update(particle, delta) {","        if (this.mode === SubParticleEmitMode.Frame) {","            this.emit(particle, delta);","        }","        else if (this.mode === SubParticleEmitMode.Birth && particle.age === 0) {","            this.emit(particle, delta);","        }","        else if (this.mode === SubParticleEmitMode.Death && particle.age + delta >= particle.life) {","            this.emit(particle, delta);","        }","    }","    emit(particle, delta) {","        if (!this.subParticleSystem)","            return;","        if (Math.random() > this.emitProbability) {","            return;","        }","        const m = new THREE.Matrix4();","        this.setMatrixFromParticle(m, particle);","        this.subEmissions.push({","            burstIndex: 0,","            burstWaveIndex: 0,","            time: 0,","            waitEmiting: 0,","            matrix: m,","            travelDistance: 0,","            particle: particle,","        });","    }","    frameUpdate(delta) {","        if (!this.subParticleSystem)","            return;","        for (let i = 0; i < this.subEmissions.length; i++) {","            if (this.subEmissions[i].time >= this.subParticleSystem.system.duration) {","                this.subEmissions[i] = this.subEmissions[this.subEmissions.length - 1];","                this.subEmissions.length = this.subEmissions.length - 1;","                i--;","            }","            else {","                let subEmissionState = this.subEmissions[i];","                if (subEmissionState.particle && subEmissionState.particle.age < subEmissionState.particle.life) {","                    this.setMatrixFromParticle(subEmissionState.matrix, subEmissionState.particle);","                }","                else {","                    subEmissionState.particle = undefined;","                }","                this.subParticleSystem.system.emit(delta, subEmissionState, subEmissionState.matrix);","            }","        }","    }","    toJSON() {","        return {","            type: this.type,","            subParticleSystem: this.subParticleSystem ? this.subParticleSystem.uuid : '',","            useVelocityAsBasis: this.useVelocityAsBasis,","            mode: this.mode,","            emitProbability: this.emitProbability,","        };","    }","    static fromJSON(json, particleSystem) {","        return new EmitSubParticleSystem(particleSystem, json.useVelocityAsBasis, json.subParticleSystem, json.mode, json.emitProbability);","    }","    clone() {","        return new EmitSubParticleSystem(this.particleSystem, this.useVelocityAsBasis, this.subParticleSystem, this.mode, this.emitProbability);","    }","    reset() { }","    setMatrixFromParticle(m, particle) {","        let rotation;","        if (particle.rotation === undefined || this.useVelocityAsBasis) {","            if (particle.velocity.x === 0 &&","                particle.velocity.y === 0 &&","                (particle.velocity.z === 1 || particle.velocity.z === 0)) {","                m.set(1, 0, 0, particle.position.x, 0, 1, 0, particle.position.y, 0, 0, 1, particle.position.z, 0, 0, 0, 1);","            }","            else {","                this.v_.copy(VECTOR_Z).cross(particle.velocity);","                this.v2_.copy(particle.velocity).cross(this.v_);","                const len = this.v_.length();","                const len2 = this.v2_.length();","                m.set(this.v_.x / len, this.v2_.x / len2, particle.velocity.x, particle.position.x, this.v_.y / len, this.v2_.y / len2, particle.velocity.y, particle.position.y, this.v_.z / len, this.v2_.z / len2, particle.velocity.z, particle.position.z, 0, 0, 0, 1);","            }","        }","        else {","            if (particle.rotation instanceof THREE.Quaternion) {","                rotation = particle.rotation;","            }","            else {","                this.q_.setFromAxisAngle(VECTOR_Z, particle.rotation);","                rotation = this.q_;","            }","            m.compose(particle.position, rotation, VECTOR_ONE);","        }","        if (!this.particleSystem.worldSpace) {","            m.multiplyMatrices(this.particleSystem.emitter.matrixWorld, m);","        }","    }","}","","const F2 = 0.5 * (Math.sqrt(3.0) - 1.0);","const G2 = (3.0 - Math.sqrt(3.0)) / 6.0;","const F3 = 1.0 / 3.0;","const G3 = 1.0 / 6.0;","const F4 = (Math.sqrt(5.0) - 1.0) / 4.0;","const G4 = (5.0 - Math.sqrt(5.0)) / 20.0;","const grad3 = new Float32Array([1, 1, 0,","    -1, 1, 0,","    1, -1, 0,","    -1, -1, 0,","    1, 0, 1,","    -1, 0, 1,","    1, 0, -1,","    -1, 0, -1,","    0, 1, 1,","    0, -1, 1,","    0, 1, -1,","    0, -1, -1]);","const grad4 = new Float32Array([0, 1, 1, 1, 0, 1, 1, -1, 0, 1, -1, 1, 0, 1, -1, -1,","    0, -1, 1, 1, 0, -1, 1, -1, 0, -1, -1, 1, 0, -1, -1, -1,","    1, 0, 1, 1, 1, 0, 1, -1, 1, 0, -1, 1, 1, 0, -1, -1,","    -1, 0, 1, 1, -1, 0, 1, -1, -1, 0, -1, 1, -1, 0, -1, -1,","    1, 1, 0, 1, 1, 1, 0, -1, 1, -1, 0, 1, 1, -1, 0, -1,","    -1, 1, 0, 1, -1, 1, 0, -1, -1, -1, 0, 1, -1, -1, 0, -1,","    1, 1, 1, 0, 1, 1, -1, 0, 1, -1, 1, 0, 1, -1, -1, 0,","    -1, 1, 1, 0, -1, 1, -1, 0, -1, -1, 1, 0, -1, -1, -1, 0]);","class SimplexNoise {","    constructor(randomOrSeed = Math.random) {","        const random = typeof randomOrSeed == 'function' ? randomOrSeed : alea(randomOrSeed);","        this.p = buildPermutationTable(random);","        this.perm = new Uint8Array(512);","        this.permMod12 = new Uint8Array(512);","        for (let i = 0; i < 512; i++) {","            this.perm[i] = this.p[i & 255];","            this.permMod12[i] = this.perm[i] % 12;","        }","    }","    noise2D(x, y) {","        const permMod12 = this.permMod12;","        const perm = this.perm;","        let n0 = 0;","        let n1 = 0;","        let n2 = 0;","        const s = (x + y) * F2;","        const i = Math.floor(x + s);","        const j = Math.floor(y + s);","        const t = (i + j) * G2;","        const X0 = i - t;","        const Y0 = j - t;","        const x0 = x - X0;","        const y0 = y - Y0;","        let i1, j1;","        if (x0 > y0) {","            i1 = 1;","            j1 = 0;","        }","        else {","            i1 = 0;","            j1 = 1;","        }","        const x1 = x0 - i1 + G2;","        const y1 = y0 - j1 + G2;","        const x2 = x0 - 1.0 + 2.0 * G2;","        const y2 = y0 - 1.0 + 2.0 * G2;","        const ii = i & 255;","        const jj = j & 255;","        let t0 = 0.5 - x0 * x0 - y0 * y0;","        if (t0 >= 0) {","            const gi0 = permMod12[ii + perm[jj]] * 3;","            t0 *= t0;","            n0 = t0 * t0 * (grad3[gi0] * x0 + grad3[gi0 + 1] * y0);","        }","        let t1 = 0.5 - x1 * x1 - y1 * y1;","        if (t1 >= 0) {","            const gi1 = permMod12[ii + i1 + perm[jj + j1]] * 3;","            t1 *= t1;","            n1 = t1 * t1 * (grad3[gi1] * x1 + grad3[gi1 + 1] * y1);","        }","        let t2 = 0.5 - x2 * x2 - y2 * y2;","        if (t2 >= 0) {","            const gi2 = permMod12[ii + 1 + perm[jj + 1]] * 3;","            t2 *= t2;","            n2 = t2 * t2 * (grad3[gi2] * x2 + grad3[gi2 + 1] * y2);","        }","        return 70.0 * (n0 + n1 + n2);","    }","    noise3D(x, y, z) {","        const permMod12 = this.permMod12;","        const perm = this.perm;","        let n0, n1, n2, n3;","        const s = (x + y + z) * F3;","        const i = Math.floor(x + s);","        const j = Math.floor(y + s);","        const k = Math.floor(z + s);","        const t = (i + j + k) * G3;","        const X0 = i - t;","        const Y0 = j - t;","        const Z0 = k - t;","        const x0 = x - X0;","        const y0 = y - Y0;","        const z0 = z - Z0;","        let i1, j1, k1;","        let i2, j2, k2;","        if (x0 >= y0) {","            if (y0 >= z0) {","                i1 = 1;","                j1 = 0;","                k1 = 0;","                i2 = 1;","                j2 = 1;","                k2 = 0;","            }","            else if (x0 >= z0) {","                i1 = 1;","                j1 = 0;","                k1 = 0;","                i2 = 1;","                j2 = 0;","                k2 = 1;","            }","            else {","                i1 = 0;","                j1 = 0;","                k1 = 1;","                i2 = 1;","                j2 = 0;","                k2 = 1;","            }","        }","        else {","            if (y0 < z0) {","                i1 = 0;","                j1 = 0;","                k1 = 1;","                i2 = 0;","                j2 = 1;","                k2 = 1;","            }","            else if (x0 < z0) {","                i1 = 0;","                j1 = 1;","                k1 = 0;","                i2 = 0;","                j2 = 1;","                k2 = 1;","            }","            else {","                i1 = 0;","                j1 = 1;","                k1 = 0;","                i2 = 1;","                j2 = 1;","                k2 = 0;","            }","        }","        const x1 = x0 - i1 + G3;","        const y1 = y0 - j1 + G3;","        const z1 = z0 - k1 + G3;","        const x2 = x0 - i2 + 2.0 * G3;","        const y2 = y0 - j2 + 2.0 * G3;","        const z2 = z0 - k2 + 2.0 * G3;","        const x3 = x0 - 1.0 + 3.0 * G3;","        const y3 = y0 - 1.0 + 3.0 * G3;","        const z3 = z0 - 1.0 + 3.0 * G3;","        const ii = i & 255;","        const jj = j & 255;","        const kk = k & 255;","        let t0 = 0.6 - x0 * x0 - y0 * y0 - z0 * z0;","        if (t0 < 0)","            n0 = 0.0;","        else {","            const gi0 = permMod12[ii + perm[jj + perm[kk]]] * 3;","            t0 *= t0;","            n0 = t0 * t0 * (grad3[gi0] * x0 + grad3[gi0 + 1] * y0 + grad3[gi0 + 2] * z0);","        }","        let t1 = 0.6 - x1 * x1 - y1 * y1 - z1 * z1;","        if (t1 < 0)","            n1 = 0.0;","        else {","            const gi1 = permMod12[ii + i1 + perm[jj + j1 + perm[kk + k1]]] * 3;","            t1 *= t1;","            n1 = t1 * t1 * (grad3[gi1] * x1 + grad3[gi1 + 1] * y1 + grad3[gi1 + 2] * z1);","        }","        let t2 = 0.6 - x2 * x2 - y2 * y2 - z2 * z2;","        if (t2 < 0)","            n2 = 0.0;","        else {","            const gi2 = permMod12[ii + i2 + perm[jj + j2 + perm[kk + k2]]] * 3;","            t2 *= t2;","            n2 = t2 * t2 * (grad3[gi2] * x2 + grad3[gi2 + 1] * y2 + grad3[gi2 + 2] * z2);","        }","        let t3 = 0.6 - x3 * x3 - y3 * y3 - z3 * z3;","        if (t3 < 0)","            n3 = 0.0;","        else {","            const gi3 = permMod12[ii + 1 + perm[jj + 1 + perm[kk + 1]]] * 3;","            t3 *= t3;","            n3 = t3 * t3 * (grad3[gi3] * x3 + grad3[gi3 + 1] * y3 + grad3[gi3 + 2] * z3);","        }","        return 32.0 * (n0 + n1 + n2 + n3);","    }","    noise4D(x, y, z, w) {","        const perm = this.perm;","        let n0, n1, n2, n3, n4;","        const s = (x + y + z + w) * F4;","        const i = Math.floor(x + s);","        const j = Math.floor(y + s);","        const k = Math.floor(z + s);","        const l = Math.floor(w + s);","        const t = (i + j + k + l) * G4;","        const X0 = i - t;","        const Y0 = j - t;","        const Z0 = k - t;","        const W0 = l - t;","        const x0 = x - X0;","        const y0 = y - Y0;","        const z0 = z - Z0;","        const w0 = w - W0;","        let rankx = 0;","        let ranky = 0;","        let rankz = 0;","        let rankw = 0;","        if (x0 > y0)","            rankx++;","        else","            ranky++;","        if (x0 > z0)","            rankx++;","        else","            rankz++;","        if (x0 > w0)","            rankx++;","        else","            rankw++;","        if (y0 > z0)","            ranky++;","        else","            rankz++;","        if (y0 > w0)","            ranky++;","        else","            rankw++;","        if (z0 > w0)","            rankz++;","        else","            rankw++;","        const i1 = rankx >= 3 ? 1 : 0;","        const j1 = ranky >= 3 ? 1 : 0;","        const k1 = rankz >= 3 ? 1 : 0;","        const l1 = rankw >= 3 ? 1 : 0;","        const i2 = rankx >= 2 ? 1 : 0;","        const j2 = ranky >= 2 ? 1 : 0;","        const k2 = rankz >= 2 ? 1 : 0;","        const l2 = rankw >= 2 ? 1 : 0;","        const i3 = rankx >= 1 ? 1 : 0;","        const j3 = ranky >= 1 ? 1 : 0;","        const k3 = rankz >= 1 ? 1 : 0;","        const l3 = rankw >= 1 ? 1 : 0;","        const x1 = x0 - i1 + G4;","        const y1 = y0 - j1 + G4;","        const z1 = z0 - k1 + G4;","        const w1 = w0 - l1 + G4;","        const x2 = x0 - i2 + 2.0 * G4;","        const y2 = y0 - j2 + 2.0 * G4;","        const z2 = z0 - k2 + 2.0 * G4;","        const w2 = w0 - l2 + 2.0 * G4;","        const x3 = x0 - i3 + 3.0 * G4;","        const y3 = y0 - j3 + 3.0 * G4;","        const z3 = z0 - k3 + 3.0 * G4;","        const w3 = w0 - l3 + 3.0 * G4;","        const x4 = x0 - 1.0 + 4.0 * G4;","        const y4 = y0 - 1.0 + 4.0 * G4;","        const z4 = z0 - 1.0 + 4.0 * G4;","        const w4 = w0 - 1.0 + 4.0 * G4;","        const ii = i & 255;","        const jj = j & 255;","        const kk = k & 255;","        const ll = l & 255;","        let t0 = 0.6 - x0 * x0 - y0 * y0 - z0 * z0 - w0 * w0;","        if (t0 < 0)","            n0 = 0.0;","        else {","            const gi0 = (perm[ii + perm[jj + perm[kk + perm[ll]]]] % 32) * 4;","            t0 *= t0;","            n0 = t0 * t0 * (grad4[gi0] * x0 + grad4[gi0 + 1] * y0 + grad4[gi0 + 2] * z0 + grad4[gi0 + 3] * w0);","        }","        let t1 = 0.6 - x1 * x1 - y1 * y1 - z1 * z1 - w1 * w1;","        if (t1 < 0)","            n1 = 0.0;","        else {","            const gi1 = (perm[ii + i1 + perm[jj + j1 + perm[kk + k1 + perm[ll + l1]]]] % 32) * 4;","            t1 *= t1;","            n1 = t1 * t1 * (grad4[gi1] * x1 + grad4[gi1 + 1] * y1 + grad4[gi1 + 2] * z1 + grad4[gi1 + 3] * w1);","        }","        let t2 = 0.6 - x2 * x2 - y2 * y2 - z2 * z2 - w2 * w2;","        if (t2 < 0)","            n2 = 0.0;","        else {","            const gi2 = (perm[ii + i2 + perm[jj + j2 + perm[kk + k2 + perm[ll + l2]]]] % 32) * 4;","            t2 *= t2;","            n2 = t2 * t2 * (grad4[gi2] * x2 + grad4[gi2 + 1] * y2 + grad4[gi2 + 2] * z2 + grad4[gi2 + 3] * w2);","        }","        let t3 = 0.6 - x3 * x3 - y3 * y3 - z3 * z3 - w3 * w3;","        if (t3 < 0)","            n3 = 0.0;","        else {","            const gi3 = (perm[ii + i3 + perm[jj + j3 + perm[kk + k3 + perm[ll + l3]]]] % 32) * 4;","            t3 *= t3;","            n3 = t3 * t3 * (grad4[gi3] * x3 + grad4[gi3 + 1] * y3 + grad4[gi3 + 2] * z3 + grad4[gi3 + 3] * w3);","        }","        let t4 = 0.6 - x4 * x4 - y4 * y4 - z4 * z4 - w4 * w4;","        if (t4 < 0)","            n4 = 0.0;","        else {","            const gi4 = (perm[ii + 1 + perm[jj + 1 + perm[kk + 1 + perm[ll + 1]]]] % 32) * 4;","            t4 *= t4;","            n4 = t4 * t4 * (grad4[gi4] * x4 + grad4[gi4 + 1] * y4 + grad4[gi4 + 2] * z4 + grad4[gi4 + 3] * w4);","        }","        return 27.0 * (n0 + n1 + n2 + n3 + n4);","    }","}","function buildPermutationTable(random) {","    const p = new Uint8Array(256);","    for (let i = 0; i < 256; i++) {","        p[i] = i;","    }","    for (let i = 0; i < 255; i++) {","        const r = i + ~~(random() * (256 - i));","        const aux = p[i];","        p[i] = p[r];","        p[r] = aux;","    }","    return p;","}","function alea(seed) {","    let s0 = 0;","    let s1 = 0;","    let s2 = 0;","    let c = 1;","    const mash = masher();","    s0 = mash(' ');","    s1 = mash(' ');","    s2 = mash(' ');","    s0 -= mash(seed);","    if (s0 < 0) {","        s0 += 1;","    }","    s1 -= mash(seed);","    if (s1 < 0) {","        s1 += 1;","    }","    s2 -= mash(seed);","    if (s2 < 0) {","        s2 += 1;","    }","    return function () {","        const t = 2091639 * s0 + c * 2.3283064365386963e-10;","        s0 = s1;","        s1 = s2;","        return s2 = t - (c = t | 0);","    };","}","function masher() {","    let n = 0xefc8249d;","    return function (data) {","        data = data.toString();","        for (let i = 0; i < data.length; i++) {","            n += data.charCodeAt(i);","            let h = 0.02519603282416938 * n;","            n = h >>> 0;","            h -= n;","            h *= n;","            n = h >>> 0;","            h -= n;","            n += h * 0x100000000;","        }","        return (n >>> 0) * 2.3283064365386963e-10;","    };","}","","class TurbulenceField {","    constructor(scale, octaves, velocityMultiplier, timeScale) {","        this.scale = scale;","        this.octaves = octaves;","        this.velocityMultiplier = velocityMultiplier;","        this.timeScale = timeScale;","        this.type = 'TurbulenceField';","        this.generator = new SimplexNoise();","        this.timeOffset = new THREE.Vector3();","        this.temp = new THREE.Vector3();","        this.temp2 = new THREE.Vector3();","        this.timeOffset.x = Math.random() / this.scale.x * this.timeScale.x;","        this.timeOffset.y = Math.random() / this.scale.y * this.timeScale.y;","        this.timeOffset.z = Math.random() / this.scale.z * this.timeScale.z;","    }","    initialize(particle) {","    }","    update(particle, delta) {","        const x = particle.position.x / this.scale.x;","        const y = particle.position.y / this.scale.y;","        const z = particle.position.z / this.scale.z;","        this.temp.set(0, 0, 0);","        let lvl = 1;","        for (let i = 0; i < this.octaves; i++) {","            this.temp2.set(this.generator.noise4D(x * lvl, y * lvl, z * lvl, this.timeOffset.x * lvl) / lvl, this.generator.noise4D(x * lvl, y * lvl, z * lvl, this.timeOffset.y * lvl) / lvl, this.generator.noise4D(x * lvl, y * lvl, z * lvl, this.timeOffset.z * lvl) / lvl);","            this.temp.add(this.temp2);","            lvl *= 2;","        }","        this.temp.multiply(this.velocityMultiplier);","        particle.velocity.addScaledVector(this.temp, delta);","    }","    toJSON() {","        return {","            type: this.type,","            scale: [this.scale.x, this.scale.y, this.scale.z],","            octaves: this.octaves,","            velocityMultiplier: [this.velocityMultiplier.x, this.velocityMultiplier.y, this.velocityMultiplier.z],","            timeScale: [this.timeScale.x, this.timeScale.y, this.timeScale.z],","        };","    }","    frameUpdate(delta) {","        this.timeOffset.x += delta * this.timeScale.x;","        this.timeOffset.y += delta * this.timeScale.y;","        this.timeOffset.z += delta * this.timeScale.z;","    }","    static fromJSON(json) {","        return new TurbulenceField(new THREE.Vector3(json.scale[0], json.scale[1], json.scale[2]), json.octaves, new THREE.Vector3(json.velocityMultiplier[0], json.velocityMultiplier[1], json.velocityMultiplier[2]), new THREE.Vector3(json.timeScale[0], json.timeScale[1], json.timeScale[2]));","    }","    clone() {","        return new TurbulenceField(this.scale.clone(), this.octaves, this.velocityMultiplier.clone(), this.timeScale.clone());","    }","    reset() {","    }","}","","function randomInt(a, b) {","    return Math.floor(Math.random() * (b - a)) + a;","}","","const generators = [];","const tempV$2 = new THREE.Vector3();","const tempQ$2 = new THREE.Quaternion();","class Noise {","    constructor(frequency, power, positionAmount = new ConstantValue(1), rotationAmount = new ConstantValue(0)) {","        this.frequency = frequency;","        this.power = power;","        this.positionAmount = positionAmount;","        this.rotationAmount = rotationAmount;","        this.type = 'Noise';","        this.duration = 0;","        if (generators.length === 0) {","            for (let i = 0; i < 100; i++) {","                generators.push(new SimplexNoise());","            }","        }","    }","    initialize(particle) {","        particle.lastPosNoise = new THREE.Vector3();","        if (typeof particle.rotation === 'number') {","            particle.lastRotNoise = 0;","        }","        else {","            particle.lastRotNoise = new THREE.Quaternion();","        }","        particle.generatorIndex = [randomInt(0, 100), randomInt(0, 100), randomInt(0, 100), randomInt(0, 100)];","    }","    update(particle, _) {","        let frequency = this.frequency.genValue(particle.age / particle.life);","        let power = this.power.genValue(particle.age / particle.life);","        let positionAmount = this.positionAmount.genValue(particle.age / particle.life);","        let rotationAmount = this.rotationAmount.genValue(particle.age / particle.life);","        if (positionAmount > 0 && particle.lastPosNoise !== undefined) {","            particle.position.sub(particle.lastPosNoise);","            tempV$2.set(generators[particle.generatorIndex[0]].noise2D(0, particle.age * frequency) *","                power *","                positionAmount, generators[particle.generatorIndex[1]].noise2D(0, particle.age * frequency) *","                power *","                positionAmount, generators[particle.generatorIndex[2]].noise2D(0, particle.age * frequency) *","                power *","                positionAmount);","            particle.position.add(tempV$2);","            particle.lastPosNoise.copy(tempV$2);","        }","        if (rotationAmount > 0 && particle.lastRotNoise !== undefined) {","            if (typeof particle.rotation === 'number') {","                particle.rotation -= particle.lastRotNoise;","                particle.rotation +=","                    generators[particle.generatorIndex[3]].noise2D(0, particle.age * frequency) *","                    Math.PI *","                    power *","                    rotationAmount;","            }","            else {","                particle.lastRotNoise.invert();","                particle.rotation.multiply(particle.lastRotNoise);","                tempQ$2","                    .set(generators[particle.generatorIndex[0]].noise2D(0, particle.age * frequency) *","                        power *","                        rotationAmount, generators[particle.generatorIndex[1]].noise2D(0, particle.age * frequency) *","                        power *","                        rotationAmount, generators[particle.generatorIndex[2]].noise2D(0, particle.age * frequency) *","                        power *","                        rotationAmount, generators[particle.generatorIndex[3]].noise2D(0, particle.age * frequency) *","                        power *","                        rotationAmount)","                    .normalize();","                particle.rotation.multiply(tempQ$2);","                particle.lastRotNoise.copy(tempQ$2);","            }","        }","    }","    toJSON() {","        return {","            type: this.type,","            frequency: this.frequency.toJSON(),","            power: this.power.toJSON(),","            positionAmount: this.positionAmount.toJSON(),","            rotationAmount: this.rotationAmount.toJSON(),","        };","    }","    frameUpdate(delta) {","        this.duration += delta;","    }","    static fromJSON(json) {","        return new Noise(ValueGeneratorFromJSON(json.frequency), ValueGeneratorFromJSON(json.power), ValueGeneratorFromJSON(json.positionAmount), ValueGeneratorFromJSON(json.rotationAmount));","    }","    clone() {","        return new Noise(this.frequency.clone(), this.power.clone(), this.positionAmount.clone(), this.rotationAmount.clone());","    }","    reset() { }","}","","class TextureSequencer {","    constructor(scaleX = 0, scaleY = 0, position = new THREE.Vector3()) {","        this.scaleX = scaleX;","        this.scaleY = scaleY;","        this.position = position;","        this.locations = [];","    }","    transform(position, index) {","        position.x = this.locations[index % this.locations.length].x * this.scaleX + this.position.x;","        position.y = this.locations[index % this.locations.length].y * this.scaleY + this.position.y;","        position.z = this.position.z;","    }","    static fromJSON(json) {","        const textureSequencer = new TextureSequencer(json.scaleX, json.scaleY, new THREE.Vector3(json.position[0], json.position[1], json.position[2]));","        textureSequencer.locations = json.locations.map((loc) => new THREE.Vector2(loc.x, loc.y));","        return textureSequencer;","    }","    clone() {","        const textureSequencer = new TextureSequencer(this.scaleX, this.scaleY, this.position.clone());","        textureSequencer.locations = this.locations.map(loc => loc.clone());","        return textureSequencer;","    }","    toJSON() {","        return {","            scaleX: this.scaleX,","            scaleY: this.scaleY,","            position: this.position,","            locations: this.locations.map(loc => ({","                x: loc.x,","                y: loc.y,","            }))","        };","    }","    fromImage(img, threshold) {","        const canvas = document.createElement(\"canvas\");","        canvas.width = img.width;","        canvas.height = img.height;","        const ctx = canvas.getContext(\"2d\");","        if (!ctx) {","            return;","        }","        ctx.drawImage(img, 0, 0);","        const data = ctx.getImageData(0, 0, canvas.width, canvas.height, { colorSpace: \"srgb\" });","        canvas.remove();","        this.locations.length = 0;","        for (let i = 0; i < data.height; i++) {","            for (let j = 0; j < data.width; j++) {","                if (data.data[(i * data.width + j) * 4 + 3] > threshold) {","                    this.locations.push(new THREE.Vector2(j, data.height - i));","                }","            }","        }","    }","}","","function SequencerFromJSON(json) {","    switch (json.type) {","        case 'TextureSequencer':","            return TextureSequencer.fromJSON(json);","        default:","            return new TextureSequencer();","    }","}","","class ApplySequences {","    constructor(delayBetweenParticles) {","        this.type = 'ApplySequences';","        this.sequencers = [];","        this.time = 0;","        this.index = 0;","        this.pCount = 0;","        this.tempV = new THREE.Vector3();","        this.delay = delayBetweenParticles;","    }","    initialize(particle) {","        particle.id = this.pCount;","        particle.dst = new THREE.Vector3();","        particle.begin = new THREE.Vector3();","        particle.inMotion = false;","        this.pCount++;","    }","    reset() {","        this.time = 0;","        this.index = 0;","        this.pCount = 0;","    }","    update(particle, delta) {","        const sequencer = this.sequencers[this.index];","        const delay = particle.id * this.delay;","        if (this.time >= sequencer[0].a + delay && this.time <= sequencer[0].b + delay) {","            if (!particle.inMotion) {","                particle.inMotion = true;","                particle.begin.copy(particle.position);","                sequencer[1].transform(particle.dst, particle.id);","            }","            particle.position.lerpVectors(particle.begin, particle.dst, ApplySequences.BEZIER.genValue((this.time - sequencer[0].a - delay) / (sequencer[0].b - sequencer[0].a)));","        }","        else if (this.time > sequencer[0].b + delay) {","            particle.inMotion = false;","        }","    }","    frameUpdate(delta) {","        while (this.index + 1 < this.sequencers.length && this.time >= this.sequencers[this.index + 1][0].a) {","            this.index++;","        }","        this.time += delta;","    }","    appendSequencer(range, sequencer) {","        this.sequencers.push([range, sequencer]);","    }","    toJSON() {","        return {","            type: this.type,","            delay: this.delay,","            sequencers: this.sequencers.map(([range, sequencer]) => ({","                range: range.toJSON(),","                sequencer: sequencer.toJSON(),","            })),","        };","    }","    static fromJSON(json) {","        const seq = new ApplySequences(json.delay);","        json.sequencers.forEach((sequencerJson) => {","            seq.sequencers.push([ValueGeneratorFromJSON(sequencerJson.range), SequencerFromJSON(sequencerJson.sequencer)]);","        });","        return seq;","    }","    clone() {","        const applySequences = new ApplySequences(this.delay);","        applySequences.sequencers = this.sequencers.map(seq => [seq[0].clone(), seq[1].clone()]);","        return applySequences;","    }","}","ApplySequences.BEZIER = new Bezier(0, 0, 1, 1);","","let physicsResolver;","function setPhysicsResolver(resolver) {","    physicsResolver = resolver;","}","function getPhysicsResolver() {","    return physicsResolver;","}","class ApplyCollision {","    constructor(resolver, bounce) {","        this.resolver = resolver;","        this.bounce = bounce;","        this.type = 'ApplyCollision';","        this.tempV = new THREE.Vector3();","    }","    initialize(particle) {","    }","    update(particle, delta) {","        if (this.resolver.resolve(particle.position, this.tempV)) {","            particle.velocity.reflect(this.tempV).multiplyScalar(this.bounce);","        }","    }","    frameUpdate(delta) {","    }","    toJSON() {","        return {","            type: this.type,","            bounce: this.bounce,","        };","    }","    static fromJSON(json) {","        return new ApplyCollision(getPhysicsResolver(), json.bounce);","    }","    clone() {","        return new ApplyCollision(this.resolver, this.bounce);","    }","    reset() {","    }","}","","class ColorBySpeed {","    constructor(color, speedRange) {","        this.color = color;","        this.speedRange = speedRange;","        this.type = 'ColorBySpeed';","    }","    initialize(particle) {","        if (this.color.type === 'memorizedFunction') {","            particle.colorOverLifeMemory = {};","            this.color.startGen(particle.colorOverLifeMemory);","        }","    }","    update(particle, delta) {","        const t = (particle.startSpeed - this.speedRange.a) / (this.speedRange.b - this.speedRange.a);","        if (this.color.type === 'memorizedFunction') {","            this.color.genColor(particle.color, t, particle.colorOverLifeMemory);","        }","        else {","            this.color.genColor(particle.color, t);","        }","        particle.color.x *= particle.startColor.x;","        particle.color.y *= particle.startColor.y;","        particle.color.z *= particle.startColor.z;","        particle.color.w *= particle.startColor.w;","    }","    frameUpdate(delta) { }","    toJSON() {","        return {","            type: this.type,","            color: this.color.toJSON(),","            speedRange: this.speedRange.toJSON(),","        };","    }","    static fromJSON(json) {","        return new ColorBySpeed(ColorGeneratorFromJSON(json.color), IntervalValue.fromJSON(json.speedRange));","    }","    clone() {","        return new ColorBySpeed(this.color.clone(), this.speedRange.clone());","    }","    reset() { }","}","","class SizeBySpeed {","    initialize(particle) { }","    constructor(size, speedRange) {","        this.size = size;","        this.speedRange = speedRange;","        this.type = 'SizeBySpeed';","    }","    update(particle) {","        const t = (particle.startSpeed - this.speedRange.a) / (this.speedRange.b - this.speedRange.a);","        particle.size = particle.startSize * this.size.genValue(t);","    }","    toJSON() {","        return {","            type: this.type,","            size: this.size.toJSON(),","            speedRange: this.speedRange.toJSON(),","        };","    }","    static fromJSON(json) {","        return new SizeBySpeed(ValueGeneratorFromJSON(json.size), IntervalValue.fromJSON(json.speedRange));","    }","    frameUpdate(delta) { }","    clone() {","        return new SizeBySpeed(this.size.clone(), this.speedRange.clone());","    }","    reset() { }","}","","class RotationBySpeed {","    constructor(angularVelocity, speedRange) {","        this.angularVelocity = angularVelocity;","        this.speedRange = speedRange;","        this.type = 'RotationBySpeed';","        this.tempQuat = new THREE.Quaternion();","    }","    initialize(particle) { }","    update(particle, delta) {","        const t = (particle.startSpeed - this.speedRange.a) / (this.speedRange.b - this.speedRange.a);","        particle.rotation += delta * this.angularVelocity.genValue(t);","    }","    toJSON() {","        return {","            type: this.type,","            angularVelocity: this.angularVelocity.toJSON(),","            speedRange: this.speedRange.toJSON(),","        };","    }","    static fromJSON(json) {","        return new RotationBySpeed(ValueGeneratorFromJSON(json.angularVelocity), IntervalValue.fromJSON(json.speedRange));","    }","    frameUpdate(delta) { }","    clone() {","        return new RotationBySpeed(this.angularVelocity.clone(), this.speedRange.clone());","    }","    reset() { }","}","","class LimitSpeedOverLife {","    initialize(particle) { }","    constructor(speed, dampen) {","        this.speed = speed;","        this.dampen = dampen;","        this.type = 'LimitSpeedOverLife';","    }","    update(particle, delta) {","        let speed = particle.velocity.length();","        let limit = this.speed.genValue(particle.age / particle.life);","        if (speed > limit) {","            const percent = (speed - limit) / speed;","            particle.velocity.multiplyScalar(1 - percent * this.dampen * delta * 20);","        }","    }","    toJSON() {","        return {","            type: this.type,","            speed: this.speed.toJSON(),","            dampen: this.dampen,","        };","    }","    static fromJSON(json) {","        return new LimitSpeedOverLife(ValueGeneratorFromJSON(json.speed), json.dampen);","    }","    frameUpdate(delta) { }","    clone() {","        return new LimitSpeedOverLife(this.speed.clone(), this.dampen);","    }","    reset() { }","}","","const BehaviorTypes = {","    ApplyForce: {","        type: 'ApplyForce',","        constructor: ApplyForce,","        params: [","            ['direction', 'vec3'],","            ['magnitude', 'value'],","        ],","        loadJSON: ApplyForce.fromJSON,","    },","    Noise: {","        type: 'Noise',","        constructor: Noise,","        params: [","            ['frequency', 'value'],","            ['power', 'value'],","            ['positionAmount', 'value'],","            ['rotationAmount', 'value'],","        ],","        loadJSON: Noise.fromJSON,","    },","    TurbulenceField: {","        type: 'TurbulenceField',","        constructor: TurbulenceField,","        params: [","            ['scale', 'vec3'],","            ['octaves', 'number'],","            ['velocityMultiplier', 'vec3'],","            ['timeScale', 'vec3'],","        ],","        loadJSON: TurbulenceField.fromJSON,","    },","    GravityForce: {","        type: 'GravityForce',","        constructor: GravityForce,","        params: [","            ['center', 'vec3'],","            ['magnitude', 'number'],","        ],","        loadJSON: GravityForce.fromJSON,","    },","    ColorOverLife: {","        type: 'ColorOverLife',","        constructor: ColorOverLife,","        params: [['color', 'colorFunc']],","        loadJSON: ColorOverLife.fromJSON,","    },","    RotationOverLife: {","        type: 'RotationOverLife',","        constructor: RotationOverLife,","        params: [['angularVelocity', 'valueFunc']],","        loadJSON: RotationOverLife.fromJSON,","    },","    Rotation3DOverLife: {","        type: 'Rotation3DOverLife',","        constructor: Rotation3DOverLife,","        params: [['angularVelocity', 'rotationFunc']],","        loadJSON: Rotation3DOverLife.fromJSON,","    },","    SizeOverLife: {","        type: 'SizeOverLife',","        constructor: SizeOverLife,","        params: [['size', 'valueFunc']],","        loadJSON: SizeOverLife.fromJSON,","    },","    ColorBySpeed: {","        type: 'ColorBySpeed',","        constructor: ColorBySpeed,","        params: [","            ['color', 'colorFunc'],","            ['speedRange', 'range'],","        ],","        loadJSON: ColorBySpeed.fromJSON,","    },","    RotationBySpeed: {","        type: 'RotationBySpeed',","        constructor: RotationBySpeed,","        params: [","            ['angularVelocity', 'valueFunc'],","            ['speedRange', 'range'],","        ],","        loadJSON: RotationBySpeed.fromJSON,","    },","    SizeBySpeed: {","        type: 'SizeBySpeed',","        constructor: SizeBySpeed,","        params: [","            ['size', 'valueFunc'],","            ['speedRange', 'range'],","        ],","        loadJSON: SizeBySpeed.fromJSON,","    },","    SpeedOverLife: {","        type: 'SpeedOverLife',","        constructor: SpeedOverLife,","        params: [['speed', 'valueFunc']],","        loadJSON: SpeedOverLife.fromJSON,","    },","    FrameOverLife: {","        type: 'FrameOverLife',","        constructor: FrameOverLife,","        params: [['frame', 'valueFunc']],","        loadJSON: FrameOverLife.fromJSON,","    },","    ForceOverLife: {","        type: 'ForceOverLife',","        constructor: ForceOverLife,","        params: [","            ['x', 'valueFunc'],","            ['y', 'valueFunc'],","            ['z', 'valueFunc'],","        ],","        loadJSON: ForceOverLife.fromJSON,","    },","    OrbitOverLife: {","        type: 'OrbitOverLife',","        constructor: OrbitOverLife,","        params: [","            ['orbitSpeed', 'valueFunc'],","            ['axis', 'vec3'],","        ],","        loadJSON: OrbitOverLife.fromJSON,","    },","    WidthOverLength: {","        type: 'WidthOverLength',","        constructor: WidthOverLength,","        params: [['width', 'valueFunc']],","        loadJSON: WidthOverLength.fromJSON,","    },","    ChangeEmitDirection: {","        type: 'ChangeEmitDirection',","        constructor: ChangeEmitDirection,","        params: [['angle', 'value']],","        loadJSON: ChangeEmitDirection.fromJSON,","    },","    EmitSubParticleSystem: {","        type: 'EmitSubParticleSystem',","        constructor: EmitSubParticleSystem,","        params: [","            ['particleSystem', 'self'],","            ['useVelocityAsBasis', 'boolean'],","            ['subParticleSystem', 'particleSystem'],","            ['mode', 'number'],","            ['emitProbability', 'number'],","        ],","        loadJSON: EmitSubParticleSystem.fromJSON,","    },","    LimitSpeedOverLife: {","        type: 'LimitSpeedOverLife',","        constructor: LimitSpeedOverLife,","        params: [","            ['speed', 'valueFunc'],","            ['dampen', 'number'],","        ],","        loadJSON: LimitSpeedOverLife.fromJSON,","    },","};","function BehaviorFromJSON(json, particleSystem) {","    return BehaviorTypes[json.type].loadJSON(json, particleSystem);","}","","let EmitterMode = void 0;","(function (EmitterMode) {","    EmitterMode[EmitterMode[\"Random\"] = 0] = \"Random\";","    EmitterMode[EmitterMode[\"Loop\"] = 1] = \"Loop\";","    EmitterMode[EmitterMode[\"PingPong\"] = 2] = \"PingPong\";","    EmitterMode[EmitterMode[\"Burst\"] = 3] = \"Burst\";","})(EmitterMode || (EmitterMode = {}));","function getValueFromEmitterMode(mode, currentValue, spread) {","    let u;","    if (EmitterMode.Random === mode) {","        currentValue = Math.random();","    }","    if (spread > 0) {","        u = Math.floor(currentValue / spread) * spread;","    }","    else {","        u = currentValue;","    }","    switch (mode) {","        case EmitterMode.Loop:","            u = u % 1;","            break;","        case EmitterMode.PingPong:","            u = Math.abs((u % 2) - 1);","            break;","    }","    return u;","}","","class ConeEmitter {","    constructor(parameters = {}) {","        var _a, _b, _c, _d, _e, _f, _g;","        this.type = 'cone';","        this.currentValue = 0;","        this.radius = (_a = parameters.radius) !== null && _a !== void 0 ? _a : 10;","        this.arc = (_b = parameters.arc) !== null && _b !== void 0 ? _b : 2.0 * Math.PI;","        this.thickness = (_c = parameters.thickness) !== null && _c !== void 0 ? _c : 1;","        this.angle = (_d = parameters.angle) !== null && _d !== void 0 ? _d : Math.PI / 6;","        this.mode = (_e = parameters.mode) !== null && _e !== void 0 ? _e : EmitterMode.Random;","        this.spread = (_f = parameters.spread) !== null && _f !== void 0 ? _f : 0;","        this.speed = (_g = parameters.speed) !== null && _g !== void 0 ? _g : new ConstantValue(1);","    }","    update(system, delta) {","        if (EmitterMode.Random != this.mode) {","            this.currentValue += this.speed.genValue(system.emissionState.time / system.duration) * delta;","        }","    }","    initialize(p) {","        const u = getValueFromEmitterMode(this.mode, this.currentValue, this.spread);","        const rand = THREE.MathUtils.lerp(1 - this.thickness, 1, Math.random());","        const theta = u * this.arc;","        const r = Math.sqrt(rand);","        const sinTheta = Math.sin(theta);","        const cosTheta = Math.cos(theta);","        p.position.x = r * cosTheta;","        p.position.y = r * sinTheta;","        p.position.z = 0;","        const angle = this.angle * r;","        p.velocity.set(0, 0, Math.cos(angle)).addScaledVector(p.position, Math.sin(angle)).multiplyScalar(p.startSpeed);","        p.position.multiplyScalar(this.radius);","    }","    toJSON() {","        return {","            type: 'cone',","            radius: this.radius,","            arc: this.arc,","            thickness: this.thickness,","            angle: this.angle,","            mode: this.mode,","            spread: this.spread,","            speed: this.speed.toJSON(),","        };","    }","    static fromJSON(json) {","        return new ConeEmitter({","            radius: json.radius,","            arc: json.arc,","            thickness: json.thickness,","            angle: json.angle,","            mode: json.mode,","            speed: json.speed ? ValueGeneratorFromJSON(json.speed) : undefined,","            spread: json.spread,","        });","    }","    clone() {","        return new ConeEmitter({","            radius: this.radius,","            arc: this.arc,","            thickness: this.thickness,","            angle: this.angle,","            mode: this.mode,","            speed: this.speed.clone(),","            spread: this.spread,","        });","    }","}","","class CircleEmitter {","    constructor(parameters = {}) {","        var _a, _b, _c, _d, _e, _f;","        this.type = 'circle';","        this.currentValue = 0;","        this.radius = (_a = parameters.radius) !== null && _a !== void 0 ? _a : 10;","        this.arc = (_b = parameters.arc) !== null && _b !== void 0 ? _b : 2.0 * Math.PI;","        this.thickness = (_c = parameters.thickness) !== null && _c !== void 0 ? _c : 1;","        this.mode = (_d = parameters.mode) !== null && _d !== void 0 ? _d : EmitterMode.Random;","        this.spread = (_e = parameters.spread) !== null && _e !== void 0 ? _e : 0;","        this.speed = (_f = parameters.speed) !== null && _f !== void 0 ? _f : new ConstantValue(1);","    }","    update(system, delta) {","        this.currentValue += this.speed.genValue(system.emissionState.time / system.duration) * delta;","    }","    initialize(p) {","        const u = getValueFromEmitterMode(this.mode, this.currentValue, this.spread);","        const r = THREE.MathUtils.lerp(1 - this.thickness, 1, Math.random());","        const theta = u * this.arc;","        p.position.x = Math.cos(theta);","        p.position.y = Math.sin(theta);","        p.position.z = 0;","        p.velocity.copy(p.position).multiplyScalar(p.startSpeed);","        p.position.multiplyScalar(this.radius * r);","    }","    toJSON() {","        return {","            type: 'circle',","            radius: this.radius,","            arc: this.arc,","            thickness: this.thickness,","            mode: this.mode,","            spread: this.spread,","            speed: this.speed.toJSON(),","        };","    }","    static fromJSON(json) {","        return new CircleEmitter({","            radius: json.radius,","            arc: json.arc,","            thickness: json.thickness,","            mode: json.mode,","            speed: json.speed ? ValueGeneratorFromJSON(json.speed) : undefined,","            spread: json.spread,","        });","    }","    clone() {","        return new CircleEmitter({","            radius: this.radius,","            arc: this.arc,","            thickness: this.thickness,","            mode: this.mode,","            speed: this.speed.clone(),","            spread: this.spread,","        });","    }","}","","class DonutEmitter {","    constructor(parameters = {}) {","        var _a, _b, _c, _d, _e, _f, _g;","        this.type = 'donut';","        this.currentValue = 0;","        this.radius = (_a = parameters.radius) !== null && _a !== void 0 ? _a : 10;","        this.arc = (_b = parameters.arc) !== null && _b !== void 0 ? _b : 2.0 * Math.PI;","        this.thickness = (_c = parameters.thickness) !== null && _c !== void 0 ? _c : 1;","        this.donutRadius = (_d = parameters.donutRadius) !== null && _d !== void 0 ? _d : this.radius * 0.2;","        this.mode = (_e = parameters.mode) !== null && _e !== void 0 ? _e : EmitterMode.Random;","        this.spread = (_f = parameters.spread) !== null && _f !== void 0 ? _f : 0;","        this.speed = (_g = parameters.speed) !== null && _g !== void 0 ? _g : new ConstantValue(1);","    }","    update(system, delta) {","        if (EmitterMode.Random != this.mode) {","            this.currentValue += this.speed.genValue(system.emissionState.time / system.duration) * delta;","        }","    }","    initialize(p) {","        const u = getValueFromEmitterMode(this.mode, this.currentValue, this.spread);","        const v = Math.random();","        const rand = THREE.MathUtils.lerp(1 - this.thickness, 1, Math.random());","        const theta = u * this.arc;","        const phi = v * Math.PI * 2;","        const sinTheta = Math.sin(theta);","        const cosTheta = Math.cos(theta);","        p.position.x = this.radius * cosTheta;","        p.position.y = this.radius * sinTheta;","        p.position.z = 0;","        p.velocity.z = this.donutRadius * rand * Math.sin(phi);","        p.velocity.x = this.donutRadius * rand * Math.cos(phi) * cosTheta;","        p.velocity.y = this.donutRadius * rand * Math.cos(phi) * sinTheta;","        p.position.add(p.velocity);","        p.velocity.normalize().multiplyScalar(p.startSpeed);","    }","    toJSON() {","        return {","            type: 'donut',","            radius: this.radius,","            arc: this.arc,","            thickness: this.thickness,","            donutRadius: this.donutRadius,","            mode: this.mode,","            spread: this.spread,","            speed: this.speed.toJSON(),","        };","    }","    static fromJSON(json) {","        return new DonutEmitter({","            radius: json.radius,","            arc: json.arc,","            thickness: json.thickness,","            donutRadius: json.donutRadius,","            mode: json.mode,","            speed: json.speed ? ValueGeneratorFromJSON(json.speed) : undefined,","            spread: json.spread,","        });","    }","    clone() {","        return new DonutEmitter({","            radius: this.radius,","            arc: this.arc,","            thickness: this.thickness,","            donutRadius: this.donutRadius,","            mode: this.mode,","            speed: this.speed.clone(),","            spread: this.spread,","        });","    }","}","","class PointEmitter {","    constructor() {","        this.type = 'point';","    }","    update(system, delta) { }","    initialize(p) {","        const u = Math.random();","        const v = Math.random();","        const theta = u * Math.PI * 2;","        const phi = Math.acos(2.0 * v - 1.0);","        const r = Math.cbrt(Math.random());","        const sinTheta = Math.sin(theta);","        const cosTheta = Math.cos(theta);","        const sinPhi = Math.sin(phi);","        const cosPhi = Math.cos(phi);","        p.velocity.x = r * sinPhi * cosTheta;","        p.velocity.y = r * sinPhi * sinTheta;","        p.velocity.z = r * cosPhi;","        p.velocity.multiplyScalar(p.startSpeed);","        p.position.setScalar(0);","    }","    toJSON() {","        return {","            type: 'point',","        };","    }","    static fromJSON(json) {","        return new PointEmitter();","    }","    clone() {","        return new PointEmitter();","    }","}","","class SphereEmitter {","    constructor(parameters = {}) {","        var _a, _b, _c, _d, _e, _f;","        this.type = 'sphere';","        this.currentValue = 0;","        this.radius = (_a = parameters.radius) !== null && _a !== void 0 ? _a : 10;","        this.arc = (_b = parameters.arc) !== null && _b !== void 0 ? _b : 2.0 * Math.PI;","        this.thickness = (_c = parameters.thickness) !== null && _c !== void 0 ? _c : 1;","        this.mode = (_d = parameters.mode) !== null && _d !== void 0 ? _d : EmitterMode.Random;","        this.spread = (_e = parameters.spread) !== null && _e !== void 0 ? _e : 0;","        this.speed = (_f = parameters.speed) !== null && _f !== void 0 ? _f : new ConstantValue(1);","    }","    update(system, delta) {","        if (EmitterMode.Random != this.mode) {","            this.currentValue += this.speed.genValue(system.emissionState.time / system.duration) * delta;","        }","    }","    initialize(p) {","        const u = getValueFromEmitterMode(this.mode, this.currentValue, this.spread);","        const v = Math.random();","        const rand = THREE.MathUtils.lerp(1 - this.thickness, 1, Math.random());","        const theta = u * this.arc;","        const phi = Math.acos(2.0 * v - 1.0);","        const sinTheta = Math.sin(theta);","        const cosTheta = Math.cos(theta);","        const sinPhi = Math.sin(phi);","        const cosPhi = Math.cos(phi);","        p.position.x = sinPhi * cosTheta;","        p.position.y = sinPhi * sinTheta;","        p.position.z = cosPhi;","        p.velocity.copy(p.position).multiplyScalar(p.startSpeed);","        p.position.multiplyScalar(this.radius * rand);","    }","    toJSON() {","        return {","            type: 'sphere',","            radius: this.radius,","            arc: this.arc,","            thickness: this.thickness,","            mode: this.mode,","            spread: this.spread,","            speed: this.speed.toJSON(),","        };","    }","    static fromJSON(json) {","        return new SphereEmitter({","            radius: json.radius,","            arc: json.arc,","            thickness: json.thickness,","            mode: json.mode,","            speed: json.speed ? ValueGeneratorFromJSON(json.speed) : undefined,","            spread: json.spread,","        });","    }","    clone() {","        return new SphereEmitter({","            radius: this.radius,","            arc: this.arc,","            thickness: this.thickness,","            mode: this.mode,","            speed: this.speed.clone(),","            spread: this.spread,","        });","    }","}","","class HemisphereEmitter {","    constructor(parameters = {}) {","        var _a, _b, _c, _d, _e, _f;","        this.type = 'sphere';","        this.currentValue = 0;","        this.radius = (_a = parameters.radius) !== null && _a !== void 0 ? _a : 10;","        this.arc = (_b = parameters.arc) !== null && _b !== void 0 ? _b : 2.0 * Math.PI;","        this.thickness = (_c = parameters.thickness) !== null && _c !== void 0 ? _c : 1;","        this.mode = (_d = parameters.mode) !== null && _d !== void 0 ? _d : EmitterMode.Random;","        this.spread = (_e = parameters.spread) !== null && _e !== void 0 ? _e : 0;","        this.speed = (_f = parameters.speed) !== null && _f !== void 0 ? _f : new ConstantValue(1);","    }","    update(system, delta) {","        if (EmitterMode.Random != this.mode) {","            this.currentValue += this.speed.genValue(system.emissionState.time / system.duration) * delta;","        }","    }","    initialize(p) {","        const u = getValueFromEmitterMode(this.mode, this.currentValue, this.spread);","        const v = Math.random();","        const rand = THREE.MathUtils.lerp(1 - this.thickness, 1, Math.random());","        const theta = u * this.arc;","        const phi = Math.acos(v);","        const sinTheta = Math.sin(theta);","        const cosTheta = Math.cos(theta);","        const sinPhi = Math.sin(phi);","        const cosPhi = Math.cos(phi);","        p.position.x = sinPhi * cosTheta;","        p.position.y = sinPhi * sinTheta;","        p.position.z = cosPhi;","        p.velocity.copy(p.position).multiplyScalar(p.startSpeed);","        p.position.multiplyScalar(this.radius * rand);","    }","    toJSON() {","        return {","            type: 'hemisphere',","            radius: this.radius,","            arc: this.arc,","            thickness: this.thickness,","            mode: this.mode,","            spread: this.spread,","            speed: this.speed.toJSON(),","        };","    }","    static fromJSON(json) {","        return new HemisphereEmitter({","            radius: json.radius,","            arc: json.arc,","            thickness: json.thickness,","            mode: json.mode,","            speed: json.speed ? ValueGeneratorFromJSON(json.speed) : undefined,","            spread: json.spread,","        });","    }","    clone() {","        return new HemisphereEmitter({","            radius: this.radius,","            arc: this.arc,","            thickness: this.thickness,","            mode: this.mode,","            speed: this.speed.clone(),","            spread: this.spread,","        });","    }","}","","class GridEmitter {","    constructor(parameters = {}) {","        var _a, _b, _c, _d;","        this.type = 'grid';","        this.width = (_a = parameters.width) !== null && _a !== void 0 ? _a : 1;","        this.height = (_b = parameters.height) !== null && _b !== void 0 ? _b : 1;","        this.column = (_c = parameters.column) !== null && _c !== void 0 ? _c : 10;","        this.row = (_d = parameters.row) !== null && _d !== void 0 ? _d : 10;","    }","    initialize(p) {","        const r = Math.floor(Math.random() * this.row);","        const c = Math.floor(Math.random() * this.column);","        p.position.x = (c * this.width) / this.column - this.width / 2;","        p.position.y = (r * this.height) / this.row - this.height / 2;","        p.position.z = 0;","        p.velocity.set(0, 0, p.startSpeed);","    }","    toJSON() {","        return {","            type: 'grid',","            width: this.width,","            height: this.height,","            column: this.column,","            row: this.row,","        };","    }","    static fromJSON(json) {","        return new GridEmitter(json);","    }","    clone() {","        return new GridEmitter({","            width: this.width,","            height: this.height,","            column: this.column,","            row: this.row,","        });","    }","    update(system, delta) { }","}","","class MeshSurfaceEmitter {","    get geometry() {","        return this._geometry;","    }","    set geometry(geometry) {","        this._geometry = geometry;","        if (geometry === undefined) {","            return;","        }","        if (typeof geometry === 'string') {","            return;","        }","        const tri = new THREE.Triangle();","        this._triangleIndexToArea.length = 0;","        let area = 0;","        if (!geometry.getIndex()) {","            return;","        }","        const array = geometry.getIndex().array;","        const triCount = array.length / 3;","        this._triangleIndexToArea.push(0);","        for (let i = 0; i < triCount; i++) {","            tri.setFromAttributeAndIndices(geometry.getAttribute('position'), array[i * 3], array[i * 3 + 1], array[i * 3 + 2]);","            area += tri.getArea();","            this._triangleIndexToArea.push(area);","        }","        geometry.userData.triangleIndexToArea = this._triangleIndexToArea;","    }","    constructor(geometry) {","        this.type = 'mesh_surface';","        this._triangleIndexToArea = [];","        this._tempA = new THREE.Vector3();","        this._tempB = new THREE.Vector3();","        this._tempC = new THREE.Vector3();","        if (!geometry) {","            return;","        }","        this.geometry = geometry;","    }","    initialize(p) {","        const geometry = this._geometry;","        if (!geometry || geometry.getIndex() === null) {","            p.position.set(0, 0, 0);","            p.velocity.set(0, 0, 1).multiplyScalar(p.startSpeed);","            return;","        }","        const triCount = this._triangleIndexToArea.length - 1;","        let left = 0, right = triCount;","        const target = Math.random() * this._triangleIndexToArea[triCount];","        while (left + 1 < right) {","            const mid = Math.floor((left + right) / 2);","            if (target < this._triangleIndexToArea[mid]) {","                right = mid;","            }","            else {","                left = mid;","            }","        }","        let u1 = Math.random();","        let u2 = Math.random();","        if (u1 + u2 > 1) {","            u1 = 1 - u1;","            u2 = 1 - u2;","        }","        const index1 = geometry.getIndex().array[left * 3];","        const index2 = geometry.getIndex().array[left * 3 + 1];","        const index3 = geometry.getIndex().array[left * 3 + 2];","        const positionBuffer = geometry.getAttribute('position');","        this._tempA.fromBufferAttribute(positionBuffer, index1);","        this._tempB.fromBufferAttribute(positionBuffer, index2);","        this._tempC.fromBufferAttribute(positionBuffer, index3);","        this._tempB.sub(this._tempA);","        this._tempC.sub(this._tempA);","        this._tempA.addScaledVector(this._tempB, u1).addScaledVector(this._tempC, u2);","        p.position.copy(this._tempA);","        this._tempA.copy(this._tempB).cross(this._tempC).normalize();","        p.velocity.copy(this._tempA).normalize().multiplyScalar(p.startSpeed);","    }","    toJSON() {","        return {","            type: 'mesh_surface',","            mesh: this._geometry ? this._geometry.uuid : '',","        };","    }","    static fromJSON(json, meta) {","        return new MeshSurfaceEmitter(meta.geometries[json.geometry]);","    }","    clone() {","        return new MeshSurfaceEmitter(this._geometry);","    }","    update(system, delta) { }","}","","const EmitterShapes = {","    circle: {","        type: 'circle',","        params: [","            ['radius', 'number'],","            ['arc', 'radian'],","            ['thickness', 'number'],","            ['mode', 'emitterMode'],","            ['spread', 'number'],","            ['speed', 'valueFunc'],","        ],","        constructor: CircleEmitter,","        loadJSON: CircleEmitter.fromJSON,","    },","    cone: {","        type: 'cone',","        params: [","            ['radius', 'number'],","            ['arc', 'radian'],","            ['thickness', 'number'],","            ['angle', 'radian'],","            ['mode', 'emitterMode'],","            ['spread', 'number'],","            ['speed', 'valueFunc'],","        ],","        constructor: ConeEmitter,","        loadJSON: ConeEmitter.fromJSON,","    },","    donut: {","        type: 'donut',","        params: [","            ['radius', 'number'],","            ['arc', 'radian'],","            ['thickness', 'number'],","            ['donutRadius', 'number'],","            ['mode', 'emitterMode'],","            ['spread', 'number'],","            ['speed', 'valueFunc'],","        ],","        constructor: DonutEmitter,","        loadJSON: DonutEmitter.fromJSON,","    },","    point: { type: 'point', params: [], constructor: PointEmitter, loadJSON: PointEmitter.fromJSON },","    sphere: {","        type: 'sphere',","        params: [","            ['radius', 'number'],","            ['arc', 'radian'],","            ['thickness', 'number'],","            ['angle', 'radian'],","            ['mode', 'emitterMode'],","            ['spread', 'number'],","            ['speed', 'valueFunc'],","        ],","        constructor: SphereEmitter,","        loadJSON: SphereEmitter.fromJSON,","    },","    hemisphere: {","        type: 'hemisphere',","        params: [","            ['radius', 'number'],","            ['arc', 'radian'],","            ['thickness', 'number'],","            ['angle', 'radian'],","            ['mode', 'emitterMode'],","            ['spread', 'number'],","            ['speed', 'valueFunc'],","        ],","        constructor: HemisphereEmitter,","        loadJSON: HemisphereEmitter.fromJSON,","    },","    grid: {","        type: 'grid',","        params: [","            ['width', 'number'],","            ['height', 'number'],","            ['rows', 'number'],","            ['column', 'number'],","        ],","        constructor: GridEmitter,","        loadJSON: GridEmitter.fromJSON,","    },","    mesh_surface: {","        type: 'mesh_surface',","        params: [['geometry', 'geometry']],","        constructor: MeshSurfaceEmitter,","        loadJSON: MeshSurfaceEmitter.fromJSON,","    },","};","function EmitterFromJSON(json, meta) {","    return EmitterShapes[json.type].loadJSON(json, meta);","}","","let RenderMode = void 0;","(function (RenderMode) {","    RenderMode[RenderMode[\"BillBoard\"] = 0] = \"BillBoard\";","    RenderMode[RenderMode[\"StretchedBillBoard\"] = 1] = \"StretchedBillBoard\";","    RenderMode[RenderMode[\"Mesh\"] = 2] = \"Mesh\";","    RenderMode[RenderMode[\"Trail\"] = 3] = \"Trail\";","    RenderMode[RenderMode[\"HorizontalBillBoard\"] = 4] = \"HorizontalBillBoard\";","    RenderMode[RenderMode[\"VerticalBillBoard\"] = 5] = \"VerticalBillBoard\";","})(RenderMode || (RenderMode = {}));","class VFXBatch extends THREE.Mesh {","    constructor(settings) {","        super();","        this.type = 'VFXBatch';","        this.maxParticles = 1000;","        this.systems = new Set();","        const layers = new THREE.Layers();","        layers.mask = settings.layers.mask;","        const newMat = settings.material.clone();","        newMat.defines = {};","        Object.assign(newMat.defines, settings.material.defines);","        this.settings = {","            instancingGeometry: settings.instancingGeometry,","            renderMode: settings.renderMode,","            renderOrder: settings.renderOrder,","            material: newMat,","            uTileCount: settings.uTileCount,","            vTileCount: settings.vTileCount,","            layers: layers,","        };","        this.frustumCulled = false;","        this.renderOrder = this.settings.renderOrder;","    }","    addSystem(system) {","        this.systems.add(system);","    }","    removeSystem(system) {","        this.systems.delete(system);","    }","}","","const UP = new THREE.Vector3(0, 0, 1);","const tempQ$1 = new THREE.Quaternion();","const tempV$1 = new THREE.Vector3();","const tempV2$1 = new THREE.Vector3();","new THREE.Vector3();","const PREWARM_FPS$1 = 60;","const DEFAULT_GEOMETRY$1 = new THREE.PlaneGeometry(1, 1, 1, 1);","class ParticleSystem {","    set time(time) {","        this.emissionState.time = time;","    }","    get time() {","        return this.emissionState.time;","    }","    get layers() {","        return this.rendererSettings.layers;","    }","    get texture() {","        return this.rendererSettings.material.map;","    }","    set texture(texture) {","        this.rendererSettings.material.map = texture;","        this.neededToUpdateRender = true;","    }","    get material() {","        return this.rendererSettings.material;","    }","    set material(material) {","        this.rendererSettings.material = material;","        this.neededToUpdateRender = true;","    }","    get uTileCount() {","        return this.rendererSettings.uTileCount;","    }","    set uTileCount(u) {","        this.rendererSettings.uTileCount = u;","        this.neededToUpdateRender = true;","    }","    get vTileCount() {","        return this.rendererSettings.vTileCount;","    }","    set vTileCount(v) {","        this.rendererSettings.vTileCount = v;","        this.neededToUpdateRender = true;","    }","    get instancingGeometry() {","        return this.rendererSettings.instancingGeometry;","    }","    set instancingGeometry(geometry) {","        this.restart();","        this.particles.length = 0;","        this.rendererSettings.instancingGeometry = geometry;","        this.neededToUpdateRender = true;","    }","    get renderMode() {","        return this.rendererSettings.renderMode;","    }","    set renderMode(renderMode) {","        if ((this.rendererSettings.renderMode != RenderMode.Trail && renderMode === RenderMode.Trail) ||","            (this.rendererSettings.renderMode == RenderMode.Trail && renderMode !== RenderMode.Trail)) {","            this.restart();","            this.particles.length = 0;","        }","        if (this.rendererSettings.renderMode !== renderMode) {","            switch (renderMode) {","                case RenderMode.Trail:","                    this.rendererEmitterSettings = {","                        startLength: new ConstantValue(30),","                        followLocalOrigin: false,","                    };","                    break;","                case RenderMode.Mesh:","                    this.rendererEmitterSettings = {","                        geometry: new THREE.PlaneGeometry(1, 1),","                    };","                    this.startRotation = new AxisAngleGenerator(new THREE.Vector3(0, 1, 0), new ConstantValue(0));","                    break;","                case RenderMode.StretchedBillBoard:","                    this.rendererEmitterSettings = { speedFactor: 0, lengthFactor: 2 };","                    if (this.rendererSettings.renderMode === RenderMode.Mesh) {","                        this.startRotation = new ConstantValue(0);","                    }","                    break;","                case RenderMode.BillBoard:","                case RenderMode.VerticalBillBoard:","                case RenderMode.HorizontalBillBoard:","                    this.rendererEmitterSettings = {};","                    if (this.rendererSettings.renderMode === RenderMode.Mesh) {","                        this.startRotation = new ConstantValue(0);","                    }","                    break;","            }","        }","        this.rendererSettings.renderMode = renderMode;","        this.neededToUpdateRender = true;","    }","    get renderOrder() {","        return this.rendererSettings.renderOrder;","    }","    set renderOrder(renderOrder) {","        this.rendererSettings.renderOrder = renderOrder;","        this.neededToUpdateRender = true;","    }","    get blending() {","        return this.rendererSettings.material.blending;","    }","    set blending(blending) {","        this.rendererSettings.material.blending = blending;","        this.neededToUpdateRender = true;","    }","    constructor(parameters) {","        var _a, _b, _c, _d, _e, _f, _g, _h, _j, _k, _l, _m, _o, _p, _q, _r, _s, _t, _u, _v, _w, _x;","        this.temp = new THREE.Vector3();","        this.travelDistance = 0;","        this.normalMatrix = new THREE.Matrix3();","        this.firstTimeUpdate = true;","        this.autoDestroy = parameters.autoDestroy === undefined ? false : parameters.autoDestroy;","        this.duration = (_a = parameters.duration) !== null && _a !== void 0 ? _a : 1;","        this.looping = parameters.looping === undefined ? true : parameters.looping;","        this.prewarm = parameters.prewarm === undefined ? false : parameters.prewarm;","        this.startLife = (_b = parameters.startLife) !== null && _b !== void 0 ? _b : new ConstantValue(5);","        this.startSpeed = (_c = parameters.startSpeed) !== null && _c !== void 0 ? _c : new ConstantValue(0);","        this.startRotation = (_d = parameters.startRotation) !== null && _d !== void 0 ? _d : new ConstantValue(0);","        this.startSize = (_e = parameters.startSize) !== null && _e !== void 0 ? _e : new ConstantValue(1);","        this.startColor = (_f = parameters.startColor) !== null && _f !== void 0 ? _f : new ConstantColor(new THREE.Vector4(1, 1, 1, 1));","        this.emissionOverTime = (_g = parameters.emissionOverTime) !== null && _g !== void 0 ? _g : new ConstantValue(10);","        this.emissionOverDistance = (_h = parameters.emissionOverDistance) !== null && _h !== void 0 ? _h : new ConstantValue(0);","        this.emissionBursts = (_j = parameters.emissionBursts) !== null && _j !== void 0 ? _j : [];","        this.onlyUsedByOther = (_k = parameters.onlyUsedByOther) !== null && _k !== void 0 ? _k : false;","        this.emitterShape = (_l = parameters.shape) !== null && _l !== void 0 ? _l : new SphereEmitter();","        this.behaviors = (_m = parameters.behaviors) !== null && _m !== void 0 ? _m : new Array();","        this.worldSpace = (_o = parameters.worldSpace) !== null && _o !== void 0 ? _o : false;","        this.rendererEmitterSettings = (_p = parameters.rendererEmitterSettings) !== null && _p !== void 0 ? _p : {};","        if (parameters.renderMode === RenderMode.StretchedBillBoard) {","            const stretchedBillboardSettings = this.rendererEmitterSettings;","            if (parameters.speedFactor !== undefined) {","                stretchedBillboardSettings.speedFactor = parameters.speedFactor;","            }","            stretchedBillboardSettings.speedFactor = (_q = stretchedBillboardSettings.speedFactor) !== null && _q !== void 0 ? _q : 0;","            stretchedBillboardSettings.lengthFactor = (_r = stretchedBillboardSettings.lengthFactor) !== null && _r !== void 0 ? _r : 0;","        }","        this.rendererSettings = {","            instancingGeometry: (_s = parameters.instancingGeometry) !== null && _s !== void 0 ? _s : DEFAULT_GEOMETRY$1,","            renderMode: (_t = parameters.renderMode) !== null && _t !== void 0 ? _t : RenderMode.BillBoard,","            renderOrder: (_u = parameters.renderOrder) !== null && _u !== void 0 ? _u : 0,","            material: parameters.material,","            uTileCount: (_v = parameters.uTileCount) !== null && _v !== void 0 ? _v : 1,","            vTileCount: (_w = parameters.vTileCount) !== null && _w !== void 0 ? _w : 1,","            layers: (_x = parameters.layers) !== null && _x !== void 0 ? _x : new THREE.Layers(),","        };","        this.neededToUpdateRender = true;","        this.particles = new Array();","        this.startTileIndex = parameters.startTileIndex || new ConstantValue(0);","        this.emitter = new ParticleEmitter(this);","        this.paused = false;","        this.particleNum = 0;","        this.emissionState = {","            burstIndex: 0,","            burstWaveIndex: 0,","            time: 0,","            waitEmiting: 0,","            travelDistance: 0,","        };","        this.emitEnded = false;","        this.markForDestroy = false;","        this.prewarmed = false;","    }","    pause() {","        this.paused = true;","    }","    play() {","        this.paused = false;","    }","    spawn(count, emissionState, matrix) {","        tempQ$1.setFromRotationMatrix(matrix);","        const translation = tempV$1;","        const quaternion = tempQ$1;","        const scale = tempV2$1;","        matrix.decompose(translation, quaternion, scale);","        for (let i = 0; i < count; i++) {","            this.particleNum++;","            while (this.particles.length < this.particleNum) {","                if (this.rendererSettings.renderMode === RenderMode.Trail) {","                    this.particles.push(new TrailParticle());","                }","                else {","                    this.particles.push(new SpriteParticle());","                }","            }","            const particle = this.particles[this.particleNum - 1];","            particle.speedModifier = 1;","            this.startColor.genColor(particle.startColor, this.emissionState.time, {});","            particle.color.copy(particle.startColor);","            particle.startSpeed = this.startSpeed.genValue(emissionState.time / this.duration);","            particle.life = this.startLife.genValue(emissionState.time / this.duration);","            particle.age = 0;","            particle.startSize = this.startSize.genValue(emissionState.time / this.duration);","            particle.uvTile = Math.floor(this.startTileIndex.genValue() + 0.001);","            particle.size = particle.startSize;","            if (this.rendererSettings.renderMode === RenderMode.Mesh ||","                this.rendererSettings.renderMode === RenderMode.BillBoard ||","                this.rendererSettings.renderMode === RenderMode.VerticalBillBoard ||","                this.rendererSettings.renderMode === RenderMode.HorizontalBillBoard ||","                this.rendererSettings.renderMode === RenderMode.StretchedBillBoard) {","                const sprite = particle;","                if (this.rendererSettings.renderMode === RenderMode.Mesh) {","                    if (!(sprite.rotation instanceof THREE.Quaternion)) {","                        sprite.rotation = new THREE.Quaternion();","                    }","                    if (this.startRotation.type === 'rotation') {","                        this.startRotation.genValue(sprite.rotation, emissionState.time / this.duration);","                    }","                    else {","                        sprite.rotation.setFromAxisAngle(UP, this.startRotation.genValue((emissionState.time / this.duration)));","                    }","                }","                else {","                    if (this.startRotation.type === 'rotation') {","                        sprite.rotation = 0;","                    }","                    else {","                        sprite.rotation = this.startRotation.genValue(emissionState.time / this.duration);","                    }","                }","            }","            else if (this.rendererSettings.renderMode === RenderMode.Trail) {","                const trail = particle;","                trail.length = this.rendererEmitterSettings.startLength.genValue(emissionState.time / this.duration);","            }","            this.emitterShape.initialize(particle);","            if (this.rendererSettings.renderMode === RenderMode.Trail &&","                this.rendererEmitterSettings.followLocalOrigin) {","                const trail = particle;","                trail.localPosition = new THREE.Vector3().copy(trail.position);","            }","            if (this.worldSpace) {","                particle.position.applyMatrix4(matrix);","                particle.startSize =","                    (particle.startSize * (Math.abs(scale.x) + Math.abs(scale.y) + Math.abs(scale.z))) / 3;","                particle.size = particle.startSize;","                particle.velocity.multiply(scale).applyMatrix3(this.normalMatrix);","                if (particle.rotation && particle.rotation instanceof THREE.Quaternion) {","                    particle.rotation.multiplyQuaternions(tempQ$1, particle.rotation);","                }","            }","            else {","                if (this.onlyUsedByOther) {","                    particle.parentMatrix = matrix;","                }","            }","            for (let j = 0; j < this.behaviors.length; j++) {","                this.behaviors[j].initialize(particle);","            }","        }","    }","    endEmit() {","        this.emitEnded = true;","        if (this.autoDestroy) {","            this.markForDestroy = true;","        }","    }","    dispose() {","        if (this._renderer)","            this._renderer.deleteSystem(this);","        this.emitter.dispose();","        if (this.emitter.parent)","            this.emitter.parent.remove(this.emitter);","    }","    restart() {","        this.paused = false;","        this.particleNum = 0;","        this.emissionState.burstIndex = 0;","        this.emissionState.burstWaveIndex = 0;","        this.emissionState.time = 0;","        this.emissionState.waitEmiting = 0;","        this.behaviors.forEach((behavior) => {","            behavior.reset();","        });","        this.emitEnded = false;","        this.markForDestroy = false;","        this.prewarmed = false;","    }","    update(delta) {","        if (this.paused)","            return;","        let currentParent = this.emitter;","        while (currentParent.parent) {","            currentParent = currentParent.parent;","        }","        if (currentParent.type !== 'Scene') {","            this.dispose();","            return;","        }","        if (this.firstTimeUpdate) {","            this.firstTimeUpdate = false;","            this.emitter.updateWorldMatrix(true, false);","        }","        if (this.emitEnded && this.particleNum === 0) {","            if (this.markForDestroy && this.emitter.parent)","                this.dispose();","            return;","        }","        if (this.looping && this.prewarm && !this.prewarmed) {","            this.prewarmed = true;","            for (let i = 0; i < this.duration * PREWARM_FPS$1; i++) {","                this.update(1.0 / PREWARM_FPS$1);","            }","        }","        if (delta > 0.1) {","            delta = 0.1;","        }","        if (this.neededToUpdateRender) {","            if (this._renderer)","                this._renderer.updateSystem(this);","            this.neededToUpdateRender = false;","        }","        if (!this.onlyUsedByOther) {","            this.emit(delta, this.emissionState, this.emitter.matrixWorld);","        }","        this.emitterShape.update(this, delta);","        for (let j = 0; j < this.behaviors.length; j++) {","            for (let i = 0; i < this.particleNum; i++) {","                if (!this.particles[i].died) {","                    this.behaviors[j].update(this.particles[i], delta);","                }","            }","            this.behaviors[j].frameUpdate(delta);","        }","        for (let i = 0; i < this.particleNum; i++) {","            if (this.rendererEmitterSettings.followLocalOrigin &&","                this.particles[i].localPosition) {","                this.particles[i].position.copy(this.particles[i].localPosition);","                if (this.particles[i].parentMatrix) {","                    this.particles[i].position.applyMatrix4(this.particles[i].parentMatrix);","                }","                else {","                    this.particles[i].position.applyMatrix4(this.emitter.matrixWorld);","                }","            }","            else {","                this.particles[i].position.addScaledVector(this.particles[i].velocity, delta * this.particles[i].speedModifier);","            }","            this.particles[i].age += delta;","        }","        if (this.rendererSettings.renderMode === RenderMode.Trail) {","            for (let i = 0; i < this.particleNum; i++) {","                const particle = this.particles[i];","                particle.update();","            }","        }","        for (let i = 0; i < this.particleNum; i++) {","            const particle = this.particles[i];","            if (particle.died && (!(particle instanceof TrailParticle) || particle.previous.length === 0)) {","                this.particles[i] = this.particles[this.particleNum - 1];","                this.particles[this.particleNum - 1] = particle;","                this.particleNum--;","                i--;","            }","        }","    }","    emit(delta, emissionState, emitterMatrix) {","        if (emissionState.time > this.duration) {","            if (this.looping) {","                emissionState.time -= this.duration;","                emissionState.burstIndex = 0;","                this.behaviors.forEach((behavior) => {","                    behavior.reset();","                });","            }","            else {","                if (!this.emitEnded && !this.onlyUsedByOther) {","                    this.endEmit();","                }","            }","        }","        this.normalMatrix.getNormalMatrix(emitterMatrix);","        const totalSpawn = Math.ceil(emissionState.waitEmiting);","        this.spawn(totalSpawn, emissionState, emitterMatrix);","        emissionState.waitEmiting -= totalSpawn;","        while (emissionState.burstIndex < this.emissionBursts.length &&","            this.emissionBursts[emissionState.burstIndex].time <= emissionState.time) {","            if (Math.random() < this.emissionBursts[emissionState.burstIndex].probability) {","                const count = this.emissionBursts[emissionState.burstIndex].count.genValue(this.time);","                this.spawn(count, emissionState, emitterMatrix);","            }","            emissionState.burstIndex++;","        }","        if (!this.emitEnded) {","            emissionState.waitEmiting += delta * this.emissionOverTime.genValue(emissionState.time / this.duration);","            if (emissionState.previousWorldPos != undefined) {","                this.temp.set(emitterMatrix.elements[12], emitterMatrix.elements[13], emitterMatrix.elements[14]);","                emissionState.travelDistance += emissionState.previousWorldPos.distanceTo(this.temp);","                const emitPerMeter = this.emissionOverDistance.genValue(emissionState.time / this.duration);","                if (emissionState.travelDistance * emitPerMeter > 0) {","                    const count = Math.floor(emissionState.travelDistance * emitPerMeter);","                    emissionState.travelDistance -= count / emitPerMeter;","                    emissionState.waitEmiting += count;","                }","            }","        }","        if (emissionState.previousWorldPos === undefined)","            emissionState.previousWorldPos = new THREE.Vector3();","        emissionState.previousWorldPos.set(emitterMatrix.elements[12], emitterMatrix.elements[13], emitterMatrix.elements[14]);","        emissionState.time += delta;","    }","    toJSON(meta, options = {}) {","        const isRootObject = meta === undefined || typeof meta === 'string';","        if (isRootObject) {","            meta = {","                geometries: {},","                materials: {},","                textures: {},","                images: {},","                shapes: {},","                skeletons: {},","                animations: {},","                nodes: {},","            };","        }","        meta.materials[this.rendererSettings.material.uuid] = this.rendererSettings.material.toJSON(meta);","        if (options.useUrlForImage) {","            if (this.texture.source !== undefined) {","                const image = this.texture.source;","                meta.images[image.uuid] = {","                    uuid: image.uuid,","                    url: this.texture.image.url,","                };","            }","        }","        let rendererSettingsJSON;","        if (this.renderMode === RenderMode.Trail) {","            rendererSettingsJSON = {","                startLength: this.rendererEmitterSettings.startLength.toJSON(),","                followLocalOrigin: this.rendererEmitterSettings.followLocalOrigin,","            };","        }","        else if (this.renderMode === RenderMode.Mesh) {","            rendererSettingsJSON = {};","        }","        else if (this.renderMode === RenderMode.StretchedBillBoard) {","            rendererSettingsJSON = {","                speedFactor: this.rendererEmitterSettings.speedFactor,","                lengthFactor: this.rendererEmitterSettings.lengthFactor,","            };","        }","        else {","            rendererSettingsJSON = {};","        }","        const geometry = this.rendererSettings.instancingGeometry;","        if (meta.geometries && !meta.geometries[geometry.uuid]) {","            meta.geometries[geometry.uuid] = geometry.toJSON();","        }","        return {","            version: '2.0',","            autoDestroy: this.autoDestroy,","            looping: this.looping,","            prewarm: this.prewarm,","            duration: this.duration,","            shape: this.emitterShape.toJSON(),","            startLife: this.startLife.toJSON(),","            startSpeed: this.startSpeed.toJSON(),","            startRotation: this.startRotation.toJSON(),","            startSize: this.startSize.toJSON(),","            startColor: this.startColor.toJSON(),","            emissionOverTime: this.emissionOverTime.toJSON(),","            emissionOverDistance: this.emissionOverDistance.toJSON(),","            emissionBursts: this.emissionBursts.map((burst) => ({","                time: burst.time,","                count: burst.count.toJSON(),","                probability: burst.probability,","                interval: burst.interval,","                cycle: burst.cycle,","            })),","            onlyUsedByOther: this.onlyUsedByOther,","            instancingGeometry: this.rendererSettings.instancingGeometry.uuid,","            renderOrder: this.renderOrder,","            renderMode: this.renderMode,","            rendererEmitterSettings: rendererSettingsJSON,","            material: this.rendererSettings.material.uuid,","            layers: this.layers.mask,","            startTileIndex: this.startTileIndex.toJSON(),","            uTileCount: this.uTileCount,","            vTileCount: this.vTileCount,","            behaviors: this.behaviors.map((behavior) => behavior.toJSON()),","            worldSpace: this.worldSpace,","        };","    }","    static fromJSON(json, meta, dependencies) {","        var _a, _b;","        const shape = EmitterFromJSON(json.shape, meta);","        let rendererEmitterSettings;","        if (json.renderMode === RenderMode.Trail) {","            let trailSettings = json.rendererEmitterSettings;","            rendererEmitterSettings = {","                startLength: trailSettings.startLength != undefined","                    ? ValueGeneratorFromJSON(trailSettings.startLength)","                    : new ConstantValue(30),","                followLocalOrigin: trailSettings.followLocalOrigin,","            };","        }","        else if (json.renderMode === RenderMode.Mesh) {","            rendererEmitterSettings = {};","        }","        else if (json.renderMode === RenderMode.StretchedBillBoard) {","            rendererEmitterSettings = json.rendererEmitterSettings;","            if (json.speedFactor != undefined) {","                rendererEmitterSettings.speedFactor = json.speedFactor;","            }","        }","        else {","            rendererEmitterSettings = {};","        }","        const layers = new THREE.Layers();","        if (json.layers) {","            layers.mask = json.layers;","        }","        const ps = new ParticleSystem({","            autoDestroy: json.autoDestroy,","            looping: json.looping,","            prewarm: json.prewarm,","            duration: json.duration,","            shape: shape,","            startLife: ValueGeneratorFromJSON(json.startLife),","            startSpeed: ValueGeneratorFromJSON(json.startSpeed),","            startRotation: GeneratorFromJSON(json.startRotation),","            startSize: ValueGeneratorFromJSON(json.startSize),","            startColor: ColorGeneratorFromJSON(json.startColor),","            emissionOverTime: ValueGeneratorFromJSON(json.emissionOverTime),","            emissionOverDistance: ValueGeneratorFromJSON(json.emissionOverDistance),","            emissionBursts: (_a = json.emissionBursts) === null || _a === void 0 ? void 0 : _a.map((burst) => ({","                time: burst.time,","                count: typeof burst.count === 'number'","                    ? new ConstantValue(burst.count)","                    : ValueGeneratorFromJSON(burst.count),","                probability: burst.probability,","                interval: burst.interval,","                cycle: burst.cycle,","            })),","            onlyUsedByOther: json.onlyUsedByOther,","            instancingGeometry: meta.geometries[json.instancingGeometry],","            renderMode: json.renderMode,","            rendererEmitterSettings: rendererEmitterSettings,","            renderOrder: json.renderOrder,","            layers: layers,","            material: json.material","                ? meta.materials[json.material]","                : json.texture","                    ? new THREE.MeshBasicMaterial({","                        map: meta.textures[json.texture],","                        transparent: (_b = json.transparent) !== null && _b !== void 0 ? _b : true,","                        blending: json.blending,","                        side: THREE.DoubleSide,","                    })","                    : new THREE.MeshBasicMaterial({","                        color: 0xffffff,","                        transparent: true,","                        blending: THREE.AdditiveBlending,","                        side: THREE.DoubleSide,","                    }),","            startTileIndex: typeof json.startTileIndex === 'number'","                ? new ConstantValue(json.startTileIndex)","                : ValueGeneratorFromJSON(json.startTileIndex),","            uTileCount: json.uTileCount,","            vTileCount: json.vTileCount,","            behaviors: [],","            worldSpace: json.worldSpace,","        });","        ps.behaviors = json.behaviors.map((behaviorJson) => {","            const behavior = BehaviorFromJSON(behaviorJson, ps);","            if (behavior.type === 'EmitSubParticleSystem') {","                dependencies[behaviorJson.subParticleSystem] = behavior;","            }","            return behavior;","        });","        return ps;","    }","    addBehavior(behavior) {","        this.behaviors.push(behavior);","    }","    getRendererSettings() {","        return this.rendererSettings;","    }","    clone() {","        const newEmissionBursts = [];","        for (const emissionBurst of this.emissionBursts) {","            const newEmissionBurst = {};","            Object.assign(newEmissionBurst, emissionBurst);","            newEmissionBursts.push(newEmissionBurst);","        }","        const newBehaviors = [];","        for (const behavior of this.behaviors) {","            newBehaviors.push(behavior.clone());","        }","        let rendererEmitterSettings;","        if (this.renderMode === RenderMode.Trail) {","            rendererEmitterSettings = {","                startLength: this.rendererEmitterSettings.startLength.clone(),","                followLocalOrigin: this.rendererEmitterSettings.followLocalOrigin,","            };","        }","        else {","            rendererEmitterSettings = {};","        }","        const layers = new THREE.Layers();","        layers.mask = this.layers.mask;","        return new ParticleSystem({","            autoDestroy: this.autoDestroy,","            looping: this.looping,","            duration: this.duration,","            shape: this.emitterShape.clone(),","            startLife: this.startLife.clone(),","            startSpeed: this.startSpeed.clone(),","            startRotation: this.startRotation.clone(),","            startSize: this.startSize.clone(),","            startColor: this.startColor.clone(),","            emissionOverTime: this.emissionOverTime.clone(),","            emissionOverDistance: this.emissionOverDistance.clone(),","            emissionBursts: newEmissionBursts,","            onlyUsedByOther: this.onlyUsedByOther,","            instancingGeometry: this.rendererSettings.instancingGeometry,","            renderMode: this.renderMode,","            renderOrder: this.renderOrder,","            rendererEmitterSettings: rendererEmitterSettings,","            material: this.rendererSettings.material,","            startTileIndex: this.startTileIndex,","            uTileCount: this.uTileCount,","            vTileCount: this.vTileCount,","            behaviors: newBehaviors,","            worldSpace: this.worldSpace,","            layers: layers,","        });","    }","}","","var particle_frag = `","","#include <common>","#include <uv_pars_fragment>","#include <color_pars_fragment>","#include <map_pars_fragment>","#include <logdepthbuf_pars_fragment>","#include <clipping_planes_pars_fragment>","#include <alphatest_pars_fragment>","","void main() {","","    #include <clipping_planes_fragment>","    ","    vec3 outgoingLight = vec3( 0.0 );","    vec4 diffuseColor = vColor;","    ","    #include <logdepthbuf_fragment>","    ","    #ifdef USE_MAP","    diffuseColor *= texture2D( map, vMapUv);","    #endif","    ","    #include <alphatest_fragment>","","    outgoingLight = diffuseColor.rgb;","    ","    #ifdef USE_COLOR_AS_ALPHA","    gl_FragColor = vec4( outgoingLight, diffuseColor.r );","    #else","    gl_FragColor = vec4( outgoingLight, diffuseColor.a );","    #endif","    ","    ","    #include <tonemapping_fragment>","","}","`;","","var particle_physics_frag = `","#define STANDARD","#ifdef PHYSICAL","#define IOR","#define SPECULAR","#endif","uniform vec3 diffuse;","uniform vec3 emissive;","uniform float roughness;","uniform float metalness;","uniform float opacity;","#ifdef IOR","uniform float ior;","#endif","#ifdef SPECULAR","uniform float specularIntensity;","uniform vec3 specularColor;","#ifdef USE_SPECULARINTENSITYMAP","uniform sampler2D specularIntensityMap;","#endif","#ifdef USE_SPECULARCOLORMAP","uniform sampler2D specularColorMap;","#endif","#endif","#ifdef USE_CLEARCOAT","uniform float clearcoat;","uniform float clearcoatRoughness;","#endif","#ifdef USE_IRIDESCENCE","uniform float iridescence;","uniform float iridescenceIOR;","uniform float iridescenceThicknessMinimum;","uniform float iridescenceThicknessMaximum;","#endif","#ifdef USE_SHEEN","uniform vec3 sheenColor;","uniform float sheenRoughness;","#ifdef USE_SHEENCOLORMAP","uniform sampler2D sheenColorMap;","#endif","#ifdef USE_SHEENROUGHNESSMAP","uniform sampler2D sheenRoughnessMap;","#endif","#endif","","varying vec3 vViewPosition;","#include <common>","#include <packing>","#include <dithering_pars_fragment>","#include <color_pars_fragment>","#include <uv_pars_fragment>","#include <map_pars_fragment>","#include <alphamap_pars_fragment>","#include <alphatest_pars_fragment>","#include <aomap_pars_fragment>","#include <lightmap_pars_fragment>","#include <emissivemap_pars_fragment>","#include <bsdfs>","#include <iridescence_fragment>","#include <cube_uv_reflection_fragment>","#include <envmap_common_pars_fragment>","#include <envmap_physical_pars_fragment>","#include <fog_pars_fragment>","#include <lights_pars_begin>","#include <normal_pars_fragment>","#include <lights_physical_pars_fragment>","#include <transmission_pars_fragment>","#include <shadowmap_pars_fragment>","#include <bumpmap_pars_fragment>","#include <normalmap_pars_fragment>","#include <clearcoat_pars_fragment>","#include <iridescence_pars_fragment>","#include <roughnessmap_pars_fragment>","#include <metalnessmap_pars_fragment>","#include <logdepthbuf_pars_fragment>","#include <clipping_planes_pars_fragment>","","void main() {","    #include <clipping_planes_fragment>","    vec4 diffuseColor = vec4( diffuse, opacity );","    ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );","    vec3 totalEmissiveRadiance = emissive;","    #include <logdepthbuf_fragment>","    #include <map_fragment>","    #include <color_fragment>","    #include <alphamap_fragment>","    #include <alphatest_fragment>","    #include <roughnessmap_fragment>","    #include <metalnessmap_fragment>","    #include <normal_fragment_begin>","    #include <normal_fragment_maps>","    #include <clearcoat_normal_fragment_begin>","    #include <clearcoat_normal_fragment_maps>","    #include <emissivemap_fragment>","    // accumulation","    #include <lights_physical_fragment>","    #include <lights_fragment_begin>","    #include <lights_fragment_maps>","    #include <lights_fragment_end>","    // modulation","    #include <aomap_fragment>","    vec3 totalDiffuse = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse;","    vec3 totalSpecular = reflectedLight.directSpecular + reflectedLight.indirectSpecular;","    #include <transmission_fragment>","    vec3 outgoingLight = totalDiffuse + totalSpecular + totalEmissiveRadiance;","    #ifdef USE_SHEEN","    // Sheen energy compensation approximation calculation can be found at the end of","        // https://drive.google.com/file/d/1T0D1VSyR4AllqIJTQAraEIzjlb5h4FKH/view?usp=sharing","        float sheenEnergyComp = 1.0 - 0.157 * max3( material.sheenColor );","        outgoingLight = outgoingLight * sheenEnergyComp + sheenSpecular;","    #endif","    #ifdef USE_CLEARCOAT","        float dotNVcc = saturate( dot( geometry.clearcoatNormal, geometry.viewDir ) );","        vec3 Fcc = F_Schlick( material.clearcoatF0, material.clearcoatF90, dotNVcc );","        outgoingLight = outgoingLight * ( 1.0 - material.clearcoat * Fcc ) + clearcoatSpecular * material.clearcoat;","    #endif","    #include <output_fragment>","    #include <tonemapping_fragment>","    #include <encodings_fragment>","    #include <fog_fragment>","    #include <premultiplied_alpha_fragment>","    #include <dithering_fragment>","}`;","","var uv_vertex_tile = `","","    #ifdef UV_TILE","        float col = mod(uvTile, tileCount.x);","        float row = (tileCount.y - floor(uvTile / tileCount.x) - 1.0);","        ","        mat3 tileTransform = mat3(","          1.0 / tileCount.x, 0.0, 0.0,","          0.0, 1.0 / tileCount.y, 0.0, ","          col / tileCount.x, row / tileCount.y, 1.0);","    #else","        mat3 tileTransform = mat3(1.0, 0.0, 0.0, 0.0, 1.0, 0.0, 0.0, 0.0, 1.0);","    #endif","","#if defined( USE_UV ) || defined( USE_ANISOTROPY )","","vUv = (tileTransform *vec3( uv, 1 )).xy;","","#endif","#ifdef USE_MAP","","vMapUv = ( tileTransform * (mapTransform * vec3( MAP_UV, 1 ) )).xy;","","#endif","#ifdef USE_ALPHAMAP","","vAlphaMapUv = ( tileTransform * (alphaMapTransform * vec3( ALPHAMAP_UV, 1 ) )).xy;","","#endif","#ifdef USE_LIGHTMAP","","vLightMapUv = ( tileTransform * (lightMapTransform * vec3( LIGHTMAP_UV, 1 ) )).xy;","","#endif","#ifdef USE_AOMAP","","vAoMapUv = ( tileTransform * (aoMapTransform * vec3( AOMAP_UV, 1 ) )).xy;","","#endif","#ifdef USE_BUMPMAP","","vBumpMapUv = ( tileTransform * (bumpMapTransform * vec3( BUMPMAP_UV, 1 ) )).xy;","","#endif","#ifdef USE_NORMALMAP","","vNormalMapUv = ( tileTransform * (normalMapTransform * vec3( NORMALMAP_UV, 1 ) )).xy;","","#endif","#ifdef USE_DISPLACEMENTMAP","","vDisplacementMapUv = ( tileTransform * (displacementMapTransform * vec3( DISPLACEMENTMAP_UV, 1 ) )).xy;","","#endif","#ifdef USE_EMISSIVEMAP","","vEmissiveMapUv = ( tileTransform * (emissiveMapTransform * vec3( EMISSIVEMAP_UV, 1 ) )).xy;","","#endif","#ifdef USE_METALNESSMAP","","vMetalnessMapUv = ( tileTransform * (metalnessMapTransform * vec3( METALNESSMAP_UV, 1 ) )).xy;","","#endif","#ifdef USE_ROUGHNESSMAP","","vRoughnessMapUv = ( tileTransform * (roughnessMapTransform * vec3( ROUGHNESSMAP_UV, 1 ) )).xy;","","#endif","#ifdef USE_ANISOTROPYMAP","","vAnisotropyMapUv = ( tileTransform * (anisotropyMapTransform * vec3( ANISOTROPYMAP_UV, 1 ) )).xy;","","#endif","#ifdef USE_CLEARCOATMAP","","vClearcoatMapUv = ( tileTransform * (clearcoatMapTransform * vec3( CLEARCOATMAP_UV, 1 ) )).xy;","","#endif","#ifdef USE_CLEARCOAT_NORMALMAP","","vClearcoatNormalMapUv = ( tileTransform * (clearcoatNormalMapTransform * vec3( CLEARCOAT_NORMALMAP_UV, 1 ) )).xy;","","#endif","#ifdef USE_CLEARCOAT_ROUGHNESSMAP","","vClearcoatRoughnessMapUv = ( tileTransform * (clearcoatRoughnessMapTransform * vec3( CLEARCOAT_ROUGHNESSMAP_UV, 1 ) )).xy;","","#endif","#ifdef USE_IRIDESCENCEMAP","","vIridescenceMapUv = ( tileTransform * (iridescenceMapTransform * vec3( IRIDESCENCEMAP_UV, 1 ) )).xy;","","#endif","#ifdef USE_IRIDESCENCE_THICKNESSMAP","","vIridescenceThicknessMapUv = ( tileTransform * (iridescenceThicknessMapTransform * vec3( IRIDESCENCE_THICKNESSMAP_UV, 1 ) )).xy;","","#endif","#ifdef USE_SHEEN_COLORMAP","","vSheenColorMapUv = ( tileTransform * (sheenColorMapTransform * vec3( SHEEN_COLORMAP_UV, 1 ) )).xy;","","#endif","#ifdef USE_SHEEN_ROUGHNESSMAP","","vSheenRoughnessMapUv = ( tileTransform * (sheenRoughnessMapTransform * vec3( SHEEN_ROUGHNESSMAP_UV, 1 ) )).xy;","","#endif","#ifdef USE_SPECULARMAP","","vSpecularMapUv = ( tileTransform * (specularMapTransform * vec3( SPECULARMAP_UV, 1 ) )).xy;","","#endif","#ifdef USE_SPECULAR_COLORMAP","","vSpecularColorMapUv = ( tileTransform * (specularColorMapTransform * vec3( SPECULAR_COLORMAP_UV, 1 ) )).xy;","","#endif","#ifdef USE_SPECULAR_INTENSITYMAP","","vSpecularIntensityMapUv = ( tileTransform * (specularIntensityMapTransform * vec3( SPECULAR_INTENSITYMAP_UV, 1 ) )).xy;","","#endif","#ifdef USE_TRANSMISSIONMAP","","vTransmissionMapUv = ( tileTransform * transmissionMapTransform * vec3( TRANSMISSIONMAP_UV, 1 ) )).xy;","","#endif","#ifdef USE_THICKNESSMAP","","vThicknessMapUv = ( tileTransform * thicknessMapTransform * vec3( THICKNESSMAP_UV, 1 ) )).xy;","","#endif","`;","","var particle_vert = `","#include <common>","#include <color_pars_vertex>","#include <uv_pars_vertex>","#include <logdepthbuf_pars_vertex>","#include <clipping_planes_pars_vertex>","","attribute vec3 offset;","attribute float rotation;","attribute float size;","attribute float uvTile;","","#ifdef UV_TILE","uniform vec2 tileCount;","#endif","","void main() {","","    ${uv_vertex_tile}","\t","    vec2 alignedPosition = ( position.xy ) * size;","    ","    vec2 rotatedPosition;","    rotatedPosition.x = cos( rotation ) * alignedPosition.x - sin( rotation ) * alignedPosition.y;","    rotatedPosition.y = sin( rotation ) * alignedPosition.x + cos( rotation ) * alignedPosition.y;","#ifdef HORIZONTAL","    vec4 mvPosition = modelMatrix * vec4( offset, 1.0 );","    mvPosition.x += rotatedPosition.x;","    mvPosition.z -= rotatedPosition.y;","    mvPosition = viewMatrix * mvPosition;","#elif defined(VERTICAL)","    vec4 mvPosition = modelMatrix * vec4( offset, 1.0 );","    mvPosition.y += rotatedPosition.y;","    mvPosition = viewMatrix * mvPosition;","    mvPosition.x += rotatedPosition.x;","#else","    vec4 mvPosition = modelViewMatrix * vec4( offset, 1.0 );","    mvPosition.xy += rotatedPosition;","#endif","","\tvColor = color;","","\tgl_Position = projectionMatrix * mvPosition;","","\t#include <logdepthbuf_vertex>","\t#include <clipping_planes_vertex>","","}","`;","","var local_particle_vert = `","#include <common>","#include <uv_pars_vertex>","#include <color_pars_vertex>","#include <logdepthbuf_pars_vertex>","#include <clipping_planes_pars_vertex>","","attribute vec3 offset;","attribute vec4 rotation;","attribute float size;","// attribute vec4 color;","attribute float uvTile;","","#ifdef UV_TILE","uniform vec2 tileCount;","#endif","","void main() {","","    ${uv_vertex_tile}","    ","    float x2 = rotation.x + rotation.x, y2 = rotation.y + rotation.y, z2 = rotation.z + rotation.z;","    float xx = rotation.x * x2, xy = rotation.x * y2, xz = rotation.x * z2;","    float yy = rotation.y * y2, yz = rotation.y * z2, zz = rotation.z * z2;","    float wx = rotation.w * x2, wy = rotation.w * y2, wz = rotation.w * z2;","    float sx = size, sy = size, sz = size;","    ","    mat4 matrix = mat4(( 1.0 - ( yy + zz ) ) * sx, ( xy + wz ) * sx, ( xz - wy ) * sx, 0.0,  // 1. column","                      ( xy - wz ) * sy, ( 1.0 - ( xx + zz ) ) * sy, ( yz + wx ) * sy, 0.0,  // 2. column","                      ( xz + wy ) * sz, ( yz - wx ) * sz, ( 1.0 - ( xx + yy ) ) * sz, 0.0,  // 3. column","                      offset.x, offset.y, offset.z, 1.0);","    ","    vec4 mvPosition = modelViewMatrix * (matrix * vec4( position, 1.0 ));","","\tvColor = color;","","\tgl_Position = projectionMatrix * mvPosition;","","\t#include <logdepthbuf_vertex>","\t#include <clipping_planes_vertex>","","}","`;","","var local_particle_physics_vert = `","#define STANDARD","varying vec3 vViewPosition;","#ifdef USE_TRANSMISSION","\tvarying vec3 vWorldPosition;","#endif","#include <common>","#include <uv_pars_vertex>","","attribute vec3 offset;","attribute vec4 rotation;","attribute float size;","attribute float uvTile;","","#ifdef UV_TILE","uniform vec2 tileCount;","#endif","","#include <displacementmap_pars_vertex>","#include <color_pars_vertex>","#include <fog_pars_vertex>","#include <normal_pars_vertex>","#include <morphtarget_pars_vertex>","#include <skinning_pars_vertex>","#include <shadowmap_pars_vertex>","#include <logdepthbuf_pars_vertex>","#include <clipping_planes_pars_vertex>","","void main() {","    ${uv_vertex_tile}","","    float x2 = rotation.x + rotation.x, y2 = rotation.y + rotation.y, z2 = rotation.z + rotation.z;","    float xx = rotation.x * x2, xy = rotation.x * y2, xz = rotation.x * z2;","    float yy = rotation.y * y2, yz = rotation.y * z2, zz = rotation.z * z2;","    float wx = rotation.w * x2, wy = rotation.w * y2, wz = rotation.w * z2;","    float sx = size, sy = size, sz = size;","","    mat4 particleMatrix = mat4(( 1.0 - ( yy + zz ) ) * sx, ( xy + wz ) * sx, ( xz - wy ) * sx, 0.0,  // 1. column","                      ( xy - wz ) * sy, ( 1.0 - ( xx + zz ) ) * sy, ( yz + wx ) * sy, 0.0,  // 2. column","                      ( xz + wy ) * sz, ( yz - wx ) * sz, ( 1.0 - ( xx + yy ) ) * sz, 0.0,  // 3. column","                      offset.x, offset.y, offset.z, 1.0);","","\t#include <color_vertex>","\t#include <morphcolor_vertex>","\t#include <beginnormal_vertex>","\t#include <morphnormal_vertex>","\t#include <skinbase_vertex>","\t#include <skinnormal_vertex>","","\t// replace defaultnormal_vertex","\tvec3 transformedNormal = objectNormal;","    mat3 m = mat3( particleMatrix );","    transformedNormal /= vec3( dot( m[ 0 ], m[ 0 ] ), dot( m[ 1 ], m[ 1 ] ), dot( m[ 2 ], m[ 2 ] ) );","    transformedNormal = m * transformedNormal;","    transformedNormal = normalMatrix * transformedNormal;","    #ifdef FLIP_SIDED","        transformedNormal = - transformedNormal;","    #endif","    #ifdef USE_TANGENT","        vec3 transformedTangent = ( modelViewMatrix * vec4( objectTangent, 0.0 ) ).xyz;","        #ifdef FLIP_SIDED","        transformedTangent = - transformedTangent;","        #endif","    #endif","","\t#include <normal_vertex>","\t#include <begin_vertex>","\t#include <morphtarget_vertex>","\t#include <skinning_vertex>","\t#include <displacementmap_vertex>","","\t// replace include <project_vertex>","  vec4 mvPosition = vec4( transformed, 1.0 );","  mvPosition = modelViewMatrix * (particleMatrix * mvPosition);","\tgl_Position = projectionMatrix * mvPosition;","","\t#include <logdepthbuf_vertex>","\t#include <clipping_planes_vertex>","\t","\tvViewPosition = - mvPosition.xyz;","\t","\t#include <worldpos_vertex>","\t#include <shadowmap_vertex>","\t#include <fog_vertex>","#ifdef USE_TRANSMISSION","\tvWorldPosition = worldPosition.xyz;","#endif","}","`;","","var stretched_bb_particle_vert = `","#include <common>","#include <uv_pars_vertex>","#include <color_pars_vertex>","#include <logdepthbuf_pars_vertex>","#include <clipping_planes_pars_vertex>","","attribute vec3 offset;","attribute float rotation;","attribute float size;","attribute vec4 velocity;","attribute float uvTile;","","#ifdef UV_TILE","uniform vec2 tileCount;","#endif","","uniform float speedFactor;","","void main() {","","    ${uv_vertex_tile}","    ","    float lengthFactor = velocity.w;","#ifdef USE_SKEW","    vec4 mvPosition = modelViewMatrix * vec4( offset, 1.0 );","    vec3 viewVelocity = normalMatrix * velocity.xyz;","","    vec3 scaledPos = vec3(position.xy * size, position.z);","    float vlength = length(viewVelocity);","    vec3 projVelocity =  dot(scaledPos, viewVelocity) * viewVelocity / vlength;","    mvPosition.xyz += scaledPos + projVelocity * (speedFactor / size + lengthFactor / vlength);","#else","    vec4 mvPosition = modelViewMatrix * vec4( offset, 1.0 );","    vec3 viewVelocity = normalMatrix * velocity.xyz;","    float vlength = length(viewVelocity); ","    mvPosition.xyz += position.y * normalize(cross(mvPosition.xyz, viewVelocity)) * size; // switch the cross to  match unity implementation","    mvPosition.xyz -= (position.x + 0.5) * viewVelocity * (1.0 + lengthFactor / vlength) * size; // minus position.x to match unity implementation","#endif","\tvColor = color;","\tgl_Position = projectionMatrix * mvPosition;","\t#include <logdepthbuf_vertex>","\t#include <clipping_planes_vertex>","}","`;","","function getMaterialUVChannelName(value) {","    if (value === 0)","        return 'uv';","    return `uv${value}`;","}","","new THREE.Vector3(0, 0, 1);","class SpriteBatch extends VFXBatch {","    constructor(settings) {","        super(settings);","        this.vector_ = new THREE.Vector3();","        this.vector2_ = new THREE.Vector3();","        this.vector3_ = new THREE.Vector3();","        this.quaternion_ = new THREE.Quaternion();","        this.quaternion2_ = new THREE.Quaternion();","        this.quaternion3_ = new THREE.Quaternion();","        this.rotationMat_ = new THREE.Matrix3();","        this.rotationMat2_ = new THREE.Matrix3();","        this.maxParticles = 1000;","        this.setupBuffers();","        this.rebuildMaterial();","    }","    buildExpandableBuffers() {","        this.offsetBuffer = new THREE.InstancedBufferAttribute(new Float32Array(this.maxParticles * 3), 3);","        this.offsetBuffer.setUsage(THREE.DynamicDrawUsage);","        this.geometry.setAttribute('offset', this.offsetBuffer);","        this.colorBuffer = new THREE.InstancedBufferAttribute(new Float32Array(this.maxParticles * 4), 4);","        this.colorBuffer.setUsage(THREE.DynamicDrawUsage);","        this.geometry.setAttribute('color', this.colorBuffer);","        if (this.settings.renderMode === RenderMode.Mesh) {","            this.rotationBuffer = new THREE.InstancedBufferAttribute(new Float32Array(this.maxParticles * 4), 4);","            this.rotationBuffer.setUsage(THREE.DynamicDrawUsage);","            this.geometry.setAttribute('rotation', this.rotationBuffer);","        }","        else if (this.settings.renderMode === RenderMode.BillBoard ||","            this.settings.renderMode === RenderMode.HorizontalBillBoard ||","            this.settings.renderMode === RenderMode.VerticalBillBoard ||","            this.settings.renderMode === RenderMode.StretchedBillBoard) {","            this.rotationBuffer = new THREE.InstancedBufferAttribute(new Float32Array(this.maxParticles), 1);","            this.rotationBuffer.setUsage(THREE.DynamicDrawUsage);","            this.geometry.setAttribute('rotation', this.rotationBuffer);","        }","        this.sizeBuffer = new THREE.InstancedBufferAttribute(new Float32Array(this.maxParticles), 1);","        this.sizeBuffer.setUsage(THREE.DynamicDrawUsage);","        this.geometry.setAttribute('size', this.sizeBuffer);","        this.uvTileBuffer = new THREE.InstancedBufferAttribute(new Float32Array(this.maxParticles), 1);","        this.uvTileBuffer.setUsage(THREE.DynamicDrawUsage);","        this.geometry.setAttribute('uvTile', this.uvTileBuffer);","        if (this.settings.renderMode === RenderMode.StretchedBillBoard) {","            this.velocityBuffer = new THREE.InstancedBufferAttribute(new Float32Array(this.maxParticles * 4), 4);","            this.velocityBuffer.setUsage(THREE.DynamicDrawUsage);","            this.geometry.setAttribute('velocity', this.velocityBuffer);","        }","    }","    setupBuffers() {","        if (this.geometry)","            this.geometry.dispose();","        this.geometry = new THREE.InstancedBufferGeometry();","        this.geometry.setIndex(this.settings.instancingGeometry.getIndex());","        if (this.settings.instancingGeometry.hasAttribute('normal')) {","            this.geometry.setAttribute('normal', this.settings.instancingGeometry.getAttribute('normal'));","        }","        this.geometry.setAttribute('position', this.settings.instancingGeometry.getAttribute('position'));","        this.geometry.setAttribute('uv', this.settings.instancingGeometry.getAttribute('uv'));","        this.buildExpandableBuffers();","    }","    expandBuffers(target) {","        while (target >= this.maxParticles) {","            this.maxParticles *= 2;","        }","        this.setupBuffers();","    }","    rebuildMaterial() {","        this.layers.mask = this.settings.layers.mask;","        let uniforms;","        const defines = {};","        if (this.settings.material.type === 'MeshStandardMaterial' ||","            this.settings.material.type === 'MeshPhysicalMaterial') {","            const mat = this.settings.material;","            uniforms = THREE.UniformsUtils.merge([","                THREE.UniformsLib.common,","                THREE.UniformsLib.envmap,","                THREE.UniformsLib.aomap,","                THREE.UniformsLib.lightmap,","                THREE.UniformsLib.emissivemap,","                THREE.UniformsLib.bumpmap,","                THREE.UniformsLib.normalmap,","                THREE.UniformsLib.displacementmap,","                THREE.UniformsLib.roughnessmap,","                THREE.UniformsLib.metalnessmap,","                THREE.UniformsLib.fog,","                THREE.UniformsLib.lights,","                {","                    emissive: { value: new THREE.Color(0x000000) },","                    roughness: { value: 1.0 },","                    metalness: { value: 0.0 },","                    envMapIntensity: { value: 1 },","                },","            ]);","            uniforms['diffuse'].value = mat.color;","            uniforms['opacity'].value = mat.opacity;","            uniforms['emissive'].value = mat.emissive;","            uniforms['roughness'].value = mat.roughness;","            uniforms['metalness'].value = mat.metalness;","            if (mat.envMap) {","                uniforms['envMap'].value = mat.envMap;","                uniforms['envMapIntensity'].value = mat.envMapIntensity;","            }","            if (mat.normalMap) {","                uniforms['normalMap'].value = mat.normalMap;","                uniforms['normalScale'].value = mat.normalScale;","            }","            if (mat.roughnessMap) {","                uniforms['roughnessMap'].value = mat.roughnessMap;","            }","            if (mat.metalnessMap) {","                uniforms['metalnessMap'].value = mat.metalnessMap;","            }","            if (mat.map) {","                uniforms['map'] = new THREE.Uniform(mat.map);","            }","        }","        else {","            uniforms = {};","            uniforms['map'] = new THREE.Uniform(this.settings.material.map);","        }","        if (this.settings.material.alphaTest) {","            defines['USE_ALPHATEST'] = '';","            uniforms['alphaTest'] = new THREE.Uniform(this.settings.material.alphaTest);","        }","        defines['USE_UV'] = '';","        const uTileCount = this.settings.uTileCount;","        const vTileCount = this.settings.vTileCount;","        if (uTileCount > 1 || vTileCount > 1) {","            defines['UV_TILE'] = '';","            uniforms['tileCount'] = new THREE.Uniform(new THREE.Vector2(uTileCount, vTileCount));","        }","        if (this.settings.material.defines &&","            this.settings.material.defines['USE_COLOR_AS_ALPHA'] !== undefined) {","            defines['USE_COLOR_AS_ALPHA'] = '';","        }","        if (this.settings.material.normalMap) {","            defines['USE_NORMALMAP'] = '';","            defines['NORMALMAP_UV'] = getMaterialUVChannelName(this.settings.material.normalMap.channel);","            uniforms['normalMapTransform'] = new THREE.Uniform(new THREE.Matrix3().copy(this.settings.material.normalMap.matrix));","        }","        if (this.settings.material.map) {","            defines['USE_MAP'] = '';","            defines['MAP_UV'] = getMaterialUVChannelName(this.settings.material.map.channel);","            uniforms['mapTransform'] = new THREE.Uniform(new THREE.Matrix3().copy(this.settings.material.map.matrix));","        }","        defines['USE_COLOR_ALPHA'] = '';","        let needLights = false;","        if (this.settings.renderMode === RenderMode.BillBoard ||","            this.settings.renderMode === RenderMode.VerticalBillBoard ||","            this.settings.renderMode === RenderMode.HorizontalBillBoard ||","            this.settings.renderMode === RenderMode.Mesh) {","            let vertexShader;","            let fragmentShader;","            if (this.settings.renderMode === RenderMode.Mesh) {","                if (this.settings.material.type === 'MeshStandardMaterial' ||","                    this.settings.material.type === 'MeshPhysicalMaterial') {","                    defines['USE_COLOR'] = '';","                    vertexShader = local_particle_physics_vert;","                    fragmentShader = particle_physics_frag;","                    needLights = true;","                }","                else {","                    vertexShader = local_particle_vert;","                    fragmentShader = particle_frag;","                }","            }","            else {","                vertexShader = particle_vert;","                fragmentShader = particle_frag;","            }","            if (this.settings.renderMode === RenderMode.VerticalBillBoard) {","                defines['VERTICAL'] = '';","            }","            else if (this.settings.renderMode === RenderMode.HorizontalBillBoard) {","                defines['HORIZONTAL'] = '';","            }","            this.material = new THREE.ShaderMaterial({","                uniforms: uniforms,","                defines: defines,","                vertexShader: vertexShader,","                fragmentShader: fragmentShader,","                transparent: this.settings.material.transparent,","                depthWrite: !this.settings.material.transparent,","                blending: this.settings.material.blending,","                side: this.settings.material.side,","                alphaTest: this.settings.material.alphaTest,","                lights: needLights,","            });","        }","        else if (this.settings.renderMode === RenderMode.StretchedBillBoard) {","            uniforms['speedFactor'] = new THREE.Uniform(1.0);","            this.material = new THREE.ShaderMaterial({","                uniforms: uniforms,","                defines: defines,","                vertexShader: stretched_bb_particle_vert,","                fragmentShader: particle_frag,","                transparent: this.settings.material.transparent,","                depthWrite: !this.settings.material.transparent,","                blending: this.settings.material.blending,","                side: this.settings.material.side,","                alphaTest: this.settings.material.alphaTest,","            });","        }","        else {","            throw new Error('render mode unavailable');","        }","    }","    update() {","        let index = 0;","        let particleCount = 0;","        this.systems.forEach((system) => {","            particleCount += system.particleNum;","        });","        if (particleCount > this.maxParticles) {","            this.expandBuffers(particleCount);","        }","        this.systems.forEach((system) => {","            const particles = system.particles;","            const particleNum = system.particleNum;","            const rotation = this.quaternion2_;","            const translation = this.vector2_;","            const scale = this.vector3_;","            system.emitter.matrixWorld.decompose(translation, rotation, scale);","            this.rotationMat_.setFromMatrix4(system.emitter.matrixWorld);","            for (let j = 0; j < particleNum; j++ , index++) {","                const particle = particles[j];","                if (this.settings.renderMode === RenderMode.Mesh) {","                    let q;","                    if (system.worldSpace) {","                        q = particle.rotation;","                    }","                    else {","                        let parentQ;","                        if (particle.parentMatrix) {","                            parentQ = this.quaternion3_.setFromRotationMatrix(particle.parentMatrix);","                        }","                        else {","                            parentQ = rotation;","                        }","                        q = this.quaternion_;","                        q.copy(particle.rotation).multiply(parentQ);","                    }","                    this.rotationBuffer.setXYZW(index, q.x, q.y, q.z, q.w);","                }","                else if (this.settings.renderMode === RenderMode.StretchedBillBoard ||","                    this.settings.renderMode === RenderMode.VerticalBillBoard ||","                    this.settings.renderMode === RenderMode.HorizontalBillBoard ||","                    this.settings.renderMode === RenderMode.BillBoard) {","                    this.rotationBuffer.setX(index, particle.rotation);","                }","                let vec;","                if (system.worldSpace) {","                    vec = particle.position;","                }","                else {","                    vec = this.vector_;","                    if (particle.parentMatrix) {","                        vec.copy(particle.position).applyMatrix4(particle.parentMatrix);","                    }","                    else {","                        vec.copy(particle.position).applyMatrix4(system.emitter.matrixWorld);","                    }","                }","                this.offsetBuffer.setXYZ(index, vec.x, vec.y, vec.z);","                this.colorBuffer.setXYZW(index, particle.color.x, particle.color.y, particle.color.z, particle.color.w);","                if (system.worldSpace) {","                    this.sizeBuffer.setX(index, particle.size);","                }","                else {","                    if (particle.parentMatrix) {","                        this.sizeBuffer.setX(index, particle.size);","                    }","                    else {","                        this.sizeBuffer.setX(index, (particle.size * (Math.abs(scale.x) + Math.abs(scale.y) + Math.abs(scale.z))) / 3);","                    }","                }","                this.uvTileBuffer.setX(index, particle.uvTile);","                if (this.settings.renderMode === RenderMode.StretchedBillBoard && this.velocityBuffer) {","                    let speedFactor = system.rendererEmitterSettings.speedFactor;","                    if (speedFactor === 0)","                        speedFactor = 0.001;","                    const lengthFactor = system.rendererEmitterSettings.lengthFactor;","                    let vec;","                    if (system.worldSpace) {","                        vec = particle.velocity;","                    }","                    else {","                        vec = this.vector_;","                        if (particle.parentMatrix) {","                            this.rotationMat2_.setFromMatrix4(particle.parentMatrix);","                            vec.copy(particle.velocity).applyMatrix3(this.rotationMat2_);","                        }","                        else {","                            vec.copy(particle.velocity).applyMatrix3(this.rotationMat_);","                        }","                    }","                    this.velocityBuffer.setXYZW(index, vec.x * speedFactor, vec.y * speedFactor, vec.z * speedFactor, lengthFactor);","                }","            }","        });","        this.geometry.instanceCount = index;","        if (index > 0) {","            this.offsetBuffer.updateRange.count = index * 3;","            this.offsetBuffer.needsUpdate = true;","            this.sizeBuffer.updateRange.count = index;","            this.sizeBuffer.needsUpdate = true;","            this.colorBuffer.updateRange.count = index * 4;","            this.colorBuffer.needsUpdate = true;","            this.uvTileBuffer.updateRange.count = index;","            this.uvTileBuffer.needsUpdate = true;","            if (this.settings.renderMode === RenderMode.StretchedBillBoard && this.velocityBuffer) {","                this.velocityBuffer.updateRange.count = index * 4;","                this.velocityBuffer.needsUpdate = true;","            }","            if (this.settings.renderMode === RenderMode.Mesh) {","                this.rotationBuffer.updateRange.count = index * 4;","                this.rotationBuffer.needsUpdate = true;","            }","            else if (this.settings.renderMode === RenderMode.StretchedBillBoard ||","                this.settings.renderMode === RenderMode.HorizontalBillBoard ||","                this.settings.renderMode === RenderMode.VerticalBillBoard ||","                this.settings.renderMode === RenderMode.BillBoard) {","                this.rotationBuffer.updateRange.count = index;","                this.rotationBuffer.needsUpdate = true;","            }","        }","    }","    dispose() {","        this.geometry.dispose();","    }","}","","var trail_frag = `","","#include <common>","#include <uv_pars_fragment>","#include <map_pars_fragment>","#include <fog_pars_fragment>","#include <logdepthbuf_pars_fragment>","#include <clipping_planes_pars_fragment>","","uniform sampler2D alphaMap;","uniform float useAlphaMap;","uniform float visibility;","uniform float alphaTest;","uniform vec2 repeat;","","varying vec4 vColor;","    ","void main() {","    #include <clipping_planes_fragment>","    #include <logdepthbuf_fragment>","","    vec4 c = vColor;","    ","    #ifdef USE_MAP","    #ifdef USE_COLOR_AS_ALPHA","    vec4 tex = texture2D( map, vUv * repeat );","    c *= vec4(tex.rgb, tex.r);","    #else","    c *= texture2D( map, vUv * repeat );","    #endif","    #endif","    if( useAlphaMap == 1. ) c.a *= texture2D( alphaMap, vUv * repeat ).a;","    if( c.a < alphaTest ) discard;","    gl_FragColor = c;","","    #include <fog_fragment>","    #include <tonemapping_fragment>","}`;","","var trail_vert = `","#include <common>","#include <uv_pars_vertex>","#include <color_pars_vertex>","#include <clipping_planes_pars_vertex>","#include <logdepthbuf_pars_vertex>","#include <fog_pars_vertex>","","attribute vec3 previous;","attribute vec3 next;","attribute float side;","attribute float width;","","uniform vec2 resolution;","uniform float lineWidth;","uniform float sizeAttenuation;","    ","vec2 fix(vec4 i, float aspect) {","    vec2 res = i.xy / i.w;","    res.x *= aspect;","    return res;","}","    ","void main() {","","    ${uv_vertex_tile}","    ","    float aspect = resolution.x / resolution.y;","","    vColor = color;","","    mat4 m = projectionMatrix * modelViewMatrix;","    vec4 finalPosition = m * vec4( position, 1.0 );","    vec4 prevPos = m * vec4( previous, 1.0 );","    vec4 nextPos = m * vec4( next, 1.0 );","","    vec2 currentP = fix( finalPosition, aspect );","    vec2 prevP = fix( prevPos, aspect );","    vec2 nextP = fix( nextPos, aspect );","","    float w = lineWidth * width;","","    vec2 dir;","    if( nextP == currentP ) dir = normalize( currentP - prevP );","    else if( prevP == currentP ) dir = normalize( nextP - currentP );","    else {","        vec2 dir1 = normalize( currentP - prevP );","        vec2 dir2 = normalize( nextP - currentP );","        dir = normalize( dir1 + dir2 );","","        vec2 perp = vec2( -dir1.y, dir1.x );","        vec2 miter = vec2( -dir.y, dir.x );","        //w = clamp( w / dot( miter, perp ), 0., 4., * lineWidth * width );","","    }","","    //vec2 normal = ( cross( vec3( dir, 0. ) vec3( 0., 0., 1. ) ) ).xy;","    vec4 normal = vec4( -dir.y, dir.x, 0., 1. );","    normal.xy *= .5 * w;","    normal *= projectionMatrix;","    if( sizeAttenuation == 0. ) {","        normal.xy *= finalPosition.w;","        normal.xy /= ( vec4( resolution, 0., 1. ) * projectionMatrix ).xy;","    }","","    finalPosition.xy += normal.xy * side;","","    gl_Position = finalPosition;","","\t#include <logdepthbuf_vertex>","\t#include <clipping_planes_vertex>","\t","    vec4 mvPosition = modelViewMatrix * vec4( position, 1.0 );","    ","\t#include <fog_vertex>","}`;","","new THREE.Vector3(0, 0, 1);","class TrailBatch extends VFXBatch {","    constructor(settings) {","        super(settings);","        this.vector_ = new THREE.Vector3();","        this.vector2_ = new THREE.Vector3();","        this.vector3_ = new THREE.Vector3();","        this.quaternion_ = new THREE.Quaternion();","        this.maxParticles = 10000;","        this.setupBuffers();","        this.rebuildMaterial();","    }","    setupBuffers() {","        if (this.geometry)","            this.geometry.dispose();","        this.geometry = new THREE.BufferGeometry();","        this.indexBuffer = new THREE.BufferAttribute(new Uint32Array(this.maxParticles * 6), 1);","        this.indexBuffer.setUsage(THREE.DynamicDrawUsage);","        this.geometry.setIndex(this.indexBuffer);","        this.positionBuffer = new THREE.BufferAttribute(new Float32Array(this.maxParticles * 6), 3);","        this.positionBuffer.setUsage(THREE.DynamicDrawUsage);","        this.geometry.setAttribute('position', this.positionBuffer);","        this.previousBuffer = new THREE.BufferAttribute(new Float32Array(this.maxParticles * 6), 3);","        this.previousBuffer.setUsage(THREE.DynamicDrawUsage);","        this.geometry.setAttribute('previous', this.previousBuffer);","        this.nextBuffer = new THREE.BufferAttribute(new Float32Array(this.maxParticles * 6), 3);","        this.nextBuffer.setUsage(THREE.DynamicDrawUsage);","        this.geometry.setAttribute('next', this.nextBuffer);","        this.widthBuffer = new THREE.BufferAttribute(new Float32Array(this.maxParticles * 2), 1);","        this.widthBuffer.setUsage(THREE.DynamicDrawUsage);","        this.geometry.setAttribute('width', this.widthBuffer);","        this.sideBuffer = new THREE.BufferAttribute(new Float32Array(this.maxParticles * 2), 1);","        this.sideBuffer.setUsage(THREE.DynamicDrawUsage);","        this.geometry.setAttribute('side', this.sideBuffer);","        this.uvBuffer = new THREE.BufferAttribute(new Float32Array(this.maxParticles * 4), 2);","        this.uvBuffer.setUsage(THREE.DynamicDrawUsage);","        this.geometry.setAttribute('uv', this.uvBuffer);","        this.colorBuffer = new THREE.BufferAttribute(new Float32Array(this.maxParticles * 8), 4);","        this.colorBuffer.setUsage(THREE.DynamicDrawUsage);","        this.geometry.setAttribute('color', this.colorBuffer);","    }","    expandBuffers(target) {","        while (target >= this.maxParticles) {","            this.maxParticles *= 2;","        }","        this.setupBuffers();","    }","    rebuildMaterial() {","        this.layers.mask = this.settings.layers.mask;","        const uniforms = {","            lineWidth: { value: 1 },","            map: { value: null },","            useMap: { value: 0 },","            alphaMap: { value: null },","            useAlphaMap: { value: 0 },","            resolution: { value: new THREE.Vector2(1, 1) },","            sizeAttenuation: { value: 1 },","            visibility: { value: 1 },","            alphaTest: { value: 0 },","            repeat: { value: new THREE.Vector2(1, 1) },","        };","        const defines = {};","        defines['USE_UV'] = '';","        defines['USE_COLOR_ALPHA'] = '';","        if (this.settings.material.map) {","            defines['USE_MAP'] = '';","            defines['MAP_UV'] = getMaterialUVChannelName(this.settings.material.map.channel);","            uniforms['map'] = new THREE.Uniform(this.settings.material.map);","            uniforms['mapTransform'] = new THREE.Uniform(new THREE.Matrix3().copy(this.settings.material.map.matrix));","        }","        if (this.settings.material.defines &&","            this.settings.material.defines['USE_COLOR_AS_ALPHA'] !== undefined) {","            defines['USE_COLOR_AS_ALPHA'] = '';","        }","        if (this.settings.renderMode === RenderMode.Trail) {","            this.material = new THREE.ShaderMaterial({","                uniforms: uniforms,","                defines: defines,","                vertexShader: trail_vert,","                fragmentShader: trail_frag,","                transparent: this.settings.material.transparent,","                depthWrite: !this.settings.material.transparent,","                side: this.settings.material.side,","                blending: this.settings.material.blending || THREE.AdditiveBlending,","            });","        }","        else {","            throw new Error('render mode unavailable');","        }","    }","    update() {","        let index = 0;","        let triangles = 0;","        let particleCount = 0;","        this.systems.forEach((system) => {","            for (let j = 0; j < system.particleNum; j++) {","                particleCount += system.particles[j].previous.length * 2;","            }","        });","        if (particleCount > this.maxParticles) {","            this.expandBuffers(particleCount);","        }","        this.systems.forEach((system) => {","            const rotation = this.quaternion_;","            const translation = this.vector2_;","            const scale = this.vector3_;","            system.emitter.matrixWorld.decompose(translation, rotation, scale);","            const particles = system.particles;","            const particleNum = system.particleNum;","            const uTileCount = this.settings.uTileCount;","            const vTileCount = this.settings.vTileCount;","            const tileWidth = 1 / uTileCount;","            const tileHeight = 1 / vTileCount;","            for (let j = 0; j < particleNum; j++) {","                const particle = particles[j];","                const col = particle.uvTile % vTileCount;","                const row = Math.floor(particle.uvTile / vTileCount + 0.001);","                const iter = particle.previous.values();","                let curIter = iter.next();","                let previous = curIter.value;","                let current = previous;","                if (!curIter.done)","                    curIter = iter.next();","                let next;","                if (curIter.value !== undefined) {","                    next = curIter.value;","                }","                else {","                    next = current;","                }","                for (let i = 0; i < particle.previous.length; i++ , index += 2) {","                    this.positionBuffer.setXYZ(index, current.position.x, current.position.y, current.position.z);","                    this.positionBuffer.setXYZ(index + 1, current.position.x, current.position.y, current.position.z);","                    if (system.worldSpace) {","                        this.positionBuffer.setXYZ(index, current.position.x, current.position.y, current.position.z);","                        this.positionBuffer.setXYZ(index + 1, current.position.x, current.position.y, current.position.z);","                    }","                    else {","                        if (particle.parentMatrix) {","                            this.vector_.copy(current.position).applyMatrix4(particle.parentMatrix);","                        }","                        else {","                            this.vector_.copy(current.position).applyMatrix4(system.emitter.matrixWorld);","                        }","                        this.positionBuffer.setXYZ(index, this.vector_.x, this.vector_.y, this.vector_.z);","                        this.positionBuffer.setXYZ(index + 1, this.vector_.x, this.vector_.y, this.vector_.z);","                    }","                    if (system.worldSpace) {","                        this.previousBuffer.setXYZ(index, previous.position.x, previous.position.y, previous.position.z);","                        this.previousBuffer.setXYZ(index + 1, previous.position.x, previous.position.y, previous.position.z);","                    }","                    else {","                        if (particle.parentMatrix) {","                            this.vector_.copy(previous.position).applyMatrix4(particle.parentMatrix);","                        }","                        else {","                            this.vector_.copy(previous.position).applyMatrix4(system.emitter.matrixWorld);","                        }","                        this.previousBuffer.setXYZ(index, this.vector_.x, this.vector_.y, this.vector_.z);","                        this.previousBuffer.setXYZ(index + 1, this.vector_.x, this.vector_.y, this.vector_.z);","                    }","                    if (system.worldSpace) {","                        this.nextBuffer.setXYZ(index, next.position.x, next.position.y, next.position.z);","                        this.nextBuffer.setXYZ(index + 1, next.position.x, next.position.y, next.position.z);","                    }","                    else {","                        if (particle.parentMatrix) {","                            this.vector_.copy(next.position).applyMatrix4(particle.parentMatrix);","                        }","                        else {","                            this.vector_.copy(next.position).applyMatrix4(system.emitter.matrixWorld);","                        }","                        this.nextBuffer.setXYZ(index, this.vector_.x, this.vector_.y, this.vector_.z);","                        this.nextBuffer.setXYZ(index + 1, this.vector_.x, this.vector_.y, this.vector_.z);","                    }","                    this.sideBuffer.setX(index, -1);","                    this.sideBuffer.setX(index + 1, 1);","                    if (system.worldSpace) {","                        this.widthBuffer.setX(index, current.size);","                        this.widthBuffer.setX(index + 1, current.size);","                    }","                    else {","                        if (particle.parentMatrix) {","                            this.widthBuffer.setX(index, current.size);","                            this.widthBuffer.setX(index + 1, current.size);","                        }","                        else {","                            const objectScale = (Math.abs(scale.x) + Math.abs(scale.y) + Math.abs(scale.z)) / 3;","                            this.widthBuffer.setX(index, current.size * objectScale);","                            this.widthBuffer.setX(index + 1, current.size * objectScale);","                        }","                    }","                    this.uvBuffer.setXY(index, (i / particle.previous.length + col) * tileWidth, (vTileCount - row - 1) * tileHeight);","                    this.uvBuffer.setXY(index + 1, (i / particle.previous.length + col) * tileWidth, (vTileCount - row) * tileHeight);","                    this.colorBuffer.setXYZW(index, current.color.x, current.color.y, current.color.z, current.color.w);","                    this.colorBuffer.setXYZW(index + 1, current.color.x, current.color.y, current.color.z, current.color.w);","                    if (i + 1 < particle.previous.length) {","                        this.indexBuffer.setX(triangles * 3, index);","                        this.indexBuffer.setX(triangles * 3 + 1, index + 1);","                        this.indexBuffer.setX(triangles * 3 + 2, index + 2);","                        triangles++;","                        this.indexBuffer.setX(triangles * 3, index + 2);","                        this.indexBuffer.setX(triangles * 3 + 1, index + 1);","                        this.indexBuffer.setX(triangles * 3 + 2, index + 3);","                        triangles++;","                    }","                    previous = current;","                    current = next;","                    if (!curIter.done) {","                        curIter = iter.next();","                        if (curIter.value !== undefined) {","                            next = curIter.value;","                        }","                    }","                }","            }","        });","        this.positionBuffer.updateRange.count = index * 3;","        this.positionBuffer.needsUpdate = true;","        this.previousBuffer.updateRange.count = index * 3;","        this.previousBuffer.needsUpdate = true;","        this.nextBuffer.updateRange.count = index * 3;","        this.nextBuffer.needsUpdate = true;","        this.sideBuffer.updateRange.count = index;","        this.sideBuffer.needsUpdate = true;","        this.widthBuffer.updateRange.count = index;","        this.widthBuffer.needsUpdate = true;","        this.uvBuffer.updateRange.count = index * 2;","        this.uvBuffer.needsUpdate = true;","        this.colorBuffer.updateRange.count = index * 4;","        this.colorBuffer.needsUpdate = true;","        this.indexBuffer.updateRange.count = triangles * 3;","        this.indexBuffer.needsUpdate = true;","        this.geometry.setDrawRange(0, triangles * 3);","    }","    dispose() {","        this.geometry.dispose();","    }","}","","class BatchedRenderer extends THREE.Object3D {","    constructor() {","        super();","        this.batches = [];","        this.systemToBatchIndex = new Map();","        this.type = 'BatchedRenderer';","    }","    static equals(a, b) {","        return (a.material.side === b.material.side &&","            a.material.blending === b.material.blending &&","            a.material.transparent === b.material.transparent &&","            a.material.type === b.material.type &&","            a.material.alphaTest === b.material.alphaTest &&","            a.material.map === b.material.map &&","            a.renderMode === b.renderMode &&","            a.uTileCount === b.uTileCount &&","            a.vTileCount === b.vTileCount &&","            a.instancingGeometry === b.instancingGeometry &&","            a.renderOrder === b.renderOrder &&","            a.layers.mask === b.layers.mask);","    }","    addSystem(system) {","        system._renderer = this;","        const settings = system.getRendererSettings();","        for (let i = 0; i < this.batches.length; i++) {","            if (BatchedRenderer.equals(this.batches[i].settings, settings)) {","                this.batches[i].addSystem(system);","                this.systemToBatchIndex.set(system, i);","                return;","            }","        }","        let batch;","        switch (settings.renderMode) {","            case RenderMode.Trail:","                batch = new TrailBatch(settings);","                break;","            case RenderMode.Mesh:","            case RenderMode.BillBoard:","            case RenderMode.VerticalBillBoard:","            case RenderMode.HorizontalBillBoard:","            case RenderMode.StretchedBillBoard:","                batch = new SpriteBatch(settings);","                break;","        }","        batch.addSystem(system);","        this.batches.push(batch);","        this.systemToBatchIndex.set(system, this.batches.length - 1);","        this.add(batch);","    }","    deleteSystem(system) {","        const batchIndex = this.systemToBatchIndex.get(system);","        if (batchIndex != undefined) {","            this.batches[batchIndex].removeSystem(system);","            this.systemToBatchIndex.delete(system);","        }","    }","    updateSystem(system) {","        this.deleteSystem(system);","        this.addSystem(system);","    }","    update(delta) {","        this.systemToBatchIndex.forEach((value, ps) => {","            ps.update(delta);","        });","        for (let i = 0; i < this.batches.length; i++) {","            this.batches[i].update();","        }","    }","}","","const BatchedParticleRenderer = BatchedRenderer;","","class QuarksLoader extends THREE.ObjectLoader {","    constructor(manager) {","        super(manager);","    }","    linkReference(object) {","        const objectsMap = {};","        object.traverse(function (child) {","            objectsMap[child.uuid] = child;","        });","        object.traverse(function (child) {","            if (child.type === 'ParticleEmitter') {","                const system = child.system;","                system.emitterShape;","                for (let i = 0; i < system.behaviors.length; i++) {","                    if (system.behaviors[i] instanceof EmitSubParticleSystem) {","                        system.behaviors[i].subParticleSystem = objectsMap[system.behaviors[i].subParticleSystem];","                    }","                }","            }","        });","    }","    parse(json, onLoad) {","        const object = super.parse(json, onLoad);","        this.linkReference(object);","        return object;","    }","    parseObject(data, geometries, materials, textures, animations) {","        let object;","        function getGeometry(name) {","            if (geometries[name] === undefined) {","                console.warn('THREE.ObjectLoader: Undefined geometry', name);","            }","            return geometries[name];","        }","        function getMaterial(name) {","            if (name === undefined)","                return undefined;","            if (Array.isArray(name)) {","                const array = [];","                for (let i = 0, l = name.length; i < l; i++) {","                    const uuid = name[i];","                    if (materials[uuid] === undefined) {","                        console.warn('THREE.ObjectLoader: Undefined material', uuid);","                    }","                    array.push(materials[uuid]);","                }","                return array;","            }","            if (materials[name] === undefined) {","                console.warn('THREE.ObjectLoader: Undefined material', name);","            }","            return materials[name];","        }","        function getTexture(uuid) {","            if (textures[uuid] === undefined) {","                console.warn('THREE.ObjectLoader: Undefined texture', uuid);","            }","            return textures[uuid];","        }","        let geometry, material;","        const meta = {","            textures: textures,","            geometries: geometries,","            materials: materials,","        };","        const dependencies = {};","        switch (data.type) {","            case 'ParticleEmitter':","                object = ParticleSystem.fromJSON(data.ps, meta, dependencies).emitter;","                break;","            case 'Scene':","                object = new THREE.Scene();","                if (data.background !== undefined) {","                    if (Number.isInteger(data.background)) {","                        object.background = new THREE.Color(data.background);","                    }","                    else {","                        object.background = getTexture(data.background);","                    }","                }","                if (data.environment !== undefined) {","                    object.environment = getTexture(data.environment);","                }","                if (data.fog !== undefined) {","                    if (data.fog.type === 'Fog') {","                        object.fog = new THREE.Fog(data.fog.color, data.fog.near, data.fog.far);","                    }","                    else if (data.fog.type === 'FogExp2') {","                        object.fog = new THREE.FogExp2(data.fog.color, data.fog.density);","                    }","                }","                if (data.backgroundBlurriness !== undefined)","                    object.backgroundBlurriness = data.backgroundBlurriness;","                break;","            case 'PerspectiveCamera':","                object = new THREE.PerspectiveCamera(data.fov, data.aspect, data.near, data.far);","                if (data.focus !== undefined)","                    object.focus = data.focus;","                if (data.zoom !== undefined)","                    object.zoom = data.zoom;","                if (data.filmGauge !== undefined)","                    object.filmGauge = data.filmGauge;","                if (data.filmOffset !== undefined)","                    object.filmOffset = data.filmOffset;","                if (data.view !== undefined)","                    object.view = Object.assign({}, data.view);","                break;","            case 'OrthographicCamera':","                object = new THREE.OrthographicCamera(data.left, data.right, data.top, data.bottom, data.near, data.far);","                if (data.zoom !== undefined)","                    object.zoom = data.zoom;","                if (data.view !== undefined)","                    object.view = Object.assign({}, data.view);","                break;","            case 'AmbientLight':","                object = new THREE.AmbientLight(data.color, data.intensity);","                break;","            case 'DirectionalLight':","                object = new THREE.DirectionalLight(data.color, data.intensity);","                break;","            case 'PointLight':","                object = new THREE.PointLight(data.color, data.intensity, data.distance, data.decay);","                break;","            case 'RectAreaLight':","                object = new THREE.RectAreaLight(data.color, data.intensity, data.width, data.height);","                break;","            case 'SpotLight':","                object = new THREE.SpotLight(data.color, data.intensity, data.distance, data.angle, data.penumbra, data.decay);","                break;","            case 'HemisphereLight':","                object = new THREE.HemisphereLight(data.color, data.groundColor, data.intensity);","                break;","            case 'LightProbe':","                object = new THREE.LightProbe().fromJSON(data);","                break;","            case 'SkinnedMesh':","                geometry = getGeometry(data.geometry);","                material = getMaterial(data.material);","                object = new THREE.SkinnedMesh(geometry, material);","                if (data.bindMode !== undefined)","                    object.bindMode = data.bindMode;","                if (data.bindMatrix !== undefined)","                    object.bindMatrix.fromArray(data.bindMatrix);","                if (data.skeleton !== undefined)","                    object.skeleton = data.skeleton;","                break;","            case 'Mesh':","                geometry = getGeometry(data.geometry);","                material = getMaterial(data.material);","                object = new THREE.Mesh(geometry, material);","                break;","            case 'InstancedMesh': {","                geometry = getGeometry(data.geometry);","                material = getMaterial(data.material);","                const count = data.count;","                const instanceMatrix = data.instanceMatrix;","                const instanceColor = data.instanceColor;","                object = new THREE.InstancedMesh(geometry, material, count);","                object.instanceMatrix = new THREE.InstancedBufferAttribute(new Float32Array(instanceMatrix.array), 16);","                if (instanceColor !== undefined)","                    object.instanceColor = new THREE.InstancedBufferAttribute(new Float32Array(instanceColor.array), instanceColor.itemSize);","                break;","            }","            case 'LOD':","                object = new THREE.LOD();","                break;","            case 'Line':","                object = new THREE.Line(getGeometry(data.geometry), getMaterial(data.material));","                break;","            case 'LineLoop':","                object = new THREE.LineLoop(getGeometry(data.geometry), getMaterial(data.material));","                break;","            case 'LineSegments':","                object = new THREE.LineSegments(getGeometry(data.geometry), getMaterial(data.material));","                break;","            case 'PointCloud':","            case 'Points':","                object = new THREE.Points(getGeometry(data.geometry), getMaterial(data.material));","                break;","            case 'Sprite':","                object = new THREE.Sprite(getMaterial(data.material));","                break;","            case 'Group':","                object = new THREE.Group();","                break;","            case 'Bone':","                object = new THREE.Bone();","                break;","            default:","                object = new THREE.Object3D();","        }","        object.uuid = data.uuid;","        if (data.name !== undefined)","            object.name = data.name;","        if (data.matrix !== undefined) {","            object.matrix.fromArray(data.matrix);","            if (data.matrixAutoUpdate !== undefined)","                object.matrixAutoUpdate = data.matrixAutoUpdate;","            if (object.matrixAutoUpdate)","                object.matrix.decompose(object.position, object.quaternion, object.scale);","        }","        else {","            if (data.position !== undefined)","                object.position.fromArray(data.position);","            if (data.rotation !== undefined)","                object.rotation.fromArray(data.rotation);","            if (data.quaternion !== undefined)","                object.quaternion.fromArray(data.quaternion);","            if (data.scale !== undefined)","                object.scale.fromArray(data.scale);","        }","        if (data.castShadow !== undefined)","            object.castShadow = data.castShadow;","        if (data.receiveShadow !== undefined)","            object.receiveShadow = data.receiveShadow;","        if (data.shadow) {","            if (data.shadow.bias !== undefined)","                object.shadow.bias = data.shadow.bias;","            if (data.shadow.normalBias !== undefined)","                object.normalBias = data.shadow.normalBias;","            if (data.shadow.radius !== undefined)","                object.radius = data.shadow.radius;","            if (data.shadow.mapSize !== undefined)","                object.mapSize.fromArray(data.shadow.mapSize);","            if (data.shadow.camera !== undefined) {","                object.camera = this.parseObject(data.shadow.camera);","            }","        }","        if (data.visible !== undefined)","            object.visible = data.visible;","        if (data.frustumCulled !== undefined)","            object.frustumCulled = data.frustumCulled;","        if (data.renderOrder !== undefined)","            object.renderOrder = data.renderOrder;","        if (data.userData !== undefined)","            object.userData = data.userData;","        if (data.layers !== undefined)","            object.layers.mask = data.layers;","        if (data.children !== undefined) {","            const children = data.children;","            for (let i = 0; i < children.length; i++) {","                object.add(this.parseObject(children[i], geometries, materials, textures, animations));","            }","        }","        if (data.animations !== undefined) {","            const objectAnimations = data.animations;","            for (let i = 0; i < objectAnimations.length; i++) {","                const uuid = objectAnimations[i];","                object.animations.push(animations[uuid]);","            }","        }","        if (data.type === 'LOD') {","            if (data.autoUpdate !== undefined)","                object.autoUpdate = data.autoUpdate;","            const levels = data.levels;","            for (let l = 0; l < levels.length; l++) {","                const level = levels[l];","                const child = object.getObjectByProperty('uuid', level.object);","                if (child !== undefined) {","                    object.addLevel(child, level.distance);","                }","            }","        }","        return object;","    }","}","","const Plugins = [];","function loadPlugin(plugin) {","    const existing = Plugins.find((item) => item.id === plugin.id);","    if (!existing) {","        plugin.initialize();","        for (const emitterShape of plugin.emitterShapes) {","            if (!EmitterShapes[emitterShape.type]) {","                EmitterShapes[emitterShape.type] = emitterShape;","            }","        }","        for (const behavior of plugin.behaviors) {","            if (!BehaviorTypes[behavior.type]) {","                BehaviorTypes[behavior.type] = behavior;","            }","        }","    }","}","function unloadPlugin(pluginId) {","    const plugin = Plugins.find((item) => item.id === pluginId);","    if (plugin) {","        for (const emitterShape of plugin.emitterShapes) {","            if (EmitterShapes[emitterShape.type]) {","                delete EmitterShapes[emitterShape.type];","            }","        }","        for (const behavior of plugin.behaviors) {","            if (BehaviorTypes[behavior.type]) {","                delete BehaviorTypes[behavior.type];","            }","        }","    }","}","","let NodeValueType = void 0;","(function (NodeValueType) {","    NodeValueType[NodeValueType[\"Number\"] = 0] = \"Number\";","    NodeValueType[NodeValueType[\"Vec2\"] = 1] = \"Vec2\";","    NodeValueType[NodeValueType[\"Vec3\"] = 2] = \"Vec3\";","    NodeValueType[NodeValueType[\"Vec4\"] = 3] = \"Vec4\";","    NodeValueType[NodeValueType[\"Boolean\"] = 4] = \"Boolean\";","    NodeValueType[NodeValueType[\"AnyType\"] = 5] = \"AnyType\";","    NodeValueType[NodeValueType[\"NullableAnyType\"] = 6] = \"NullableAnyType\";","    NodeValueType[NodeValueType[\"EventStream\"] = 7] = \"EventStream\";","})(NodeValueType || (NodeValueType = {}));","const genDefaultForNodeValueType = (type) => {","    switch (type) {","        case NodeValueType.Boolean:","            return false;","        case NodeValueType.Number:","            return 0;","        case NodeValueType.Vec2:","            return new THREE.Vector2();","        case NodeValueType.Vec3:","            return new THREE.Vector3();","        case NodeValueType.Vec4:","            return new THREE.Vector4();","        case NodeValueType.AnyType:","            return 0;","        case NodeValueType.NullableAnyType:","            return undefined;","    }","};","","class Node {","    constructor(type, signatureIndex = -1, data = {}) {","        this.inputs = [];","        this.outputs = [];","        this.signatureIndex = -1;","        this.position = new THREE.Vector2();","        this.outputValues = [];","        this.id = '' + Math.round(Math.random() * 100000);","        this.type = type;","        this.signatureIndex = signatureIndex;","        this.data = data;","        const realIndex = signatureIndex === -1 ? 0 : signatureIndex;","        for (let i = 0; i < type.nodeTypeSignatures[realIndex].inputTypes.length; i++) {","            this.inputs.push(undefined);","        }","        for (let i = 0; i < type.nodeTypeSignatures[realIndex].outputTypes.length; i++) {","            this.outputs.push([]);","            this.outputValues.push(genDefaultForNodeValueType(type.nodeTypeSignatures[realIndex].outputTypes[i]));","        }","    }","    get inputTypes() {","        const signatureIndex = this.signatureIndex === -1 ? 0 : this.signatureIndex;","        return this.type.nodeTypeSignatures[signatureIndex].inputTypes;","    }","    get outputTypes() {","        const signatureIndex = this.signatureIndex === -1 ? 0 : this.signatureIndex;","        return this.type.nodeTypeSignatures[signatureIndex].outputTypes;","    }","    func(context, inputs, outputs) {","        const signatureIndex = this.signatureIndex === -1 ? 0 : this.signatureIndex;","        this.type.nodeTypeSignatures[signatureIndex].func(context, this.data, inputs, outputs);","    }","}","class Wire {","    constructor(input, inputIndex, output, outputIndex) {","        this.input = input;","        this.inputIndex = inputIndex;","        this.input.outputs[inputIndex].push(this);","        this.output = output;","        this.outputIndex = outputIndex;","        this.output.inputs[outputIndex] = this;","    }","}","","class BaseCompiler {","    constructor() {","        this.visited = new Set();","        BaseCompiler.Instance = this;","    }","    buildExecutionOrder(graph, context) {","        graph.nodesInOrder.length = 0;","        this.visited.clear();","        for (let i = 0; i < graph.outputNodes.length; i++) {","            const node = graph.outputNodes[i];","            if (node.inputs[0] !== undefined) {","                this._traverse(node, graph, context);","            }","        }","        graph.compiled = true;","    }","    _traverse(node, graph, context) {","        this.visited.add(node.id);","        for (let i = 0; i < node.inputs.length; i++) {","            if (node.inputs[i] instanceof Wire) {","                const inputNode = node.inputs[i].input;","                if (!this.visited.has(inputNode.id)) {","                    this._traverse(inputNode, graph, context);","                }","            }","            else if (node.inputs[i] !== undefined);","            else;","        }","        graph.nodesInOrder.push(node);","    }","}","","class Interpreter extends BaseCompiler {","    constructor() {","        super();","    }","    executeCompiledGraph(graph, context) {","        const nodes = graph.nodesInOrder;","        for (let i = 0; i < nodes.length; i++) {","            const inputValues = [];","            const node = nodes[i];","            for (let j = 0; j < node.inputs.length; j++) {","                if (node.inputs[j] instanceof Wire) {","                    inputValues.push(node.inputs[j].input.outputValues[node.inputs[j].inputIndex]);","                }","                else if (node.inputs[j] !== undefined) {","                    inputValues.push(node.inputs[j].getValue(context));","                }","                else {","                    inputValues.push(undefined);","                }","            }","            node.func(context, inputValues, node.outputValues);","        }","    }","    run(graph, context) {","        if (!graph.compiled) {","            this.buildExecutionOrder(graph, context);","        }","        this.executeCompiledGraph(graph, context);","    }","}","","class NodeType {","    constructor(name) {","        this.nodeTypeSignatures = [];","        this.name = name;","    }","    addSignature(inputTypes, outputTypes, func) {","        this.nodeTypeSignatures.push({","            inputTypes: inputTypes,","            outputTypes: outputTypes,","            func: func,","        });","    }","}","class GraphNodeType extends NodeType {","    constructor(nodeGraph) {","        const inputTypes = [];","        for (let i = 0; i < nodeGraph.inputNodes.length; i++) {","            if (nodeGraph.inputNodes[i].type.name === 'input') {","                inputTypes.push(nodeGraph.inputNodes[i].data.type);","            }","        }","        const outputTypes = [];","        for (let i = 0; i < nodeGraph.outputNodes.length; i++) {","            if (nodeGraph.outputNodes[i].type.name === 'output') {","                outputTypes.push(nodeGraph.outputNodes[i].data.type);","            }","        }","        super(nodeGraph.name);","        this.addSignature(inputTypes, outputTypes, (context, data, inputs, outputs) => {","            context.inputs = inputs;","            context.outputs = outputs;","            Interpreter.Instance.run(nodeGraph, context);","        });","        this.nodeGraph = nodeGraph;","    }","}","","const NodeTypes = {};","const addNode = new NodeType('add');","addNode.addSignature([NodeValueType.Number, NodeValueType.Number], [NodeValueType.Number], (context, data, inputs, outputs) => {","    outputs[0] = inputs[0] + inputs[1];","});","addNode.addSignature([NodeValueType.Vec2, NodeValueType.Vec2], [NodeValueType.Vec2], (context, data, inputs, outputs) => {","    outputs[0].addVectors(inputs[0], inputs[1]);","});","addNode.addSignature([NodeValueType.Vec3, NodeValueType.Vec3], [NodeValueType.Vec3], (context, data, inputs, outputs) => {","    outputs[0].addVectors(inputs[0], inputs[1]);","});","addNode.addSignature([NodeValueType.Vec4, NodeValueType.Vec4], [NodeValueType.Vec4], (context, data, inputs, outputs) => {","    outputs[0].addVectors(inputs[0], inputs[1]);","});","NodeTypes['add'] = addNode;","const subNode = new NodeType('sub');","subNode.addSignature([NodeValueType.Number, NodeValueType.Number], [NodeValueType.Number], (context, data, inputs, outputs) => {","    outputs[0] = inputs[0] - inputs[1];","});","subNode.addSignature([NodeValueType.Vec2, NodeValueType.Vec2], [NodeValueType.Vec2], (context, data, inputs, outputs) => {","    outputs[0].subVectors(inputs[0], inputs[1]);","});","subNode.addSignature([NodeValueType.Vec3, NodeValueType.Vec3], [NodeValueType.Vec3], (context, data, inputs, outputs) => {","    outputs[0].subVectors(inputs[0], inputs[1]);","});","subNode.addSignature([NodeValueType.Vec4, NodeValueType.Vec4], [NodeValueType.Vec4], (context, data, inputs, outputs) => {","    outputs[0].subVectors(inputs[0], inputs[1]);","});","NodeTypes['sub'] = subNode;","const mulNode = new NodeType('mul');","mulNode.addSignature([NodeValueType.Number, NodeValueType.Number], [NodeValueType.Number], (context, data, inputs, outputs) => {","    outputs[0] = inputs[0] * inputs[1];","});","mulNode.addSignature([NodeValueType.Vec2, NodeValueType.Number], [NodeValueType.Vec2], (context, data, inputs, outputs) => {","    outputs[0].copy(inputs[0]).multiplyScalar(inputs[1]);","});","mulNode.addSignature([NodeValueType.Vec3, NodeValueType.Number], [NodeValueType.Vec3], (context, data, inputs, outputs) => {","    outputs[0].copy(inputs[0]).multiplyScalar(inputs[1]);","});","mulNode.addSignature([NodeValueType.Vec4, NodeValueType.Number], [NodeValueType.Vec4], (context, data, inputs, outputs) => {","    outputs[0].copy(inputs[0]).multiplyScalar(inputs[1]);","});","NodeTypes['mul'] = mulNode;","const divNode = new NodeType('div');","divNode.addSignature([NodeValueType.Number, NodeValueType.Number], [NodeValueType.Number], (context, data, inputs, outputs) => {","    outputs[0] = inputs[0] / inputs[1];","});","divNode.addSignature([NodeValueType.Vec2, NodeValueType.Number], [NodeValueType.Vec2], (context, data, inputs, outputs) => {","    outputs[0].copy(inputs[0]).divideScalar(inputs[1]);","});","divNode.addSignature([NodeValueType.Vec3, NodeValueType.Number], [NodeValueType.Vec3], (context, data, inputs, outputs) => {","    outputs[0].copy(inputs[0]).divideScalar(inputs[1]);","});","divNode.addSignature([NodeValueType.Vec4, NodeValueType.Number], [NodeValueType.Vec4], (context, data, inputs, outputs) => {","    outputs[0].copy(inputs[0]).divideScalar(inputs[1]);","});","NodeTypes['div'] = divNode;","const sinNode = new NodeType('sin');","sinNode.addSignature([NodeValueType.Number], [NodeValueType.Number], (context, data, inputs, outputs) => {","    outputs[0] = Math.sin(inputs[0]);","});","NodeTypes['sin'] = sinNode;","const cosNode = new NodeType('cos');","cosNode.addSignature([NodeValueType.Number], [NodeValueType.Number], (context, data, inputs, outputs) => {","    outputs[0] = Math.cos(inputs[0]);","});","NodeTypes['cos'] = cosNode;","const tanNode = new NodeType('tan');","tanNode.addSignature([NodeValueType.Number], [NodeValueType.Number], (context, data, inputs, outputs) => {","    outputs[0] = Math.tan(inputs[0]);","});","NodeTypes['tan'] = tanNode;","const absNode = new NodeType('abs');","absNode.addSignature([NodeValueType.Number], [NodeValueType.Number], (context, data, inputs, outputs) => {","    outputs[0] = Math.abs(inputs[0]);","});","NodeTypes['abs'] = absNode;","const minNode = new NodeType('min');","minNode.addSignature([NodeValueType.Number, NodeValueType.Number], [NodeValueType.Number], (context, data, inputs, outputs) => {","    outputs[0] = Math.min(inputs[0], inputs[1]);","});","NodeTypes['min'] = minNode;","const maxNode = new NodeType('max');","maxNode.addSignature([NodeValueType.Number, NodeValueType.Number], [NodeValueType.Number], (context, data, inputs, outputs) => {","    outputs[0] = Math.max(inputs[0], inputs[1]);","});","NodeTypes['max'] = maxNode;","const dot = new NodeType('dot');","dot.addSignature([NodeValueType.Vec2, NodeValueType.Vec2], [NodeValueType.Number], (context, data, inputs, outputs) => {","    outputs[0] = inputs[0].dot(inputs[1]);","});","dot.addSignature([NodeValueType.Vec3, NodeValueType.Vec3], [NodeValueType.Number], (context, data, inputs, outputs) => {","    outputs[0] = inputs[0].dot(inputs[1]);","});","dot.addSignature([NodeValueType.Vec4, NodeValueType.Vec4], [NodeValueType.Number], (context, data, inputs, outputs) => {","    outputs[0] = inputs[0].dot(inputs[1]);","});","NodeTypes['dot'] = dot;","const cross = new NodeType('cross');","cross.addSignature([NodeValueType.Vec3, NodeValueType.Vec3], [NodeValueType.Vec3], (context, data, inputs, outputs) => {","    outputs[0].crossVectors(inputs[0], inputs[1]);","});","NodeTypes['cross'] = cross;","const length = new NodeType('length');","length.addSignature([NodeValueType.Vec2], [NodeValueType.Number], (context, data, inputs, outputs) => {","    outputs[0] = inputs[0].length();","});","length.addSignature([NodeValueType.Vec3], [NodeValueType.Number], (context, data, inputs, outputs) => {","    outputs[0] = inputs[0].length();","});","length.addSignature([NodeValueType.Vec4], [NodeValueType.Number], (context, data, inputs, outputs) => {","    outputs[0] = inputs[0].length();","});","NodeTypes['length'] = length;","const lengthSq = new NodeType('lengthSq');","lengthSq.addSignature([NodeValueType.Vec2], [NodeValueType.Number], (context, data, inputs, outputs) => {","    outputs[0] = inputs[0].lengthSq();","});","lengthSq.addSignature([NodeValueType.Vec3], [NodeValueType.Number], (context, data, inputs, outputs) => {","    outputs[0] = inputs[0].lengthSq();","});","lengthSq.addSignature([NodeValueType.Vec4], [NodeValueType.Number], (context, data, inputs, outputs) => {","    outputs[0] = inputs[0].lengthSq();","});","NodeTypes['lengthSq'] = lengthSq;","const normalize = new NodeType('normalize');","normalize.addSignature([NodeValueType.Vec2], [NodeValueType.Vec2], (context, data, inputs, outputs) => {","    outputs[0].copy(inputs[0]).normalize();","});","normalize.addSignature([NodeValueType.Vec3], [NodeValueType.Vec3], (context, data, inputs, outputs) => {","    outputs[0].copy(inputs[0]).normalize();","});","normalize.addSignature([NodeValueType.Vec4], [NodeValueType.Vec4], (context, data, inputs, outputs) => {","    outputs[0].copy(inputs[0]).normalize();","});","NodeTypes['normalize'] = normalize;","const distance = new NodeType('distance');","distance.addSignature([NodeValueType.Vec2, NodeValueType.Vec2], [NodeValueType.Number], (context, data, inputs, outputs) => {","    outputs[0] = inputs[0].distanceTo(inputs[1]);","});","distance.addSignature([NodeValueType.Vec3, NodeValueType.Vec3], [NodeValueType.Number], (context, data, inputs, outputs) => {","    outputs[0] = inputs[0].distanceTo(inputs[1]);","});","NodeTypes['distance'] = distance;","const andNode = new NodeType('and');","andNode.addSignature([NodeValueType.Boolean, NodeValueType.Boolean], [NodeValueType.Boolean], (context, data, inputs, outputs) => {","    outputs[0] = inputs[0] && inputs[1];","});","NodeTypes['and'] = andNode;","const orNode = new NodeType('or');","orNode.addSignature([NodeValueType.Boolean, NodeValueType.Boolean], [NodeValueType.Boolean], (context, data, inputs, outputs) => {","    outputs[0] = inputs[0] || inputs[1];","});","NodeTypes['or'] = orNode;","const notNode = new NodeType('not');","notNode.addSignature([NodeValueType.Boolean], [NodeValueType.Boolean], (context, data, inputs, outputs) => {","    outputs[0] = !inputs[0];","});","NodeTypes['not'] = notNode;","const equalNode = new NodeType('equal');","equalNode.addSignature([NodeValueType.Number, NodeValueType.Number], [NodeValueType.Boolean], (context, data, inputs, outputs) => {","    outputs[0] = inputs[0] === inputs[1];","});","equalNode.addSignature([NodeValueType.Vec2, NodeValueType.Vec2], [NodeValueType.Boolean], (context, data, inputs, outputs) => {","    outputs[0] = inputs[0].equals(inputs[1]);","});","equalNode.addSignature([NodeValueType.Vec3, NodeValueType.Vec3], [NodeValueType.Boolean], (context, data, inputs, outputs) => {","    outputs[0] = inputs[0].equals(inputs[1]);","});","equalNode.addSignature([NodeValueType.Vec4, NodeValueType.Vec4], [NodeValueType.Boolean], (context, data, inputs, outputs) => {","    outputs[0] = inputs[0].equals(inputs[1]);","});","NodeTypes['equal'] = equalNode;","const lessThanNode = new NodeType('lessThan');","lessThanNode.addSignature([NodeValueType.Number, NodeValueType.Number], [NodeValueType.Boolean], (context, data, inputs, outputs) => {","    outputs[0] = inputs[0] < inputs[1];","});","NodeTypes['lessThan'] = lessThanNode;","const greaterThanNode = new NodeType('greaterThan');","greaterThanNode.addSignature([NodeValueType.Number, NodeValueType.Number], [NodeValueType.Boolean], (context, data, inputs, outputs) => {","    outputs[0] = inputs[0] > inputs[1];","});","NodeTypes['greaterThan'] = greaterThanNode;","const lessThanOrEqualNode = new NodeType('lessThanOrEqual');","lessThanOrEqualNode.addSignature([NodeValueType.Number, NodeValueType.Number], [NodeValueType.Boolean], (context, data, inputs, outputs) => {","    outputs[0] = inputs[0] <= inputs[1];","});","NodeTypes['lessThanOrEqual'] = lessThanOrEqualNode;","const greaterThanOrEqualNode = new NodeType('greaterThanOrEqual');","greaterThanOrEqualNode.addSignature([NodeValueType.Number, NodeValueType.Number], [NodeValueType.Boolean], (context, data, inputs, outputs) => {","    outputs[0] = inputs[0] >= inputs[1];","});","NodeTypes['greaterThanOrEqual'] = greaterThanOrEqualNode;","const ifNode = new NodeType('if');","ifNode.addSignature([NodeValueType.Boolean, NodeValueType.AnyType, NodeValueType.AnyType], [NodeValueType.AnyType], (context, data, inputs, outputs) => {","    outputs[0] = inputs[0] ? inputs[1] : inputs[2];","});","NodeTypes['if'] = ifNode;","const numberNode = new NodeType('number');","numberNode.addSignature([], [NodeValueType.Number], (context, data, inputs, outputs) => {","    outputs[0] = data.value;","});","NodeTypes['number'] = numberNode;","const vec2Node = new NodeType('vec2');","vec2Node.addSignature([NodeValueType.Number, NodeValueType.Number], [NodeValueType.Vec2], (context, data, inputs, outputs) => {","    outputs[0].x = inputs[0];","    outputs[0].y = inputs[1];","});","NodeTypes['vec2'] = vec2Node;","const vec3Node = new NodeType('vec3');","vec3Node.addSignature([NodeValueType.Number, NodeValueType.Number, NodeValueType.Number], [NodeValueType.Vec3], (context, data, inputs, outputs) => {","    outputs[0].x = inputs[0];","    outputs[0].y = inputs[1];","    outputs[0].z = inputs[2];","});","NodeTypes['vec3'] = vec3Node;","const vec4Node = new NodeType('vec4');","vec4Node.addSignature([NodeValueType.Number, NodeValueType.Number, NodeValueType.Number, NodeValueType.Number], [NodeValueType.Vec4], (context, data, inputs, outputs) => {","    outputs[0].x = inputs[0];","    outputs[0].y = inputs[1];","    outputs[0].z = inputs[2];","    outputs[0].w = inputs[3];","});","NodeTypes['vec4'] = vec4Node;","const splitVec2Node = new NodeType('splitVec2');","splitVec2Node.addSignature([NodeValueType.Vec2], [NodeValueType.Number, NodeValueType.Number], (context, data, inputs, outputs) => {","    outputs[0] = inputs[0].x;","    outputs[1] = inputs[0].y;","});","NodeTypes['splitVec2'] = splitVec2Node;","const splitVec3Node = new NodeType('splitVec3');","splitVec3Node.addSignature([NodeValueType.Vec3], [NodeValueType.Number, NodeValueType.Number, NodeValueType.Number], (context, data, inputs, outputs) => {","    outputs[0] = inputs[0].x;","    outputs[1] = inputs[0].y;","    outputs[2] = inputs[0].z;","});","NodeTypes['splitVec3'] = splitVec3Node;","const splitVec4Node = new NodeType('splitVec4');","splitVec4Node.addSignature([NodeValueType.Vec4], [NodeValueType.Number, NodeValueType.Number, NodeValueType.Number, NodeValueType.Number], (context, data, inputs, outputs) => {","    outputs[0] = inputs[0].x;","    outputs[1] = inputs[0].y;","    outputs[2] = inputs[0].z;","    outputs[3] = inputs[0].w;","});","NodeTypes['splitVec4'] = splitVec4Node;","const boolNode = new NodeType('bool');","boolNode.addSignature([], [NodeValueType.Boolean], (context, data, inputs, outputs) => {","    outputs[0] = data.value;","});","NodeTypes['bool'] = boolNode;","const particlePropertyNode = new NodeType('particleProperty');","particlePropertyNode.addSignature([NodeValueType.NullableAnyType], [NodeValueType.NullableAnyType], (context, data, inputs, outputs) => {","    if (inputs[0] !== undefined) {","        if (typeof inputs[0] === 'object') {","            context.particle[data.property].copy(inputs[0]);","        }","        else {","            context.particle[data.property] = inputs[0];","        }","    }","    if (context.particle[data.property] !== undefined) {","        if (typeof outputs[0] === 'object') {","            outputs[0].copy(context.particle[data.property]);","        }","        else {","            outputs[0] = context.particle[data.property];","        }","    }","});","NodeTypes['particleProperty'] = particlePropertyNode;","const emitNode = new NodeType('emit');","emitNode.addSignature([NodeValueType.EventStream], [], (context, data, inputs, outputs) => {","    const arr = inputs[0];","    for (let i = 0; i < arr.length; i++) {","        context.signal(i, arr[i]);","    }","});","NodeTypes['emit'] = emitNode;","const graphPropertyNode = new NodeType('graphProperty');","graphPropertyNode.addSignature([NodeValueType.NullableAnyType], [NodeValueType.NullableAnyType], (context, data, inputs, outputs) => {","    if (inputs[0] !== undefined) {","        if (typeof inputs[0] === 'object') {","            context.graph[data.property].copy(inputs[0]);","        }","        else {","            context.graph[data.property] = inputs[0];","        }","    }","    if (context.graph[data.property] !== undefined) {","        if (typeof outputs[0] === 'object') {","            outputs[0].copy(context.graph[data.property]);","        }","        else {","            outputs[0] = context.graph[data.property];","        }","    }","});","NodeTypes['graphProperty'] = graphPropertyNode;","const startEventNode = new NodeType('startEvent');","startEventNode.addSignature([], [NodeValueType.EventStream], (context, data, inputs, outputs) => {","    outputs[0] = [{ type: 'start' }];","});","NodeTypes['startEvent'] = startEventNode;","const repeaterNode = new NodeType('repeater');","repeaterNode.addSignature([NodeValueType.EventStream, NodeValueType.Number], [NodeValueType.EventStream], (context, data, inputs, outputs) => {","    const arr = inputs[0];","    const count = inputs[1];","    const result = [];","    for (let j = 0; j < arr.length; j++) {","        for (let i = 0; i < count; i++) {","            result.push(arr[j]);","        }","    }","    outputs[0] = result;","});","NodeTypes['repeater'] = repeaterNode;","const timeNode = new NodeType('time');","timeNode.addSignature([], [NodeValueType.Number], (context, data, inputs, outputs) => {","    outputs[0] = context.emissionState.time;","});","NodeTypes['time'] = timeNode;","const deltaNode = new NodeType('delta');","deltaNode.addSignature([], [NodeValueType.Number], (context, data, inputs, outputs) => {","    outputs[0] = context.delta;","});","NodeTypes['delta'] = deltaNode;","const outputNode = new NodeType('output');","outputNode.addSignature([NodeValueType.Number], [NodeValueType.Number], (context, data, inputs, outputs) => {","    outputs[0] = inputs[0];","});","outputNode.addSignature([NodeValueType.Vec2], [NodeValueType.Vec2], (context, data, inputs, outputs) => {","    outputs[0] = inputs[0];","});","outputNode.addSignature([NodeValueType.Vec3], [NodeValueType.Vec3], (context, data, inputs, outputs) => {","    outputs[0] = inputs[0];","});","outputNode.addSignature([NodeValueType.Vec4], [NodeValueType.Vec4], (context, data, inputs, outputs) => {","    outputs[0] = inputs[0];","});","outputNode.addSignature([NodeValueType.Boolean], [NodeValueType.Boolean], (context, data, inputs, outputs) => {","    outputs[0] = inputs[0];","});","NodeTypes['output'] = outputNode;","const lerpNode = new NodeType('lerp');","lerpNode.addSignature([NodeValueType.Number, NodeValueType.Number, NodeValueType.Number], [NodeValueType.Number], (context, data, inputs, outputs) => {","    outputs[0] =","        inputs[0] * (1 - inputs[2]) + inputs[1] * inputs[2];","});","lerpNode.addSignature([NodeValueType.Vec2, NodeValueType.Vec2, NodeValueType.Number], [NodeValueType.Vec2], (context, data, inputs, outputs) => {","    outputs[0].lerpVectors(inputs[0], inputs[1], inputs[2]);","});","lerpNode.addSignature([NodeValueType.Vec3, NodeValueType.Vec3, NodeValueType.Number], [NodeValueType.Vec3], (context, data, inputs, outputs) => {","    outputs[0].lerpVectors(inputs[0], inputs[1], inputs[2]);","});","lerpNode.addSignature([NodeValueType.Vec4, NodeValueType.Vec4, NodeValueType.Number], [NodeValueType.Vec4], (context, data, inputs, outputs) => {","    outputs[0].lerpVectors(inputs[0], inputs[1], inputs[2]);","});","NodeTypes['lerp'] = lerpNode;","const normalD = (x) => {","    return (1 / Math.sqrt(2 * Math.PI)) * Math.exp(x * x * -0.5);","};","const normalDistributionNode = new NodeType('normDistrib');","normalDistributionNode.addSignature([NodeValueType.Number], [NodeValueType.Number], (context, data, inputs, outputs) => {","    outputs[0] = normalD(inputs[0]);","});","NodeTypes['normDistrib'] = normalDistributionNode;","const normcdfNode = new NodeType('normcdf');","normcdfNode.addSignature([NodeValueType.Number], [NodeValueType.Number], (context, data, inputs, outputs) => {","    let x = inputs[0];","    const a1 = 0.254829592;","    const a2 = -0.284496736;","    const a3 = 1.421413741;","    const a4 = -1.453152027;","    const a5 = 1.061405429;","    const p = 0.3275911;","    let sign = 1;","    if (x < 0)","        sign = -1;","    x = Math.abs(x) / Math.sqrt(2.0);","    const t = 1.0 / (1.0 + p * x);","    const y = 1.0 - ((((a5 * t + a4) * t + a3) * t + a2) * t + a1) * t * Math.exp(-x * x);","    outputs[0] = 0.5 * (1.0 + sign * y);","});","NodeTypes['normcdf'] = normcdfNode;","const normcdfInvNode = new NodeType('normcdfInv');","const rationalApproximation = (t) => {","    const c = [2.515517, 0.802853, 0.010328];","    const d = [1.432788, 0.189269, 0.001308];","    return t - ((c[2] * t + c[1]) * t + c[0]) / (((d[2] * t + d[1]) * t + d[0]) * t + 1.0);","};","const normcdfInv = (p) => {","    if (p < 0.5) {","        return -rationalApproximation(Math.sqrt(-2.0 * Math.log(p)));","    }","    else {","        return rationalApproximation(Math.sqrt(-2.0 * Math.log(1 - p)));","    }","};","normcdfInvNode.addSignature([NodeValueType.Number], [NodeValueType.Number], (context, data, inputs, outputs) => {","    outputs[0] = normcdfInv(inputs[0]);","});","NodeTypes['normcdfInv'] = normcdfInvNode;","const clampNode = new NodeType('clamp');","clampNode.addSignature([NodeValueType.Number, NodeValueType.Number, NodeValueType.Number], [NodeValueType.Number], (context, data, inputs, outputs) => {","    outputs[0] = Math.max(Math.min(inputs[0], inputs[2]), inputs[1]);","});","NodeTypes['clamp'] = clampNode;","const smoothstepNode = new NodeType('smoothstep');","smoothstepNode.addSignature([NodeValueType.Number, NodeValueType.Number, NodeValueType.Number], [NodeValueType.Number], (context, data, inputs, outputs) => {","    const x = Math.max(Math.min(inputs[0], inputs[2]), inputs[1]);","    outputs[0] = x * x * (3 - 2 * x);","});","NodeTypes['smoothstep'] = smoothstepNode;","const randomNode = new NodeType('random');","randomNode.addSignature([NodeValueType.Number, NodeValueType.Number], [NodeValueType.Number], (context, data, inputs, outputs) => {","    outputs[0] = Math.random() * (inputs[1] - inputs[0]) + inputs[0];","});","randomNode.addSignature([NodeValueType.Vec2, NodeValueType.Vec2], [NodeValueType.Vec2], (context, data, inputs, outputs) => {","    let random = Math.random();","    outputs[0].lerpVectors(inputs[0], inputs[1], random);","});","randomNode.addSignature([NodeValueType.Vec3, NodeValueType.Vec3], [NodeValueType.Vec3], (context, data, inputs, outputs) => {","    let random = Math.random();","    outputs[0].lerpVectors(inputs[0], inputs[1], random);","});","randomNode.addSignature([NodeValueType.Vec4, NodeValueType.Vec4], [NodeValueType.Vec4], (context, data, inputs, outputs) => {","    let random = Math.random();","    outputs[0].lerpVectors(inputs[0], inputs[1], random);","});","NodeTypes['random'] = randomNode;","const vrandNode = new NodeType('vrand');","vrandNode.addSignature([], [NodeValueType.Vec2], (context, data, inputs, outputs) => {","    let x = normcdfInv(Math.random());","    let y = normcdfInv(Math.random());","    const mag = Math.sqrt(x * x + y * y);","    outputs[0].set(x / mag, y / mag);","});","vrandNode.addSignature([], [NodeValueType.Vec3], (context, data, inputs, outputs) => {","    let x = normcdfInv(Math.random());","    let y = normcdfInv(Math.random());","    let z = normcdfInv(Math.random());","    const mag = Math.sqrt(x * x + y * y + z * z);","    outputs[0].set(x / mag, y / mag, z / mag);","});","vrandNode.addSignature([], [NodeValueType.Vec4], (context, data, inputs, outputs) => {","    let x = normcdfInv(Math.random());","    let y = normcdfInv(Math.random());","    let z = normcdfInv(Math.random());","    let w = normcdfInv(Math.random());","    const mag = Math.sqrt(x * x + y * y + z * z + w * w);","    outputs[0].set(x / mag, y / mag, z / mag, w / mag);","});","NodeTypes['vrand'] = vrandNode;","const bsdfNode = new NodeType('bsdf');","bsdfNode.addSignature([NodeValueType.Vec3, NodeValueType.Vec3, NodeValueType.Vec3, NodeValueType.Number], [], (context, data, inputs, outputs) => { });","NodeTypes['bsdf'] = bsdfNode;","const OutputNodeTypeNames = new Set(['output', 'particleProperty', 'graphProperty', 'emit']);","","class NodeGraph {","    constructor(name) {","        this.inputNodes = [];","        this.outputNodes = [];","        this.allNodes = new Map();","        this.wires = [];","        this.compiled = false;","        this.nodesInOrder = [];","        this.version = '1.0';","        this.uuid = THREE.MathUtils.generateUUID();","        this.name = name;","        this.revision = 0;","    }","    addWire(wire) {","        this.wires.push(wire);","        this.revision++;","    }","    addNode(node) {","        this.allNodes.set(node.id, node);","        if (node.type === NodeTypes['input']) {","            this.inputNodes.push(node);","        }","        else if (OutputNodeTypeNames.has(node.type.name)) {","            this.outputNodes.push(node);","        }","        this.revision++;","    }","    getNode(id) {","        return this.allNodes.get(id);","    }","    deleteNode(node) {","        this.allNodes.delete(node.id);","        this.revision++;","    }","    deleteWire(wire) {","        let index = wire.input.outputs[wire.inputIndex].indexOf(wire);","        if (index !== -1) {","            wire.input.outputs[wire.inputIndex].splice(index, 1);","        }","        wire.output.inputs[wire.outputIndex] = undefined;","        index = this.wires.indexOf(wire);","        if (index != -1) {","            this.wires[index] = this.wires[this.wires.length - 1];","            this.wires.pop();","        }","        this.revision++;","    }","    toJSON() {","        throw new Error('not implemented');","    }","    clone() {","        throw new Error('not implemented');","    }","}","","new THREE.Vector3(0, 0, 1);","const tempQ = new THREE.Quaternion();","const tempV = new THREE.Vector3();","const tempV2 = new THREE.Vector3();","const PREWARM_FPS = 60;","const DEFAULT_GEOMETRY = new THREE.PlaneGeometry(1, 1, 1, 1);","class NodeVFX {","    set time(time) {","        this.emissionState.time = time;","    }","    get time() {","        return this.emissionState.time;","    }","    get layers() {","        return this.rendererSettings.layers;","    }","    get texture() {","        return this.rendererSettings.material.map;","    }","    set texture(texture) {","        this.rendererSettings.material.map = texture;","        this.neededToUpdateRender = true;","    }","    get material() {","        return this.rendererSettings.material;","    }","    set material(material) {","        this.rendererSettings.material = material;","        this.neededToUpdateRender = true;","    }","    get instancingGeometry() {","        return this.rendererSettings.instancingGeometry;","    }","    set instancingGeometry(geometry) {","        this.restart();","        this.particles.length = 0;","        this.rendererSettings.instancingGeometry = geometry;","        this.neededToUpdateRender = true;","    }","    get renderMode() {","        return this.rendererSettings.renderMode;","    }","    set renderMode(renderMode) {","        if ((this.rendererSettings.renderMode != RenderMode.Trail && renderMode === RenderMode.Trail) ||","            (this.rendererSettings.renderMode == RenderMode.Trail && renderMode !== RenderMode.Trail)) {","            this.restart();","            this.particles.length = 0;","        }","        if (this.rendererSettings.renderMode !== renderMode) {","            switch (renderMode) {","                case RenderMode.Trail:","                    this.rendererEmitterSettings = {","                        startLength: 30,","                        followLocalOrigin: false,","                    };","                    break;","                case RenderMode.Mesh:","                    this.rendererEmitterSettings = {","                        geometry: new THREE.PlaneGeometry(1, 1),","                    };","                    break;","                case RenderMode.BillBoard:","                case RenderMode.VerticalBillBoard:","                case RenderMode.HorizontalBillBoard:","                case RenderMode.StretchedBillBoard:","                    this.rendererEmitterSettings = {};","                    break;","            }","        }","        this.rendererSettings.renderMode = renderMode;","        this.neededToUpdateRender = true;","    }","    get renderOrder() {","        return this.rendererSettings.renderOrder;","    }","    set renderOrder(renderOrder) {","        this.rendererSettings.renderOrder = renderOrder;","        this.neededToUpdateRender = true;","    }","    get blending() {","        return this.rendererSettings.material.blending;","    }","    set blending(blending) {","        this.rendererSettings.material.blending = blending;","        this.neededToUpdateRender = true;","    }","    constructor(parameters) {","        var _a, _b, _c, _d, _e, _f, _g;","        this.temp = new THREE.Vector3();","        this.travelDistance = 0;","        this.normalMatrix = new THREE.Matrix3();","        this.speedFactor = 0;","        this.autoDestroy = parameters.autoDestroy === undefined ? false : parameters.autoDestroy;","        this.duration = (_a = parameters.duration) !== null && _a !== void 0 ? _a : 1;","        this.looping = parameters.looping === undefined ? true : parameters.looping;","        this.prewarm = parameters.prewarm === undefined ? false : parameters.prewarm;","        this.worldSpace = (_b = parameters.worldSpace) !== null && _b !== void 0 ? _b : false;","        this.rendererEmitterSettings = (_c = parameters.rendererEmitterSettings) !== null && _c !== void 0 ? _c : {};","        this.emissionGraph = parameters.emissionGraph;","        this.updateGraph = parameters.updateGraph;","        this.interpreter = new Interpreter();","        this.rendererSettings = {","            instancingGeometry: (_d = parameters.instancingGeometry) !== null && _d !== void 0 ? _d : DEFAULT_GEOMETRY,","            renderMode: (_e = parameters.renderMode) !== null && _e !== void 0 ? _e : RenderMode.BillBoard,","            renderOrder: (_f = parameters.renderOrder) !== null && _f !== void 0 ? _f : 0,","            material: parameters.material,","            layers: (_g = parameters.layers) !== null && _g !== void 0 ? _g : new THREE.Layers(),","            uTileCount: 1,","            vTileCount: 1,","        };","        this.neededToUpdateRender = true;","        this.particles = new Array();","        this.emitter = new ParticleEmitter(this);","        this.paused = false;","        this.particleNum = 0;","        this.emissionState = {","            time: 0,","        };","        this.emitEnded = false;","        this.markForDestroy = false;","        this.prewarmed = false;","    }","    pause() {","        this.paused = true;","    }","    play() {","        this.paused = false;","    }","    spawn(emissionState, matrix) {","        tempQ.setFromRotationMatrix(matrix);","        const translation = tempV;","        const quaternion = tempQ;","        const scale = tempV2;","        matrix.decompose(translation, quaternion, scale);","        this.particleNum++;","        while (this.particles.length < this.particleNum) {","            this.particles.push(new NodeParticle());","        }","        const particle = this.particles[this.particleNum - 1];","        particle.reset();","        this.interpreter.run(this.updateGraph, { particle: particle, emissionState: this.emissionState });","        if (this.rendererSettings.renderMode === RenderMode.Trail &&","            this.rendererEmitterSettings.followLocalOrigin) {","            const trail = particle;","            trail.localPosition = new THREE.Vector3().copy(trail.position);","        }","        if (this.worldSpace) {","            particle.position.applyMatrix4(matrix);","            particle.size *= (Math.abs(scale.x) + Math.abs(scale.y) + Math.abs(scale.z)) / 3;","            particle.velocity.multiply(scale).applyMatrix3(this.normalMatrix);","            if (particle.rotation && particle.rotation instanceof THREE.Quaternion) {","                particle.rotation.multiplyQuaternions(tempQ, particle.rotation);","            }","        }","    }","    endEmit() {","        this.emitEnded = true;","        if (this.autoDestroy) {","            this.markForDestroy = true;","        }","    }","    dispose() {","        if (this._renderer)","            this._renderer.deleteSystem(this);","        this.emitter.dispose();","        if (this.emitter.parent)","            this.emitter.parent.remove(this.emitter);","    }","    restart() {","        this.paused = false;","        this.particleNum = 0;","        this.emissionState.time = 0;","        this.emitEnded = false;","        this.markForDestroy = false;","        this.prewarmed = false;","    }","    update(delta) {","        if (this.paused)","            return;","        let currentParent = this.emitter;","        while (currentParent.parent) {","            currentParent = currentParent.parent;","        }","        if (currentParent.type !== 'Scene') {","            this.dispose();","            return;","        }","        if (this.emitEnded && this.particleNum === 0) {","            if (this.markForDestroy && this.emitter.parent)","                this.dispose();","            return;","        }","        if (this.looping && this.prewarm && !this.prewarmed) {","            this.prewarmed = true;","            for (let i = 0; i < this.duration * PREWARM_FPS; i++) {","                this.update(1.0 / PREWARM_FPS);","            }","        }","        if (delta > 0.1) {","            delta = 0.1;","        }","        if (this.neededToUpdateRender) {","            if (this._renderer)","                this._renderer.updateSystem(this);","            this.neededToUpdateRender = false;","        }","        this.emit(delta, this.emissionState, this.emitter.matrixWorld);","        const context = { particle: undefined, emissionState: this.emissionState, delta };","        for (let i = 0; i < this.particleNum; i++) {","            context.particle = this.particles[i];","            this.interpreter.run(this.updateGraph, context);","        }","        for (let i = 0; i < this.particleNum; i++) {","            if (this.rendererEmitterSettings.followLocalOrigin &&","                this.particles[i].localPosition) {","                this.particles[i].position.copy(this.particles[i].localPosition);","                if (this.particles[i].parentMatrix) {","                    this.particles[i].position.applyMatrix4(this.particles[i].parentMatrix);","                }","                else {","                    this.particles[i].position.applyMatrix4(this.emitter.matrixWorld);","                }","            }","            else {","                this.particles[i].position.addScaledVector(this.particles[i].velocity, delta);","            }","            this.particles[i].age += delta;","        }","        if (this.rendererSettings.renderMode === RenderMode.Trail) {","            for (let i = 0; i < this.particleNum; i++) {","                const particle = this.particles[i];","                particle.update();","            }","        }","        for (let i = 0; i < this.particleNum; i++) {","            const particle = this.particles[i];","            if (particle.died && (!(particle instanceof TrailParticle) || particle.previous.length === 0)) {","                this.particles[i] = this.particles[this.particleNum - 1];","                this.particles[this.particleNum - 1] = particle;","                this.particleNum--;","                i--;","            }","        }","    }","    emit(delta, emissionState, emitterMatrix) {","        if (emissionState.time > this.duration) {","            if (this.looping) {","                emissionState.time -= this.duration;","            }","            else {","                if (!this.emitEnded) {","                    this.endEmit();","                }","            }","        }","        this.normalMatrix.getNormalMatrix(emitterMatrix);","        const context = {","            signal: () => {","                this.spawn(emissionState, emitterMatrix);","            },","            emissionState,","            delta,","        };","        if (!this.emitEnded) {","            this.interpreter.run(this.emissionGraph, context);","        }","        if (this.previousWorldPos === undefined)","            this.previousWorldPos = new THREE.Vector3();","        this.emitter.getWorldPosition(this.previousWorldPos);","        emissionState.time += delta;","    }","    toJSON(meta, options = {}) {","        return {};","    }","    getRendererSettings() {","        return this.rendererSettings;","    }","    clone() {","        return this;","    }","}","","gdjs.__particleEmmiter3DExtension = {","    ParticleEmitter3DRenderer,","    ParticleEmitterAdapter,","","    ApplyCollision,","    ApplyForce,","    ApplySequences,","    AxisAngleGenerator,","    BatchedParticleRenderer,","    BatchedRenderer,","    BehaviorFromJSON,","    BehaviorTypes,","    Bezier,","    ChangeEmitDirection,","    ColorGeneratorFromJSON,","    ColorOverLife,","    ColorRange,","    ConeEmitter,","    ConstantColor,","    ConstantValue,","    DonutEmitter,","    EmitSubParticleSystem,","    EmitterFromJSON,","    EmitterMode,","    EmitterShapes,","    EulerGenerator,","    ForceOverLife,","    FrameOverLife,","    GeneratorFromJSON,","    Gradient,","    GraphNodeType,","    GravityForce,","    GridEmitter,","    Interpreter,","    IntervalValue,","    MeshSurfaceEmitter,","    Node,","    NodeGraph,","    NodeType,","    NodeTypes,","    NodeValueType,","    Noise,","    OrbitOverLife,","    ParticleEmitter,","    ParticleSystem,","    PiecewiseBezier,","    PiecewiseFunction,","    Plugins,","    PointEmitter,","    QuarksLoader,","    RandomColor,","    RandomColorBetweenGradient,","    RandomQuatGenerator,","    RecordState,","    RenderMode,","    Rotation3DOverLife,","    RotationGeneratorFromJSON,","    RotationOverLife,","    SequencerFromJSON,","    SizeOverLife,","    SpeedOverLife,","    SphereEmitter,","    SpriteBatch,","    SpriteParticle,","    SubParticleEmitMode,","    TextureSequencer,","    TrailBatch,","    TrailParticle,","    TurbulenceField,","    VFXBatch,","    ValueGeneratorFromJSON,","    WidthOverLength,","    Wire,","    genDefaultForNodeValueType,","    getPhysicsResolver,","    loadPlugin,","    setPhysicsResolver,","    unloadPlugin,","}"],"parameterObjects":"","useStrict":true,"eventsSheetExpanded":true}],"parameters":[],"objectGroups":[]},{"fullName":"","functionType":"Action","name":"onScenePreEvents","sentence":"","events":[{"type":"BuiltinCommonInstructions::JsCode","inlineCode":["\r","// See doStepPostEvents\r","runtimeScene.__particleEmmiter3DExtension = runtimeScene.__particleEmmiter3DExtension || {};\r","runtimeScene.__particleEmmiter3DExtension.emittersStepped = 0;"],"parameterObjects":"","useStrict":true,"eventsSheetExpanded":true}],"parameters":[],"objectGroups":[]}],"eventsBasedBehaviors":[],"eventsBasedObjects":[{"areaMaxX":64,"areaMaxY":64,"areaMaxZ":64,"areaMinX":0,"areaMinY":0,"areaMinZ":0,"defaultName":"ParticleEmitter","description":"Display a large number of particles to create visual effects.","fullName":"3D particle emitter","is3D":true,"isUsingLegacyInstancesRenderer":true,"name":"ParticleEmitter3D","eventsFunctions":[{"fullName":"","functionType":"Action","name":"onCreated","sentence":"","events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[],"actions":[{"type":{"value":"ParticleEmitter3D::DefineHelperClasses"},"parameters":["",""]}]},{"type":"BuiltinCommonInstructions::JsCode","inlineCode":["const BatchedRenderer = gdjs.__particleEmmiter3DExtension.BatchedRenderer;","const ParticleSystem = gdjs.__particleEmmiter3DExtension.ParticleSystem;","const TextureLoader = gdjs.__particleEmmiter3DExtension.TextureLoader;","const IntervalValue = gdjs.__particleEmmiter3DExtension.IntervalValue;","const ConstantValue = gdjs.__particleEmmiter3DExtension.ConstantValue;","const ConstantColor = gdjs.__particleEmmiter3DExtension.ConstantColor;","const ColorOverLife = gdjs.__particleEmmiter3DExtension.ColorOverLife;","const SizeOverLife = gdjs.__particleEmmiter3DExtension.SizeOverLife;","const ApplyForce = gdjs.__particleEmmiter3DExtension.ApplyForce;","const Gradient = gdjs.__particleEmmiter3DExtension.Gradient;","const PiecewiseBezier = gdjs.__particleEmmiter3DExtension.PiecewiseBezier;","const Bezier = gdjs.__particleEmmiter3DExtension.Bezier;","const PointEmitter = gdjs.__particleEmmiter3DExtension.PointEmitter;","const ConeEmitter = gdjs.__particleEmmiter3DExtension.ConeEmitter;","const RenderMode = gdjs.__particleEmmiter3DExtension.RenderMode;","","const { ParticleEmitterAdapter, ParticleEmitter3DRenderer } = gdjs.__particleEmmiter3DExtension;","","/** @type {gdjs.CustomRuntimeObject} */","const object = objects[0];","","// Here runtimeScene is the gdjs.CustomRuntimeObjectInstanceContainer inside the custom object.","const gameScene = object.getRuntimeScene();","","/** @type {SpriteObjectDataType} */","const particleSpriteData = object._instanceContainer._objects.get(\"Particle\");","const resourceName = particleSpriteData.animations[0].directions[0].sprites[0].image;","const texture = object","    .getInstanceContainer()","    .getGame()","    .getImageManager().getThreeTexture(resourceName);","","// Set the blending here because changes are not applied after the emitter creation.","const blendingString = object._getBlending();","const blending =","    blendingString === \"Additive\" ? THREE.AdditiveBlending :","        blendingString === \"Normal\" ? THREE.NormalBlending :","            blendingString === \"Subtractive\" ? THREE.SubtractiveBlending :","                blendingString === \"Multiply\" ? THREE.MultiplyBlending :","                    blendingString === \"None\" ? THREE.NoBlending :","                        THREE.AdditiveBlending;","","","// Build a configuration with the right kind of objects.","// These values are not important as they are overrided by the object properties values.","const muzzle = {","    duration: 10,","    looping: false,","    startLife: new IntervalValue(1, 2),","    startSpeed: new IntervalValue(100, 200),","    startSize: new IntervalValue(20, 50),","    startColor: new ConstantColor(new THREE.Vector4(1, 1, 1, 1)),","    worldSpace: true,","","    maxParticle: 5,","    emissionOverTime: new ConstantValue(50),","    emissionBursts: [{","        time: 0,","        count: new ConstantValue(1),","        cycle: 1,","        interval: 0.01,","        probability: 1,","    }],","","    shape: new PointEmitter(),","    material: new THREE.MeshBasicMaterial({","        map: texture,","        blending: blending,","        transparent: true,","        side: THREE.DoubleSide","    }),","    startTileIndex: 0,","    uTileCount: 1,","    vTileCount: 1,","    renderOrder: 2,","    renderMode: RenderMode.BillBoard","};","const particleSystem = new ParticleSystem(muzzle);","","const colorOverLife = new ColorOverLife(","    new Gradient(","        [","            [new THREE.Vector3(1, 0, 0), 0],","            [new THREE.Vector3(1, 0, 0), 1],","        ],","        [","            [1, 0],","            [1, 1],","        ]","    ));","particleSystem.addBehavior(colorOverLife);","const sizeOverLife = new SizeOverLife(new PiecewiseBezier([[new Bezier(1, 2 / 3, 1 / 3, 0), 0]]));","particleSystem.addBehavior(sizeOverLife);","const applyForce = new ApplyForce(new THREE.Vector3(0, 0, -1), new ConstantValue(0));","particleSystem.addBehavior(applyForce);","","particleSystem.emitter.name = object.getName() + object.getNameId();","","object.__particleEmitterAdapter = new ParticleEmitterAdapter(particleSystem, colorOverLife, sizeOverLife, applyForce);","object.__particleSystem = particleSystem;","","// This is a hack that may break in future releases.","// Replace the group that would hold children objects by the emmiter.","const layer = gameScene.getLayer(object.getLayer());","const group = object.getRenderer()._threeGroup;","layer.getRenderer().remove3DRendererObject(group);","particleSystem.emitter.position.copy(group.position);","particleSystem.emitter.rotation.order = 'ZYX';","particleSystem.emitter.rotation.copy(group.rotation);","","const particleEmitter3DRenderer = new ParticleEmitter3DRenderer(object, object._instanceContainer, object.getInstanceContainer());","object._renderer = particleEmitter3DRenderer;","particleEmitter3DRenderer._threeGroup = particleSystem.emitter;","layer.getRenderer().add3DRendererObject(particleSystem.emitter);","","particleSystem.emitter.updateMatrixWorld(true);","","","// See doStepPostEvents","gameScene.__particleEmmiter3DExtension = gameScene.__particleEmmiter3DExtension || {};","gameScene.__particleEmmiter3DExtension.emittersCount = gameScene.__particleEmmiter3DExtension.emittersCount || 0;","gameScene.__particleEmmiter3DExtension.emittersCount++;","",""],"parameterObjects":"Object","useStrict":true,"eventsSheetExpanded":true},{"type":"BuiltinCommonInstructions::Standard","conditions":[],"actions":[{"type":{"value":"ParticleEmitter3D::ParticleEmitter3D::UpdateFromProperties"},"parameters":["Object",""]},{"type":{"value":"ParticleEmitter3D::ParticleEmitter3D::SetRotationCenter"},"parameters":["Object","0","0","0"]}]}],"parameters":[{"description":"Object","name":"Object","supplementaryInformation":"ParticleEmitter3D::ParticleEmitter3D","type":"object"}],"objectGroups":[]},{"fullName":"","functionType":"Action","name":"onDestroy","sentence":"","events":[{"type":"BuiltinCommonInstructions::JsCode","inlineCode":["/** @type {gdjs.CustomRuntimeObject} */","const object = objects[0];","// Here runtimeScene is the gdjs.CustomRuntimeObjectInstanceContainer inside the custom object.","const gameScene = object.getRuntimeScene();","","object.__particleSystem.dispose();","","// See doStepPostEvents","gameScene.__particleEmmiter3DExtension.emittersCount--;","","if (gameScene.__particleEmmiter3DExtension.emittersCount === 0) {","    // Update batch system now because doStepPostEvents won't be called.","    gameScene.__particleEmmiter3DExtension.layerNames = gameScene.__particleEmmiter3DExtension.layerNames || [];","    const layerNames = gameScene.__particleEmmiter3DExtension.layerNames;","    gameScene.getAllLayerNames(layerNames);","    for (const layerName of layerNames) {","        const layer = gameScene.getLayer(layerName);","        if (layer.__particleEmmiter3DExtension) {","            layer.__particleEmmiter3DExtension.batchSystem.update(object.getElapsedTime() / 1000);","        }","    }","}"],"parameterObjects":"Object","useStrict":true,"eventsSheetExpanded":true}],"parameters":[{"description":"Object","name":"Object","supplementaryInformation":"ParticleEmitter3D::ParticleEmitter3D","type":"object"}],"objectGroups":[]},{"fullName":"","functionType":"Action","name":"onHotReloading","sentence":"","events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[],"actions":[{"type":{"value":"ParticleEmitter3D::ParticleEmitter3D::UpdateFromProperties"},"parameters":["Object",""]}]}],"parameters":[{"description":"Object","name":"Object","supplementaryInformation":"ParticleEmitter3D::ParticleEmitter3D","type":"object"}],"objectGroups":[]},{"description":"Update from properties.","fullName":"Update from properties","functionType":"Action","name":"UpdateFromProperties","private":true,"sentence":"Update from properties of _PARAM0_","events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[],"actions":[{"type":{"value":"ParticleEmitter3D::ParticleEmitter3D::SetZ"},"parameters":["Object","=","Object.Z()",""]},{"type":{"value":"ParticleEmitter3D::ParticleEmitter3D::SetRotationX"},"parameters":["Object","=","Object.PropertyRotationX()",""]},{"type":{"value":"ParticleEmitter3D::ParticleEmitter3D::SetRotationY"},"parameters":["Object","=","Object.PropertyRotationY()",""]},{"type":{"value":"ParticleEmitter3D::ParticleEmitter3D::SetStartColor"},"parameters":["Object","=","Object.StartColor()",""]},{"type":{"value":"ParticleEmitter3D::ParticleEmitter3D::SetEndColor"},"parameters":["Object","=","Object.EndColor()",""]},{"type":{"value":"ParticleEmitter3D::ParticleEmitter3D::SetStartOpacity"},"parameters":["Object","=","Object.StartOpacity()",""]},{"type":{"value":"ParticleEmitter3D::ParticleEmitter3D::SetEndOpacity"},"parameters":["Object","=","Object.EndOpacity()",""]},{"type":{"value":"ParticleEmitter3D::ParticleEmitter3D::SetFlow"},"parameters":["Object","=","Object.Flow()",""]},{"type":{"value":"ParticleEmitter3D::ParticleEmitter3D::SetStartSizeMin"},"parameters":["Object","=","Object.StartSizeMin()",""]},{"type":{"value":"ParticleEmitter3D::ParticleEmitter3D::SetStartSizeMax"},"parameters":["Object","=","Object.StartSizeMax()",""]},{"type":{"value":"ParticleEmitter3D::ParticleEmitter3D::SetEndScale"},"parameters":["Object","=","Object.EndScale()",""]},{"type":{"value":"ParticleEmitter3D::ParticleEmitter3D::SetStartSpeedMin"},"parameters":["Object","=","Object.StartSpeedMin()",""]},{"type":{"value":"ParticleEmitter3D::ParticleEmitter3D::SetStartSpeedMax"},"parameters":["Object","=","Object.StartSpeedMax()",""]},{"type":{"value":"ParticleEmitter3D::ParticleEmitter3D::SetLifespanMin"},"parameters":["Object","=","Object.LifespanMin()",""]},{"type":{"value":"ParticleEmitter3D::ParticleEmitter3D::SetLifespanMax"},"parameters":["Object","=","Object.LifespanMax()",""]},{"type":{"value":"ParticleEmitter3D::ParticleEmitter3D::SetDuration"},"parameters":["Object","=","Object.Duration()",""]},{"type":{"value":"ParticleEmitter3D::ParticleEmitter3D::SetSpayConeAngle"},"parameters":["Object","=","Object.SpayConeAngle()",""]},{"type":{"value":"ParticleEmitter3D::ParticleEmitter3D::SetGravity"},"parameters":["Object","=","Object.Gravity()",""]},{"type":{"value":"ParticleEmitter3D::ParticleEmitter3D::SetGravityTop"},"parameters":["Object","=","Object.GravityTop()",""]}],"events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"inverted":true,"value":"ParticleEmitter3D::ParticleEmitter3D::PropertyAreParticlesRelative"},"parameters":["Object"]}],"actions":[{"type":{"value":"ParticleEmitter3D::ParticleEmitter3D::SetAreParticlesRelative"},"parameters":["Object","no",""]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"ParticleEmitter3D::ParticleEmitter3D::PropertyAreParticlesRelative"},"parameters":["Object"]}],"actions":[{"type":{"value":"ParticleEmitter3D::ParticleEmitter3D::SetAreParticlesRelative"},"parameters":["Object","yes",""]}]},{"type":"BuiltinCommonInstructions::Comment","color":{"b":109,"g":230,"r":255,"textB":0,"textG":0,"textR":0},"comment":"TODO: Blending can't be changed."},{"disabled":true,"type":"BuiltinCommonInstructions::Standard","conditions":[],"actions":[{"type":{"value":"ParticleEmitter3D::ParticleEmitter3D::SetBlending"},"parameters":["Object","=","Object.Blending()",""]}]}]}],"parameters":[{"description":"Object","name":"Object","supplementaryInformation":"ParticleEmitter3D::ParticleEmitter3D","type":"object"}],"objectGroups":[]},{"fullName":"","functionType":"Action","name":"doStepPostEvents","sentence":"","events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"ParticleEmitter3D::ParticleEmitter3D::HasEnded"},"parameters":["Object",""]}],"actions":[{"type":{"value":"ParticleEmitter3D::ParticleEmitter3D::Delete"},"parameters":["Object",""]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"inverted":true,"value":"ParticleEmitter3D::ParticleEmitter3D::HasEnded"},"parameters":["Object",""]}],"actions":[{"type":{"value":"ParticleEmitter3D::ParticleEmitter3D::RegisterInLayer"},"parameters":["Object",""]}],"events":[{"type":"BuiltinCommonInstructions::JsCode","inlineCode":["/** @type {gdjs.CustomRuntimeObject3D} */","const object = objects[0];","// Here runtimeScene is the gdjs.CustomRuntimeObjectInstanceContainer inside the custom object.","const gameScene = object.getRuntimeScene();","","// Update batch system after having moved every emitter.","// See onScenePreEvents","gameScene.__particleEmmiter3DExtension.emittersStepped++;","if (gameScene.__particleEmmiter3DExtension.emittersStepped === gameScene.__particleEmmiter3DExtension.emittersCount) {","    gameScene.__particleEmmiter3DExtension.layerNames = gameScene.__particleEmmiter3DExtension.layerNames || [];","    const layerNames = gameScene.__particleEmmiter3DExtension.layerNames;","    gameScene.getAllLayerNames(layerNames);","    for (const layerName of layerNames) {","        const layer = gameScene.getLayer(layerName);","        if (layer.__particleEmmiter3DExtension) {","            layer.__particleEmmiter3DExtension.batchSystem.update(object.getElapsedTime() / 1000);","        }","    }","}"],"parameterObjects":"Object","useStrict":true,"eventsSheetExpanded":true}]}],"parameters":[{"description":"Object","name":"Object","supplementaryInformation":"ParticleEmitter3D::ParticleEmitter3D","type":"object"}],"objectGroups":[]},{"fullName":"Register in layer","functionType":"Action","name":"RegisterInLayer","private":true,"sentence":"Register _PARAM0_ in layer","events":[{"type":"BuiltinCommonInstructions::JsCode","inlineCode":["/** @type {gdjs.CustomRuntimeObject} */","const object = objects[0];","","// TODO Handle layer changes?","if (object.__emitterLayerName === undefined) {","    // Here runtimeScene is the gdjs.CustomRuntimeObjectInstanceContainer inside the custom object.","    const gameScene = object.getRuntimeScene();","","    const layer = gameScene.getLayer(object.getLayer());","    layer.__particleEmmiter3DExtension = layer.__particleEmmiter3DExtension || {};","    if (!layer.__particleEmmiter3DExtension.batchSystem) {","        const batchSystem = new gdjs.__particleEmmiter3DExtension.BatchedRenderer();","        const threeScene = layer.getRenderer().getThreeScene();","        if (threeScene) {","            threeScene.add(batchSystem);","        }","        layer.__particleEmmiter3DExtension.batchSystem = batchSystem;","    }","    layer.__particleEmmiter3DExtension.batchSystem.addSystem(object.__particleSystem);","    object.__emitterLayerName = layer.getName();","}"],"parameterObjects":"Object","useStrict":true,"eventsSheetExpanded":true}],"parameters":[{"description":"Object","name":"Object","supplementaryInformation":"ParticleEmitter3D::ParticleEmitter3D","type":"object"}],"objectGroups":[]},{"description":"Delete itself","fullName":"Delete itself","functionType":"Action","name":"Delete","private":true,"sentence":"Delete _PARAM0_","events":[{"type":"BuiltinCommonInstructions::JsCode","inlineCode":["const object = objects[0];","","object.deleteFromScene(object.getParent());",""],"parameterObjects":"Object","useStrict":true,"eventsSheetExpanded":false}],"parameters":[{"description":"Object","name":"Object","supplementaryInformation":"ParticleEmitter3D::ParticleEmitter3D","type":"object"}],"objectGroups":[]},{"description":"Check that emission has ended and no particle is alive anymore.","fullName":"Emission has ended","functionType":"Condition","name":"HasEnded","sentence":"Emission from _PARAM0_ has ended","events":[{"type":"BuiltinCommonInstructions::JsCode","inlineCode":["const object = objects[0];\r","\r","eventsFunctionContext.returnValue =\r","       object._getShouldAutodestruct()\r","    && object.__particleSystem.emitEnded\r","    && object.__particleSystem.particleNum === 0;\r",""],"parameterObjects":"Object","useStrict":true,"eventsSheetExpanded":true}],"parameters":[{"description":"Object","name":"Object","supplementaryInformation":"ParticleEmitter3D::ParticleEmitter3D","type":"object"}],"objectGroups":[]},{"description":"Restart particule emission from the beginning.","fullName":"Restart","functionType":"Action","name":"Restart","sentence":"Restart particule emission from _PARAM0_","events":[{"type":"BuiltinCommonInstructions::JsCode","inlineCode":["/** @type {gdjs.CustomRuntimeObject} */\r","const object = objects[0];\r","\r","object.__particleSystem.restart();\r",""],"parameterObjects":"Object","useStrict":true,"eventsSheetExpanded":false}],"parameters":[{"description":"Object","name":"Object","supplementaryInformation":"ParticleEmitter3D::ParticleEmitter3D","type":"object"}],"objectGroups":[]},{"description":"the Z position of the emitter.","fullName":"Z elevaltion (deprecated)","functionType":"ExpressionAndCondition","group":"Position","name":"Z","private":true,"sentence":"the Z position","events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[],"actions":[{"type":{"value":"SetReturnNumber"},"parameters":["Object.PropertyZ()"]}]}],"expressionType":{"type":"expression"},"parameters":[{"description":"Object","name":"Object","supplementaryInformation":"ParticleEmitter3D::ParticleEmitter3D","type":"object"}],"objectGroups":[]},{"fullName":"","functionType":"ActionWithOperator","getterName":"Z","name":"SetZ","private":true,"sentence":"","events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[],"actions":[{"type":{"value":"ParticleEmitter3D::ParticleEmitter3D::SetPropertyZ"},"parameters":["Object","=","GetArgumentAsNumber(\"Value\")"]}]}],"parameters":[{"description":"Object","name":"Object","supplementaryInformation":"ParticleEmitter3D::ParticleEmitter3D","type":"object"}],"objectGroups":[]},{"description":"the rotation on X axis of the emitter.","fullName":"Rotation on X axis (deprecated)","functionType":"ExpressionAndCondition","group":"Angle","name":"RotationX","private":true,"sentence":"the rotation on X axis","events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[],"actions":[{"type":{"value":"SetReturnNumber"},"parameters":["Object.PropertyRotationX()"]}]}],"expressionType":{"type":"expression"},"parameters":[{"description":"Object","name":"Object","supplementaryInformation":"ParticleEmitter3D::ParticleEmitter3D","type":"object"}],"objectGroups":[]},{"fullName":"","functionType":"ActionWithOperator","getterName":"RotationX","name":"SetRotationX","private":true,"sentence":"","events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[],"actions":[{"type":{"value":"ParticleEmitter3D::ParticleEmitter3D::SetPropertyRotationX"},"parameters":["Object","=","GetArgumentAsNumber(\"Value\")"]}]},{"type":"BuiltinCommonInstructions::JsCode","inlineCode":["const object = objects[0];\r","\r","object.__particleSystem.emitter.rotation.x = eventsFunctionContext.getArgument(\"Value\") * Math.PI / 180;"],"parameterObjects":"Object","useStrict":true,"eventsSheetExpanded":false}],"parameters":[{"description":"Object","name":"Object","supplementaryInformation":"ParticleEmitter3D::ParticleEmitter3D","type":"object"}],"objectGroups":[]},{"description":"the rotation on Y axis of the emitter.","fullName":"Rotation on Y axis (deprecated)","functionType":"ExpressionAndCondition","group":"Angle","name":"RotationY","private":true,"sentence":"the rotation on Y axis","events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[],"actions":[{"type":{"value":"SetReturnNumber"},"parameters":["Object.PropertyRotationY()"]}]}],"expressionType":{"type":"expression"},"parameters":[{"description":"Object","name":"Object","supplementaryInformation":"ParticleEmitter3D::ParticleEmitter3D","type":"object"}],"objectGroups":[]},{"fullName":"","functionType":"ActionWithOperator","getterName":"RotationY","name":"SetRotationY","private":true,"sentence":"","events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[],"actions":[{"type":{"value":"ParticleEmitter3D::ParticleEmitter3D::SetPropertyRotationY"},"parameters":["Object","=","GetArgumentAsNumber(\"Value\")"]}]},{"type":"BuiltinCommonInstructions::JsCode","inlineCode":["const object = objects[0];\r","\r","object.__particleSystem.emitter.rotation.y = (90 + eventsFunctionContext.getArgument(\"Value\")) * Math.PI / 180;"],"parameterObjects":"Object","useStrict":true,"eventsSheetExpanded":false}],"parameters":[{"description":"Object","name":"Object","supplementaryInformation":"ParticleEmitter3D::ParticleEmitter3D","type":"object"}],"objectGroups":[]},{"description":"the start color of the object.","fullName":"Start color","functionType":"ExpressionAndCondition","group":"3D particle emitter color configuration","name":"StartColor","sentence":"the start color","events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[],"actions":[{"type":{"value":"SetReturnString"},"parameters":["Object.PropertyStartColor()"]}]}],"expressionType":{"type":"color"},"parameters":[{"description":"Object","name":"Object","supplementaryInformation":"ParticleEmitter3D::ParticleEmitter3D","type":"object"}],"objectGroups":[]},{"fullName":"","functionType":"ActionWithOperator","getterName":"StartColor","name":"SetStartColor","sentence":"","events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[],"actions":[{"type":{"value":"ParticleEmitter3D::ParticleEmitter3D::SetPropertyStartColor"},"parameters":["Object","=","GetArgumentAsString(\"Value\")"]}]},{"type":"BuiltinCommonInstructions::JsCode","inlineCode":["const object = objects[0];\r","const startColor = eventsFunctionContext.getArgument(\"Value\");\r","\r","object.__particleEmitterAdapter.setStartColor(startColor);"],"parameterObjects":"Object","useStrict":true,"eventsSheetExpanded":false}],"parameters":[{"description":"Object","name":"Object","supplementaryInformation":"ParticleEmitter3D::ParticleEmitter3D","type":"object"}],"objectGroups":[]},{"description":"the end color of the object.","fullName":"End color","functionType":"ExpressionAndCondition","group":"3D particle emitter color configuration","name":"EndColor","sentence":"the end color","events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[],"actions":[{"type":{"value":"SetReturnString"},"parameters":["Object.PropertyEndColor()"]}]}],"expressionType":{"type":"color"},"parameters":[{"description":"Object","name":"Object","supplementaryInformation":"ParticleEmitter3D::ParticleEmitter3D","type":"object"}],"objectGroups":[]},{"fullName":"","functionType":"ActionWithOperator","getterName":"EndColor","name":"SetEndColor","sentence":"","events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[],"actions":[{"type":{"value":"ParticleEmitter3D::ParticleEmitter3D::SetPropertyEndColor"},"parameters":["Object","=","GetArgumentAsString(\"Value\")"]}]},{"type":"BuiltinCommonInstructions::JsCode","inlineCode":["const object = objects[0];\r","const endColor = eventsFunctionContext.getArgument(\"Value\");\r","\r","object.__particleEmitterAdapter.setEndColor(endColor);"],"parameterObjects":"Object","useStrict":true,"eventsSheetExpanded":false}],"parameters":[{"description":"Object","name":"Object","supplementaryInformation":"ParticleEmitter3D::ParticleEmitter3D","type":"object"}],"objectGroups":[]},{"description":"the start opacity of the object.","fullName":"Start opacity","functionType":"ExpressionAndCondition","group":"3D particle emitter color configuration","name":"StartOpacity","sentence":"the start opacity","events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[],"actions":[{"type":{"value":"SetReturnNumber"},"parameters":["Object.PropertyStartOpacity()"]}]}],"expressionType":{"type":"expression"},"parameters":[{"description":"Object","name":"Object","supplementaryInformation":"ParticleEmitter3D::ParticleEmitter3D","type":"object"}],"objectGroups":[]},{"fullName":"","functionType":"ActionWithOperator","getterName":"StartOpacity","name":"SetStartOpacity","sentence":"","events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[],"actions":[{"type":{"value":"ParticleEmitter3D::ParticleEmitter3D::SetPropertyStartOpacity"},"parameters":["Object","=","GetArgumentAsNumber(\"Value\")"]}]},{"type":"BuiltinCommonInstructions::JsCode","inlineCode":["const object = objects[0];\r","const startOpacity = eventsFunctionContext.getArgument(\"Value\");\r","\r","object.__particleEmitterAdapter.setStartOpacity(startOpacity);"],"parameterObjects":"Object","useStrict":true,"eventsSheetExpanded":false}],"parameters":[{"description":"Object","name":"Object","supplementaryInformation":"ParticleEmitter3D::ParticleEmitter3D","type":"object"}],"objectGroups":[]},{"description":"the end opacity of the object.","fullName":"End opacity","functionType":"ExpressionAndCondition","group":"3D particle emitter color configuration","name":"EndOpacity","sentence":"the end opacity","events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[],"actions":[{"type":{"value":"SetReturnNumber"},"parameters":["Object.PropertyEndOpacity()"]}]}],"expressionType":{"type":"expression"},"parameters":[{"description":"Object","name":"Object","supplementaryInformation":"ParticleEmitter3D::ParticleEmitter3D","type":"object"}],"objectGroups":[]},{"fullName":"","functionType":"ActionWithOperator","getterName":"EndOpacity","name":"SetEndOpacity","sentence":"","events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[],"actions":[{"type":{"value":"ParticleEmitter3D::ParticleEmitter3D::SetPropertyEndOpacity"},"parameters":["Object","=","GetArgumentAsNumber(\"Value\")"]}]},{"type":"BuiltinCommonInstructions::JsCode","inlineCode":["const object = objects[0];\r","const endOpacity = eventsFunctionContext.getArgument(\"Value\");\r","\r","object.__particleEmitterAdapter.setEndOpacity(endOpacity);"],"parameterObjects":"Object","useStrict":true,"eventsSheetExpanded":false}],"parameters":[{"description":"Object","name":"Object","supplementaryInformation":"ParticleEmitter3D::ParticleEmitter3D","type":"object"}],"objectGroups":[]},{"description":"the flow of particles of the object  (particles per second).","fullName":"Flow of particles","functionType":"ExpressionAndCondition","group":"3D particle emitter configuration","name":"Flow","sentence":"the flow of particles","events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[],"actions":[{"type":{"value":"SetReturnNumber"},"parameters":["Object.PropertyFlow()"]}]}],"expressionType":{"type":"expression"},"parameters":[{"description":"Object","name":"Object","supplementaryInformation":"ParticleEmitter3D::ParticleEmitter3D","type":"object"}],"objectGroups":[]},{"fullName":"","functionType":"ActionWithOperator","getterName":"Flow","name":"SetFlow","sentence":"","events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[],"actions":[{"type":{"value":"ParticleEmitter3D::ParticleEmitter3D::SetPropertyFlow"},"parameters":["Object","=","GetArgumentAsNumber(\"Value\")"]}]},{"type":"BuiltinCommonInstructions::JsCode","inlineCode":["const object = objects[0];\r","const flow = eventsFunctionContext.getArgument(\"Value\");\r","\r","object.__particleEmitterAdapter.setFlow(flow);\r",""],"parameterObjects":"Object","useStrict":true,"eventsSheetExpanded":false}],"parameters":[{"description":"Object","name":"Object","supplementaryInformation":"ParticleEmitter3D::ParticleEmitter3D","type":"object"}],"objectGroups":[]},{"description":"the start min size of the object.","fullName":"Start min size","functionType":"ExpressionAndCondition","group":"3D particle emitter configuration","name":"StartSizeMin","sentence":"the start min size","events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[],"actions":[{"type":{"value":"SetReturnNumber"},"parameters":["Object.PropertyStartSizeMin()"]}]}],"expressionType":{"type":"expression"},"parameters":[{"description":"Object","name":"Object","supplementaryInformation":"ParticleEmitter3D::ParticleEmitter3D","type":"object"}],"objectGroups":[]},{"fullName":"","functionType":"ActionWithOperator","getterName":"StartSizeMin","name":"SetStartSizeMin","sentence":"","events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[],"actions":[{"type":{"value":"ParticleEmitter3D::ParticleEmitter3D::SetPropertyStartSizeMin"},"parameters":["Object","=","GetArgumentAsNumber(\"Value\")"]}]},{"type":"BuiltinCommonInstructions::JsCode","inlineCode":["const object = objects[0];\r","const startMinSize = eventsFunctionContext.getArgument(\"Value\");\r","\r","object.__particleEmitterAdapter.setStartMinSize(startMinSize);"],"parameterObjects":"Object","useStrict":true,"eventsSheetExpanded":false}],"parameters":[{"description":"Object","name":"Object","supplementaryInformation":"ParticleEmitter3D::ParticleEmitter3D","type":"object"}],"objectGroups":[]},{"description":"the start max size of the object.","fullName":"Start max size","functionType":"ExpressionAndCondition","group":"3D particle emitter configuration","name":"StartSizeMax","sentence":"the start max size","events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[],"actions":[{"type":{"value":"SetReturnNumber"},"parameters":["Object.PropertyStartSizeMax()"]}]}],"expressionType":{"type":"expression"},"parameters":[{"description":"Object","name":"Object","supplementaryInformation":"ParticleEmitter3D::ParticleEmitter3D","type":"object"}],"objectGroups":[]},{"fullName":"","functionType":"ActionWithOperator","getterName":"StartSizeMax","name":"SetStartSizeMax","sentence":"","events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[],"actions":[{"type":{"value":"ParticleEmitter3D::ParticleEmitter3D::SetPropertyStartSizeMax"},"parameters":["Object","=","GetArgumentAsNumber(\"Value\")"]}]},{"type":"BuiltinCommonInstructions::JsCode","inlineCode":["const object = objects[0];\r","const startMaxSize = eventsFunctionContext.getArgument(\"Value\");\r","\r","object.__particleEmitterAdapter.setStartMaxSize(startMaxSize);\r",""],"parameterObjects":"Object","useStrict":true,"eventsSheetExpanded":false}],"parameters":[{"description":"Object","name":"Object","supplementaryInformation":"ParticleEmitter3D::ParticleEmitter3D","type":"object"}],"objectGroups":[]},{"description":"the end scale of the object.","fullName":"End scale","functionType":"ExpressionAndCondition","group":"3D particle emitter configuration","name":"EndScale","sentence":"the end scale","events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[],"actions":[{"type":{"value":"SetReturnNumber"},"parameters":["Object.PropertyEndScale()"]}]}],"expressionType":{"type":"expression"},"parameters":[{"description":"Object","name":"Object","supplementaryInformation":"ParticleEmitter3D::ParticleEmitter3D","type":"object"}],"objectGroups":[]},{"fullName":"","functionType":"ActionWithOperator","getterName":"EndScale","name":"SetEndScale","sentence":"","events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[],"actions":[{"type":{"value":"ParticleEmitter3D::ParticleEmitter3D::SetPropertyEndScale"},"parameters":["Object","=","GetArgumentAsNumber(\"Value\")"]}]},{"type":"BuiltinCommonInstructions::JsCode","inlineCode":["const object = objects[0];\r","const endScale = eventsFunctionContext.getArgument(\"Value\");\r","\r","object.__particleEmitterAdapter.setEndScale(endScale);\r",""],"parameterObjects":"Object","useStrict":true,"eventsSheetExpanded":false}],"parameters":[{"description":"Object","name":"Object","supplementaryInformation":"ParticleEmitter3D::ParticleEmitter3D","type":"object"}],"objectGroups":[]},{"description":"the min start speed of the object.","fullName":"Min start speed","functionType":"ExpressionAndCondition","group":"3D particle emitter speed configuration","name":"StartSpeedMin","sentence":"the min start speed","events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[],"actions":[{"type":{"value":"SetReturnNumber"},"parameters":["Object.PropertyStartSpeedMin()"]}]}],"expressionType":{"type":"expression"},"parameters":[{"description":"Object","name":"Object","supplementaryInformation":"ParticleEmitter3D::ParticleEmitter3D","type":"object"}],"objectGroups":[]},{"fullName":"","functionType":"ActionWithOperator","getterName":"StartSpeedMin","name":"SetStartSpeedMin","sentence":"","events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[],"actions":[{"type":{"value":"ParticleEmitter3D::ParticleEmitter3D::SetPropertyStartSpeedMin"},"parameters":["Object","=","GetArgumentAsNumber(\"Value\")"]}]},{"type":"BuiltinCommonInstructions::JsCode","inlineCode":["const object = objects[0];\r","const startSpeedMin = eventsFunctionContext.getArgument(\"Value\");\r","\r","object.__particleEmitterAdapter.setStartSpeedMin(startSpeedMin);"],"parameterObjects":"Object","useStrict":true,"eventsSheetExpanded":false}],"parameters":[{"description":"Object","name":"Object","supplementaryInformation":"ParticleEmitter3D::ParticleEmitter3D","type":"object"}],"objectGroups":[]},{"description":"the max start speed of the object.","fullName":"Max start speed","functionType":"ExpressionAndCondition","group":"3D particle emitter speed configuration","name":"StartSpeedMax","sentence":"the max start speed","events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[],"actions":[{"type":{"value":"SetReturnNumber"},"parameters":["Object.PropertyStartSpeedMax()"]}]}],"expressionType":{"type":"expression"},"parameters":[{"description":"Object","name":"Object","supplementaryInformation":"ParticleEmitter3D::ParticleEmitter3D","type":"object"}],"objectGroups":[]},{"fullName":"","functionType":"ActionWithOperator","getterName":"StartSpeedMax","name":"SetStartSpeedMax","sentence":"","events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[],"actions":[{"type":{"value":"ParticleEmitter3D::ParticleEmitter3D::SetPropertyStartSpeedMax"},"parameters":["Object","=","GetArgumentAsNumber(\"Value\")"]}]},{"type":"BuiltinCommonInstructions::JsCode","inlineCode":["const object = objects[0];\r","const startSpeedMax = eventsFunctionContext.getArgument(\"Value\");\r","\r","object.__particleEmitterAdapter.setStartSpeedMax(startSpeedMax);"],"parameterObjects":"Object","useStrict":true,"eventsSheetExpanded":false}],"parameters":[{"description":"Object","name":"Object","supplementaryInformation":"ParticleEmitter3D::ParticleEmitter3D","type":"object"}],"objectGroups":[]},{"description":"the min lifespan of the object.","fullName":"Min lifespan","functionType":"ExpressionAndCondition","group":"3D particle emitter configuration","name":"LifespanMin","sentence":"the min lifespan","events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[],"actions":[{"type":{"value":"SetReturnNumber"},"parameters":["Object.PropertyLifespanMin()"]}]}],"expressionType":{"type":"expression"},"parameters":[{"description":"Object","name":"Object","supplementaryInformation":"ParticleEmitter3D::ParticleEmitter3D","type":"object"}],"objectGroups":[]},{"fullName":"","functionType":"ActionWithOperator","getterName":"LifespanMin","name":"SetLifespanMin","sentence":"","events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[],"actions":[{"type":{"value":"ParticleEmitter3D::ParticleEmitter3D::SetPropertyLifespanMin"},"parameters":["Object","=","GetArgumentAsNumber(\"Value\")"]}]},{"type":"BuiltinCommonInstructions::JsCode","inlineCode":["const object = objects[0];\r","const lifespanMin = eventsFunctionContext.getArgument(\"Value\");\r","\r","object.__particleEmitterAdapter.setLifespanMin(lifespanMin);\r",""],"parameterObjects":"Object","useStrict":true,"eventsSheetExpanded":false}],"parameters":[{"description":"Object","name":"Object","supplementaryInformation":"ParticleEmitter3D::ParticleEmitter3D","type":"object"}],"objectGroups":[]},{"description":"the max lifespan of the object.","fullName":"Max lifespan","functionType":"ExpressionAndCondition","group":"3D particle emitter configuration","name":"LifespanMax","sentence":"the max lifespan","events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[],"actions":[{"type":{"value":"SetReturnNumber"},"parameters":["Object.PropertyLifespanMax()"]}]}],"expressionType":{"type":"expression"},"parameters":[{"description":"Object","name":"Object","supplementaryInformation":"ParticleEmitter3D::ParticleEmitter3D","type":"object"}],"objectGroups":[]},{"fullName":"","functionType":"ActionWithOperator","getterName":"LifespanMax","name":"SetLifespanMax","sentence":"","events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[],"actions":[{"type":{"value":"ParticleEmitter3D::ParticleEmitter3D::SetPropertyLifespanMax"},"parameters":["Object","=","GetArgumentAsNumber(\"Value\")"]}]},{"type":"BuiltinCommonInstructions::JsCode","inlineCode":["const object = objects[0];\r","const lifespanMax = eventsFunctionContext.getArgument(\"Value\");\r","\r","object.__particleEmitterAdapter.setLifespanMax(lifespanMax);\r",""],"parameterObjects":"Object","useStrict":true,"eventsSheetExpanded":false}],"parameters":[{"description":"Object","name":"Object","supplementaryInformation":"ParticleEmitter3D::ParticleEmitter3D","type":"object"}],"objectGroups":[]},{"description":"the emission duration of the object.","fullName":"Emission duration","functionType":"ExpressionAndCondition","group":"3D particle emitter configuration","name":"Duration","sentence":"the emission duration","events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[],"actions":[{"type":{"value":"SetReturnNumber"},"parameters":["Object.PropertyDuration()"]}]}],"expressionType":{"type":"expression"},"parameters":[{"description":"Object","name":"Object","supplementaryInformation":"ParticleEmitter3D::ParticleEmitter3D","type":"object"}],"objectGroups":[]},{"fullName":"","functionType":"ActionWithOperator","getterName":"Duration","name":"SetDuration","sentence":"","events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[],"actions":[{"type":{"value":"ParticleEmitter3D::ParticleEmitter3D::SetPropertyDuration"},"parameters":["Object","=","GetArgumentAsNumber(\"Value\")"]}]},{"type":"BuiltinCommonInstructions::JsCode","inlineCode":["const object = objects[0];\r","const duration = eventsFunctionContext.getArgument(\"Value\");\r","\r","object.__particleEmitterAdapter.setDuration(duration);\r",""],"parameterObjects":"Object","useStrict":true,"eventsSheetExpanded":false}],"parameters":[{"description":"Object","name":"Object","supplementaryInformation":"ParticleEmitter3D::ParticleEmitter3D","type":"object"}],"objectGroups":[]},{"description":"Check if particles move with the emitter.","fullName":"Particles move with the emitter","functionType":"Condition","group":"3D particle emitter speed configuration","name":"AreParticlesRelative","sentence":"_PARAM0_ particles move with the emitter","events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"ParticleEmitter3D::ParticleEmitter3D::PropertyAreParticlesRelative"},"parameters":["Object"]}],"actions":[{"type":{"value":"SetReturnBoolean"},"parameters":["True"]}]}],"parameters":[{"description":"Object","name":"Object","supplementaryInformation":"ParticleEmitter3D::ParticleEmitter3D","type":"object"}],"objectGroups":[]},{"description":"Change if particles move with the emitter.","fullName":"Particles move with the emitter","functionType":"Action","group":"3D particle emitter speed configuration","name":"SetAreParticlesRelative","sentence":"_PARAM0_ particles move with the emitter: _PARAM1_","events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"inverted":true,"value":"GetArgumentAsBoolean"},"parameters":["\"Value\""]}],"actions":[{"type":{"value":"ParticleEmitter3D::ParticleEmitter3D::SetPropertyAreParticlesRelative"},"parameters":["Object","no"]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"GetArgumentAsBoolean"},"parameters":["\"Value\""]}],"actions":[{"type":{"value":"ParticleEmitter3D::ParticleEmitter3D::SetPropertyAreParticlesRelative"},"parameters":["Object","yes"]}]},{"type":"BuiltinCommonInstructions::JsCode","inlineCode":["const object = objects[0];\r","const areParticlesRelative = eventsFunctionContext.getArgument(\"Value\");\r","\r","object.__particleEmitterAdapter.setParticlesRelative(areParticlesRelative);\r",""],"parameterObjects":"Object","useStrict":true,"eventsSheetExpanded":false}],"parameters":[{"description":"Object","name":"Object","supplementaryInformation":"ParticleEmitter3D::ParticleEmitter3D","type":"object"},{"defaultValue":"yes","description":"AreParticlesRelative","name":"Value","optional":true,"type":"yesorno"}],"objectGroups":[]},{"description":"the spay cone angle of the object.","fullName":"Spay cone angle","functionType":"ExpressionAndCondition","group":"3D particle emitter configuration","name":"SpayConeAngle","sentence":"the spay cone angle","events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[],"actions":[{"type":{"value":"SetReturnNumber"},"parameters":["Object.PropertySpayConeAngle()"]}]}],"expressionType":{"type":"expression"},"parameters":[{"description":"Object","name":"Object","supplementaryInformation":"ParticleEmitter3D::ParticleEmitter3D","type":"object"}],"objectGroups":[]},{"fullName":"","functionType":"ActionWithOperator","getterName":"SpayConeAngle","name":"SetSpayConeAngle","sentence":"","events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[],"actions":[{"type":{"value":"ParticleEmitter3D::ParticleEmitter3D::SetPropertySpayConeAngle"},"parameters":["Object","=","GetArgumentAsNumber(\"Value\")"]}]},{"type":"BuiltinCommonInstructions::JsCode","inlineCode":["const object = objects[0];\r","const sprayConeAngle = eventsFunctionContext.getArgument(\"Value\");\r","\r","object.__particleEmitterAdapter.setSprayConeAngle(sprayConeAngle);\r",""],"parameterObjects":"Object","useStrict":true,"eventsSheetExpanded":true}],"parameters":[{"description":"Object","name":"Object","supplementaryInformation":"ParticleEmitter3D::ParticleEmitter3D","type":"object"}],"objectGroups":[]},{"description":"the blending of the object.","fullName":"Blending","functionType":"ExpressionAndCondition","group":"3D particle emitter color configuration","name":"Blending","sentence":"the blending","events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[],"actions":[{"type":{"value":"SetReturnString"},"parameters":["Object.PropertyBlending()"]}]}],"expressionType":{"supplementaryInformation":"[\"Normal\",\"Additive\",\"Substractive\",\"Multiply\",\"None\"]","type":"stringWithSelector"},"parameters":[{"description":"Object","name":"Object","supplementaryInformation":"ParticleEmitter3D::ParticleEmitter3D","type":"object"}],"objectGroups":[]},{"fullName":"","functionType":"ActionWithOperator","getterName":"Blending","name":"SetBlending","private":true,"sentence":"","events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[],"actions":[{"type":{"value":"ParticleEmitter3D::ParticleEmitter3D::SetPropertyBlending"},"parameters":["Object","=","GetArgumentAsString(\"Value\")"]}]},{"type":"BuiltinCommonInstructions::JsCode","inlineCode":["const object = objects[0];\r","const blending = eventsFunctionContext.getArgument(\"Value\");\r","\r","object.__particleEmitterAdapter.setBlending(blending);\r",""],"parameterObjects":"Object","useStrict":true,"eventsSheetExpanded":true}],"parameters":[{"description":"Object","name":"Object","supplementaryInformation":"ParticleEmitter3D::ParticleEmitter3D","type":"object"}],"objectGroups":[]},{"description":"the gravity top of the object.","fullName":"Gravity top","functionType":"ExpressionAndCondition","group":"3D particle emitter speed configuration","name":"GravityTop","sentence":"the gravity top","events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[],"actions":[{"type":{"value":"SetReturnString"},"parameters":["Object.PropertyGravityTop()"]}]}],"expressionType":{"supplementaryInformation":"[\"Y-\",\"Z+\"]","type":"stringWithSelector"},"parameters":[{"description":"Object","name":"Object","supplementaryInformation":"ParticleEmitter3D::ParticleEmitter3D","type":"object"}],"objectGroups":[]},{"fullName":"","functionType":"ActionWithOperator","getterName":"GravityTop","name":"SetGravityTop","sentence":"","events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[],"actions":[{"type":{"value":"ParticleEmitter3D::ParticleEmitter3D::SetPropertyGravityTop"},"parameters":["Object","=","GetArgumentAsString(\"Value\")"]}]},{"type":"BuiltinCommonInstructions::JsCode","inlineCode":["const object = objects[0];\r","const gravityTop = eventsFunctionContext.getArgument(\"Value\");\r","\r","object.__particleEmitterAdapter.setGravityTop(gravityTop);\r",""],"parameterObjects":"Object","useStrict":true,"eventsSheetExpanded":true}],"parameters":[{"description":"Object","name":"Object","supplementaryInformation":"ParticleEmitter3D::ParticleEmitter3D","type":"object"}],"objectGroups":[]},{"description":"the gravity of the object.","fullName":"Gravity","functionType":"ExpressionAndCondition","group":"3D particle emitter speed configuration","name":"Gravity","sentence":"the gravity","events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[],"actions":[{"type":{"value":"SetReturnNumber"},"parameters":["Object.PropertyGravity()"]}]}],"expressionType":{"type":"expression"},"parameters":[{"description":"Object","name":"Object","supplementaryInformation":"ParticleEmitter3D::ParticleEmitter3D","type":"object"}],"objectGroups":[]},{"fullName":"","functionType":"ActionWithOperator","getterName":"Gravity","name":"SetGravity","sentence":"","events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[],"actions":[{"type":{"value":"ParticleEmitter3D::ParticleEmitter3D::SetPropertyGravity"},"parameters":["Object","=","GetArgumentAsNumber(\"Value\")"]}]},{"type":"BuiltinCommonInstructions::JsCode","inlineCode":["const object = objects[0];\r","const gravity = eventsFunctionContext.getArgument(\"Value\");\r","\r","object.__particleEmitterAdapter.setGravity(gravity);\r",""],"parameterObjects":"Object","useStrict":true,"eventsSheetExpanded":true}],"parameters":[{"description":"Object","name":"Object","supplementaryInformation":"ParticleEmitter3D::ParticleEmitter3D","type":"object"}],"objectGroups":[]},{"description":"Check if delete when emission ends.","fullName":"Delete when emission ends","functionType":"Condition","group":"3D particle emitter configuration","name":"ShouldAutodestruct","sentence":"_PARAM0_ delete when emission ends","events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"ParticleEmitter3D::ParticleEmitter3D::PropertyShouldAutodestruct"},"parameters":["Object"]}],"actions":[{"type":{"value":"SetReturnBoolean"},"parameters":["True"]}]}],"parameters":[{"description":"Object","name":"Object","supplementaryInformation":"ParticleEmitter3D::ParticleEmitter3D","type":"object"}],"objectGroups":[]},{"description":"Change if delete when emission ends.","fullName":"Delete when emission ends","functionType":"Action","group":"3D particle emitter configuration","name":"SetShouldAutodestruct","sentence":"_PARAM0_ delete when emission ends: _PARAM1_","events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"inverted":true,"value":"GetArgumentAsBoolean"},"parameters":["\"Value\""]}],"actions":[{"type":{"value":"ParticleEmitter3D::ParticleEmitter3D::SetPropertyShouldAutodestruct"},"parameters":["Object","no"]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"GetArgumentAsBoolean"},"parameters":["\"Value\""]}],"actions":[{"type":{"value":"ParticleEmitter3D::ParticleEmitter3D::SetPropertyShouldAutodestruct"},"parameters":["Object","yes"]}]}],"parameters":[{"description":"Object","name":"Object","supplementaryInformation":"ParticleEmitter3D::ParticleEmitter3D","type":"object"},{"defaultValue":"yes","description":"ShouldAutodestruct","name":"Value","optional":true,"type":"yesorno"}],"objectGroups":[]}],"propertyDescriptors":[{"value":"255;0;0","type":"Color","label":"Start color","description":"","group":"Color","extraInformation":[],"name":"StartColor"},{"value":"255;255;0","type":"Color","label":"End color","description":"","group":"Color","extraInformation":[],"name":"EndColor"},{"value":"255","type":"Number","unit":"Dimensionless","label":"Start opacity","description":"","group":"Color","extraInformation":[],"name":"StartOpacity"},{"value":"0","type":"Number","unit":"Dimensionless","label":"End opacity","description":"","group":"Color","extraInformation":[],"name":"EndOpacity"},{"value":"50","type":"Number","label":"Flow of particles (particles per second)","description":"","group":"","extraInformation":[],"name":"Flow"},{"value":"10","type":"Number","unit":"Pixel","label":"Start min size","description":"","group":"Size","extraInformation":[],"name":"StartSizeMin"},{"value":"20","type":"Number","unit":"Pixel","label":"Start max size","description":"","group":"Size","extraInformation":[],"name":"StartSizeMax"},{"value":"0","type":"Number","unit":"Dimensionless","label":"End scale","description":"","group":"Size","extraInformation":[],"name":"EndScale"},{"value":"100","type":"Number","unit":"PixelSpeed","label":"Start min speed","description":"","group":"Speed","extraInformation":[],"name":"StartSpeedMin"},{"value":"100","type":"Number","unit":"PixelSpeed","label":"Start max speed","description":"","group":"Speed","extraInformation":[],"name":"StartSpeedMax"},{"value":"1","type":"Number","unit":"Second","label":"Min lifespan","description":"","group":"","extraInformation":[],"name":"LifespanMin"},{"value":"2","type":"Number","unit":"Second","label":"Max lifespan","description":"","group":"","extraInformation":[],"name":"LifespanMax"},{"value":"5","type":"Number","unit":"Second","label":"Emission duration","description":"","group":"","extraInformation":[],"name":"Duration"},{"value":"","type":"Boolean","label":"Particles move with the emitter","description":"","group":"Speed","extraInformation":[],"name":"AreParticlesRelative"},{"value":"30","type":"Number","unit":"DegreeAngle","label":"Spay cone angle","description":"","group":"Position","extraInformation":[],"name":"SpayConeAngle"},{"value":"Additive","type":"Choice","label":"Blending","description":"","group":"Color","extraInformation":["Normal","Additive","Subtractive","Multiply","None"],"name":"Blending"},{"value":"Y-","type":"Choice","label":"Gravity top","description":"","group":"Speed","extraInformation":["Y-","Z+"],"name":"GravityTop"},{"value":"0","type":"Number","unit":"PixelAcceleration","label":"Gravity","description":"","group":"Speed","extraInformation":[],"name":"Gravity"},{"value":"true","type":"Boolean","label":"Delete when emission ends","description":"","group":"","extraInformation":[],"name":"ShouldAutodestruct"},{"value":"Center-center","type":"String","label":"","description":"Only used by the scene editor.","group":"","extraInformation":[],"hidden":true,"name":"ParentOrigin"},{"value":"0","type":"Number","unit":"Pixel","label":"Z (elevation)","description":"Deprecated","group":"Position","extraInformation":[],"hidden":true,"name":"Z"},{"value":"0","type":"Number","unit":"DegreeAngle","label":"Rotation on X axis","description":"","group":"Position","extraInformation":[],"hidden":true,"name":"RotationX"},{"value":"0","type":"Number","unit":"DegreeAngle","label":"Rotation on Y axis","description":"","group":"Position","extraInformation":[],"hidden":true,"name":"RotationY"}],"objects":[{"adaptCollisionMaskAutomatically":true,"assetStoreId":"","name":"Particle","type":"Sprite","updateIfNotVisible":false,"variables":[],"effects":[],"behaviors":[],"animations":[{"name":"Image","useMultipleDirections":false,"directions":[{"looping":false,"timeBetweenFrames":0.08,"sprites":[]}]}]}],"objectsFolderStructure":{"folderName":"__ROOT","children":[{"objectName":"Particle"}]},"objectsGroups":[],"layers":[{"ambientLightColorB":200,"ambientLightColorG":200,"ambientLightColorR":200,"camera3DFarPlaneDistance":10000.0,"camera3DFieldOfView":45.0,"camera3DNearPlaneDistance":3.0,"cameraType":"","followBaseLayerCamera":false,"isLightingLayer":false,"isLocked":false,"name":"","renderingType":"","visibility":true,"cameras":[{"defaultSize":true,"defaultViewport":true,"height":0.0,"viewportBottom":1.0,"viewportLeft":0.0,"viewportRight":1.0,"viewportTop":0.0,"width":0.0}],"effects":[]}],"instances":[]}]},{"author":"","category":"Camera","extensionNamespace":"","fullName":"First person 3D camera","helpPath":"","iconUrl":"data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0idXRmLTgiPz4NCjwhLS0gR2VuZXJhdG9yOiBBZG9iZSBJbGx1c3RyYXRvciAyMy4wLjMsIFNWRyBFeHBvcnQgUGx1Zy1JbiAuIFNWRyBWZXJzaW9uOiA2LjAwIEJ1aWxkIDApICAtLT4NCjxzdmcgdmVyc2lvbj0iMS4xIiBpZD0iSWNvbnMiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgeG1sbnM6eGxpbms9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiIHg9IjBweCIgeT0iMHB4Ig0KCSB2aWV3Qm94PSIwIDAgMzIgMzIiIHN0eWxlPSJlbmFibGUtYmFja2dyb3VuZDpuZXcgMCAwIDMyIDMyOyIgeG1sOnNwYWNlPSJwcmVzZXJ2ZSI+DQo8c3R5bGUgdHlwZT0idGV4dC9jc3MiPg0KCS5zdDB7ZmlsbDpub25lO3N0cm9rZTojMDAwMDAwO3N0cm9rZS13aWR0aDoyO3N0cm9rZS1saW5lY2FwOnJvdW5kO3N0cm9rZS1saW5lam9pbjpyb3VuZDtzdHJva2UtbWl0ZXJsaW1pdDoxMDt9DQoJLnN0MXtmaWxsOm5vbmU7c3Ryb2tlOiMwMDAwMDA7c3Ryb2tlLXdpZHRoOjI7c3Ryb2tlLWxpbmVqb2luOnJvdW5kO3N0cm9rZS1taXRlcmxpbWl0OjEwO30NCjwvc3R5bGU+DQo8cGF0aCBjbGFzcz0ic3QwIiBkPSJNMjcsMTZjMCwwLTQuOSw3LTExLDdTNSwxNiw1LDE2czQuOS03LDExLTdTMjcsMTYsMjcsMTZ6Ii8+DQo8Y2lyY2xlIGNsYXNzPSJzdDAiIGN4PSIxNiIgY3k9IjE2IiByPSIzIi8+DQo8cG9seWxpbmUgY2xhc3M9InN0MCIgcG9pbnRzPSIzLDkgMywzIDksMyAiLz4NCjxwb2x5bGluZSBjbGFzcz0ic3QwIiBwb2ludHM9IjksMjkgMywyOSAzLDIzICIvPg0KPHBvbHlsaW5lIGNsYXNzPSJzdDAiIHBvaW50cz0iMjksMjMgMjksMjkgMjMsMjkgIi8+DQo8cG9seWxpbmUgY2xhc3M9InN0MCIgcG9pbnRzPSIyMywzIDI5LDMgMjksOSAiLz4NCjwvc3ZnPg0K","name":"FirstPersonCamera","previewIconUrl":"https://asset-resources.gdevelop.io/public-resources/Icons/Line Hero Pack/Master/SVG/Security and Protection/e8248ffd504c314e6a9d9d560c3a0fdad3398a5f125ae6a4c0654d4e68c86376_Security and Protection_security_protection_eye_scan_lock.svg","shortDescription":"Move the camera to look though objects eyes.","version":"1.0.1","description":["Move the camera to look though objects eyes.","","This extension can be used with the \"Mouse pointer lock\" or \"Gamepad\" extension to build a first person camera."],"origin":{"identifier":"FirstPersonCamera","name":"gdevelop-extension-store"},"tags":["3d","camera","fps"],"authorIds":["IWykYNRvhCZBN3vEgKEbBPOR3Oc2"],"dependencies":[],"globalVariables":[],"sceneVariables":[],"eventsFunctions":[{"description":"Move the camera to look though _PARAM1_ eyes. The object must look to the right when all its angles are 0 and the top of its head be toward Z+.","fullName":"Look through object eyes","functionType":"Action","group":"Layers and cameras","name":"LookFromObjectEyes","sentence":"Move the camera of _PARAM2_ to look though _PARAM1_ eyes","events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[],"actions":[{"type":{"value":"CentreCamera"},"parameters":["","Object","","GetArgumentAsString(\"Layer\")",""]},{"type":{"value":"Scene3D::SetCameraZ"},"parameters":["","=","Object.Z()","GetArgumentAsString(\"Layer\")",""]},{"type":{"value":"Scene3D::SetCameraZ"},"parameters":["","=","Object.Z()","GetArgumentAsString(\"Layer\")",""]},{"type":{"value":"Scene3D::SetCameraRotationX"},"parameters":["","=","- Object.RotationY() + 90","GetArgumentAsString(\"Layer\")",""]},{"type":{"value":"Scene3D::SetCameraRotationY"},"parameters":["","=","Object.RotationX()","GetArgumentAsString(\"Layer\")",""]},{"type":{"value":"SetCameraAngle"},"parameters":["","=","Object.Angle() + 90","GetArgumentAsString(\"Layer\")",""]}]}],"parameters":[{"description":"Object","name":"Object","supplementaryInformation":"Scene3D::Cube3DObject","type":"objectList"},{"description":"Layer","name":"Layer","type":"layer"}],"objectGroups":[]}],"eventsBasedBehaviors":[],"eventsBasedObjects":[]},{"author":"Bouh","category":"Input","extensionNamespace":"","fullName":"Gamepads (controllers)","helpPath":"/all-features/gamepad","iconUrl":"data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiPz48IURPQ1RZUEUgc3ZnIFBVQkxJQyAiLS8vVzNDLy9EVEQgU1ZHIDEuMS8vRU4iICJodHRwOi8vd3d3LnczLm9yZy9HcmFwaGljcy9TVkcvMS4xL0RURC9zdmcxMS5kdGQiPjxzdmcgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayIgdmVyc2lvbj0iMS4xIiBpZD0ibWRpLWdhbWVwYWQtdmFyaWFudC1vdXRsaW5lIiB3aWR0aD0iMjQiIGhlaWdodD0iMjQiIHZpZXdCb3g9IjAgMCAyNCAyNCI+PHBhdGggZD0iTTYsOUg4VjExSDEwVjEzSDhWMTVINlYxM0g0VjExSDZWOU0xOC41LDlBMS41LDEuNSAwIDAsMSAyMCwxMC41QTEuNSwxLjUgMCAwLDEgMTguNSwxMkExLjUsMS41IDAgMCwxIDE3LDEwLjVBMS41LDEuNSAwIDAsMSAxOC41LDlNMTUuNSwxMkExLjUsMS41IDAgMCwxIDE3LDEzLjVBMS41LDEuNSAwIDAsMSAxNS41LDE1QTEuNSwxLjUgMCAwLDEgMTQsMTMuNUExLjUsMS41IDAgMCwxIDE1LjUsMTJNMTcsNUE3LDcgMCAwLDEgMjQsMTJBNyw3IDAgMCwxIDE3LDE5QzE1LjA0LDE5IDEzLjI3LDE4LjIgMTIsMTYuOUMxMC43MywxOC4yIDguOTYsMTkgNywxOUE3LDcgMCAwLDEgMCwxMkE3LDcgMCAwLDEgNyw1SDE3TTcsN0E1LDUgMCAwLDAgMiwxMkE1LDUgMCAwLDAgNywxN0M4LjY0LDE3IDEwLjA5LDE2LjIxIDExLDE1SDEzQzEzLjkxLDE2LjIxIDE1LjM2LDE3IDE3LDE3QTUsNSAwIDAsMCAyMiwxMkE1LDUgMCAwLDAgMTcsN0g3WiIgLz48L3N2Zz4=","name":"Gamepads","previewIconUrl":"https://resources.gdevelop-app.com/assets/Icons/gamepad-variant-outline.svg","shortDescription":"Add support for gamepads (or other controllers) to your game, giving access to information such as button presses, axis positions, trigger pressure, etc...","version":"0.6.1","description":["Add support for gamepads (or other controllers).","","It gives access to:","- button presses","- axis positions and force","- trigger pressure","- configurable deadzone","- vibration","- automatic mappers for platformer characters and top-down movement","","The Bomberman-like example handles 4 players with gamepads ([open the project online](https://editor.gdevelop.io/?project=example://goose-bomberman))."],"origin":{"identifier":"Gamepads","name":"gdevelop-extension-store"},"tags":["controllers","gamepads","joysticks","axis","xbox","ps4","platformer","platform","top-down"],"authorIds":["2OwwM8ToR9dx9RJ2sAKTcrLmCB92","taRwmWxwAFYFL9yyBwB3cwBw0BO2","mnImQKdn8nQxwzkS5D6a1JB27V23"],"dependencies":[],"globalVariables":[],"sceneVariables":[],"eventsFunctions":[{"description":"Get the value of the pressure on a gamepad trigger.","fullName":"Pressure on a gamepad trigger","functionType":"Expression","name":"TriggerPressure","sentence":"Player _PARAM1_ push axis _PARAM2_ to _PARAM3_","events":[{"type":"BuiltinCommonInstructions::JsCode","inlineCode":["/** @type {Gamepad[]} */\r","const gamepads = navigator.getGamepads ? navigator.getGamepads() : (navigator.webkitGetGamepads ? navigator.webkitGetGamepads() : []);\r","\r","//Get function parameters\r","const playerId = eventsFunctionContext.getArgument(\"player_ID\") - 1;\r","const trigger = eventsFunctionContext.getArgument(\"trigger\").toUpperCase();\r","\r","if (playerId < 0 || playerId > 4) {\r","    console.error('Parameter gamepad identifier in expression: \"Pressure on a gamepad trigger\", is not valid number, must be between 0 and 4.');\r","    return;\r","}\r","if (trigger != \"LT\" && trigger != \"RT\" && trigger != \"L2\" && trigger != \"R2\") {\r","    console.error('Parameter trigger is not valid in expression: \"Pressure on a gamepad trigger\"');\r","    return;\r","}\r","\r","const gamepad = gamepads[playerId];\r","\r","//we need keep this condition because when use have not yet plug her controller we can't get the controller in the gamepad variable.\r","if (gamepad == null) return;\r","\r","switch (trigger) {\r","    case 'LT':\r","    case 'L2':\r","        eventsFunctionContext.returnValue = gamepad.buttons[6].value;\r","        break;\r","\r","    case 'RT':\r","    case 'R2':\r","        eventsFunctionContext.returnValue = gamepad.buttons[7].value;\r","        break;\r","\r","    default:\r","        eventsFunctionContext.returnValue = -1;\r","        break;\r","}"],"parameterObjects":"","useStrict":true,"eventsSheetExpanded":true}],"expressionType":{"type":"expression"},"parameters":[{"description":"The gamepad identifier: 1, 2, 3 or 4","name":"player_ID","type":"expression"},{"description":"Trigger button","name":"trigger","supplementaryInformation":"[\"LT\",\"RT\",\"L2\",\"R2\"]","type":"stringWithSelector"}],"objectGroups":[]},{"description":"the force of gamepad stick (from 0 to 1).","fullName":"Stick force","functionType":"ExpressionAndCondition","name":"StickForce","sentence":"the gamepad _PARAM1_ _PARAM2_ stick force","events":[{"type":"BuiltinCommonInstructions::JsCode","inlineCode":["/** @type {Gamepad[]} */\r","const gamepads = navigator.getGamepads ? navigator.getGamepads() : (navigator.webkitGetGamepads ? navigator.webkitGetGamepads() : []);\r","\r","//Get function parameters\r","const playerId = eventsFunctionContext.getArgument(\"player_ID\") - 1;\r","const stick = eventsFunctionContext.getArgument(\"stick\").toUpperCase();\r","\r","\r","if (playerId < 0 || playerId > 4) {\r","    console.error('Parameter gamepad identifier is not valid in expression: \"Value of a stick force\"');\r","    return;\r","}\r","\r","if (stick !== \"LEFT\" && stick !== \"RIGHT\") {\r","    console.error('Parameter stick is not valid in expression: \"Value of a stick force\"');\r","    return;\r","}\r","\r","const gamepad = gamepads[playerId];\r","\r","//we need keep this condition because when use have not yet plug her controller we can't get the controller in the gamepad variable.\r","if (gamepad == null) return;\r","\r","\r","switch (stick) {\r","    case 'LEFT':\r","        eventsFunctionContext.returnValue = gdjs.evtTools.common.clamp(Math.abs(gdjs._extensionController.getNormalizedAxisValue(gamepad.axes[0], playerId)) + Math.abs(gdjs._extensionController.getNormalizedAxisValue(gamepad.axes[1], playerId)), 0, 1);\r","        break;\r","\r","    case 'RIGHT':\r","        eventsFunctionContext.returnValue = gdjs.evtTools.common.clamp(Math.abs(gdjs._extensionController.getNormalizedAxisValue(gamepad.axes[2], playerId)) + Math.abs(gdjs._extensionController.getNormalizedAxisValue(gamepad.axes[3], playerId)), 0, 1);\r","        break;\r","\r","    default:\r","        eventsFunctionContext.returnValue = -1;\r","        break;\r","}"],"parameterObjects":"","useStrict":true,"eventsSheetExpanded":true}],"expressionType":{"type":"expression"},"parameters":[{"description":"The gamepad identifier: 1, 2, 3 or 4","name":"player_ID","type":"expression"},{"description":"Stick: \"Left\" or \"Right\"","name":"stick","supplementaryInformation":"[\"Left\",\"Right\"]","type":"stringWithSelector"}],"objectGroups":[]},{"description":"Get the rotation value of a gamepad stick.\nIf the deadzone value is high, the angle value is rounded to main axes, left, left, up, down.\nAn zero deadzone value give a total freedom on the angle value.","fullName":"Value of a stick rotation (deprecated)","functionType":"Expression","name":"StickRotationValue","private":true,"sentence":"Player _PARAM1_ push axis _PARAM2_ to _PARAM3_","events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[],"actions":[{"type":{"value":"SetReturnNumber"},"parameters":["Gamepads::StickAngle(GetArgumentAsNumber(\"player_ID\"), GetArgumentAsString(\"stick\"))"]}]}],"expressionType":{"type":"expression"},"parameters":[{"description":"The gamepad identifier: 1, 2, 3 or 4","name":"player_ID","type":"expression"},{"description":"Stick: \"Left\" or \"Right\"","name":"stick","supplementaryInformation":"[\"Left\",\"Right\"]","type":"stringWithSelector"}],"objectGroups":[]},{"description":"Return the angle of a gamepad stick.\nIf the deadzone value is high, the angle value is rounded to main axes, left, left, up, down.\nAn zero deadzone value give a total freedom on the angle value.","fullName":"Stick angle","functionType":"Expression","name":"StickAngle","sentence":"","events":[{"type":"BuiltinCommonInstructions::JsCode","inlineCode":["/** @type {Gamepad[]} */\r","const gamepads = navigator.getGamepads ? navigator.getGamepads() : (navigator.webkitGetGamepads ? navigator.webkitGetGamepads() : []);\r","\r","//Get function parameters\r","const playerId = eventsFunctionContext.getArgument(\"player_ID\") - 1;\r","const stick = eventsFunctionContext.getArgument(\"stick\").toUpperCase();\r","\r","\r","if (playerId < 0 || playerId > 4) {\r","    console.error('Parameter gamepad identifier is not valid in expression: \"Value of a stick rotation\"');\r","    return;\r","}\r","if (stick !== \"LEFT\" && stick !== \"RIGHT\") {\r","    console.error('Parameter stick is not valid in expression: \"Value of a stick rotation\"');\r","    return;\r","}\r","const gamepad = gamepads[playerId];\r","\r","//we need keep this condition because when use have not yet plug her controller we can't get the controller in the gamepad variable.\r","if (gamepad == null) return;\r","\r","switch (stick) {\r","    case 'LEFT':\r","        eventsFunctionContext.returnValue = gdjs._extensionController.axisToAngle(gdjs._extensionController.getNormalizedAxisValue(gamepad.axes[0], playerId), gdjs._extensionController.getNormalizedAxisValue(gamepad.axes[1], playerId));\r","        break;\r","\r","    case 'RIGHT':\r","        eventsFunctionContext.returnValue = gdjs._extensionController.axisToAngle(gdjs._extensionController.getNormalizedAxisValue(gamepad.axes[2], playerId), gdjs._extensionController.getNormalizedAxisValue(gamepad.axes[3], playerId));\r","        break;\r","\r","    default:\r","        eventsFunctionContext.returnValue = -1;\r","        break;\r","}"],"parameterObjects":"","useStrict":true,"eventsSheetExpanded":true}],"expressionType":{"type":"expression"},"parameters":[{"description":"The gamepad identifier: 1, 2, 3 or 4","name":"player_ID","type":"expression"},{"description":"Stick: \"Left\" or \"Right\"","name":"stick","supplementaryInformation":"[\"Left\",\"Right\"]","type":"stringWithSelector"}],"objectGroups":[]},{"description":"Get the value of axis of a gamepad stick.","fullName":"Value of a gamepad axis (deprecated)","functionType":"Expression","name":"AxisValue","private":true,"sentence":"Player _PARAM1_ push axis _PARAM2_ to _PARAM3_","events":[{"type":"BuiltinCommonInstructions::JsCode","inlineCode":["/** @type {Gamepad[]} */\r","const gamepads = navigator.getGamepads ? navigator.getGamepads() : (navigator.webkitGetGamepads ? navigator.webkitGetGamepads() : []);\r","\r","//Get function parameters\r","const playerId = eventsFunctionContext.getArgument(\"player_ID\") - 1;\r","const stick = eventsFunctionContext.getArgument(\"stick\").toUpperCase();\r","const direction = eventsFunctionContext.getArgument(\"direction\").toUpperCase();\r","\r","if (playerId < 0 || playerId > 4) {\r","    console.error('Parameter gamepad identifier is not valid in expression: \"Value of a gamepad axis\"');\r","    return;\r","}\r","if (stick != \"LEFT\" && stick != \"RIGHT\") {\r","    console.error('Parameter stick is not valid in expression: \"Value of a gamepad axis\"');\r","    return;\r","}\r","if (direction != \"UP\" && direction != \"DOWN\" && direction != \"LEFT\" && direction != \"RIGHT\" && direction != \"HORIZONTAL\" && direction != \"VERTICAL\") {\r","    console.error('Parameter direction is not valid in expression: \"Value of a gamepad axis\"');\r","    return;\r","}\r","const gamepad = gamepads[playerId];\r","\r","//we need keep this condition because when use have not yet plug her controller we can't get the controller in the gamepad variable.\r","if (gamepad == null) return;\r","\r","let parameterError = false;\r","switch (stick) {\r","    case 'LEFT':\r","        switch (direction) {\r","            case 'LEFT':\r","                if (gdjs._extensionController.getNormalizedAxisValue(gamepad.axes[0], playerId) < 0) {\r","                    eventsFunctionContext.returnValue = -gdjs._extensionController.getNormalizedAxisValue(gamepad.axes[0], playerId);\r","                }\r","                break;\r","\r","            case 'RIGHT':\r","                if (gdjs._extensionController.getNormalizedAxisValue(gamepad.axes[0], playerId) > 0) {\r","                    eventsFunctionContext.returnValue = gdjs._extensionController.getNormalizedAxisValue(gamepad.axes[0], playerId);\r","                }\r","                break;\r","\r","            case 'UP':\r","                if (gdjs._extensionController.getNormalizedAxisValue(gamepad.axes[1], playerId) < 0) {\r","                    eventsFunctionContext.returnValue = -gdjs._extensionController.getNormalizedAxisValue(gamepad.axes[1], playerId);\r","                }\r","                break;\r","\r","            case 'DOWN':\r","                if (gdjs._extensionController.getNormalizedAxisValue(gamepad.axes[1], playerId) > 0) {\r","                    eventsFunctionContext.returnValue = gdjs._extensionController.getNormalizedAxisValue(gamepad.axes[1], playerId);\r","                }\r","                break;\r","\r","            case \"HORIZONTAL\":\r","                eventsFunctionContext.returnValue = gdjs._extensionController.getNormalizedAxisValue(gamepad.axes[0], playerId);\r","                break;\r","\r","            case \"VERTICAL\":\r","                eventsFunctionContext.returnValue = gdjs._extensionController.getNormalizedAxisValue(gamepad.axes[1], playerId);\r","                break;\r","\r","            default:\r","                break;\r","        }\r","        break;\r","\r","    case 'RIGHT':\r","        switch (direction) {\r","            case 'LEFT':\r","                if (gdjs._extensionController.getNormalizedAxisValue(gamepad.axes[2], playerId) < 0) {\r","                    eventsFunctionContext.returnValue = -gdjs._extensionController.getNormalizedAxisValue(gamepad.axes[2], playerId);\r","                }\r","                break;\r","\r","            case 'RIGHT':\r","                if (gdjs._extensionController.getNormalizedAxisValue(gamepad.axes[2], playerId) > 0) {\r","                    eventsFunctionContext.returnValue = gdjs._extensionController.getNormalizedAxisValue(gamepad.axes[2], playerId);\r","                }\r","                break;\r","\r","            case 'UP':\r","                if (gdjs._extensionController.getNormalizedAxisValue(gamepad.axes[3], playerId) < 0) {\r","                    eventsFunctionContext.returnValue = -gdjs._extensionController.getNormalizedAxisValue(gamepad.axes[3], playerId);\r","                }\r","                break;\r","\r","            case 'DOWN':\r","                if (gdjs._extensionController.getNormalizedAxisValue(gamepad.axes[3], playerId) > 0) {\r","                    eventsFunctionContext.returnValue = gdjs._extensionController.getNormalizedAxisValue(gamepad.axes[3], playerId);\r","                }\r","                break;\r","\r","            case \"HORIZONTAL\":\r","                eventsFunctionContext.returnValue = gdjs._extensionController.getNormalizedAxisValue(gamepad.axes[2], playerId);\r","                break;\r","\r","            case \"VERTICAL\":\r","                eventsFunctionContext.returnValue = gdjs._extensionController.getNormalizedAxisValue(gamepad.axes[3], playerId);\r","                break;\r","\r","            default:\r","                break;\r","        }\r","        break;\r","\r","    default:\r","        break;\r","}\r",""],"parameterObjects":"","useStrict":true,"eventsSheetExpanded":true}],"expressionType":{"type":"expression"},"parameters":[{"description":"The gamepad identifier: 1, 2, 3 or 4","name":"player_ID","type":"expression"},{"description":"Stick: \"Left\" or \"Right\"","name":"stick","supplementaryInformation":"[\"Left\",\"Right\"]","type":"stringWithSelector"},{"description":"Direction","name":"direction","supplementaryInformation":"[\"Up\",\"Down\",\"Left\",\"Right\",\"Horizontal\",\"Vertical\"]","type":"stringWithSelector"}],"objectGroups":[]},{"description":"Return the gamepad stick force on X axis (from -1 at the left to 1 at the right).","fullName":"Stick X force","functionType":"Expression","name":"StickForceX","sentence":"","events":[{"type":"BuiltinCommonInstructions::JsCode","inlineCode":["/** @type {Gamepad[]} */\r","const gamepads = navigator.getGamepads ? navigator.getGamepads() : (navigator.webkitGetGamepads ? navigator.webkitGetGamepads() : []);\r","\r","//Get function parameters\r","const playerId = eventsFunctionContext.getArgument(\"Gamepad\") - 1;\r","const stick = eventsFunctionContext.getArgument(\"Stick\").toLowerCase();\r","\r","if (playerId < 0 || playerId > 4) {\r","    console.error('Parameter gamepad identifier is not valid in expression: \"Value of a gamepad axis\"');\r","    return;\r","}\r","if (stick != \"left\" && stick != \"right\") {\r","    console.error('Parameter stick is not valid in expression: \"Value of a gamepad axis\"');\r","    return;\r","}\r","const gamepad = gamepads[playerId];\r","\r","//we need keep this condition because when use have not yet plug her controller we can't get the controller in the gamepad variable.\r","if (gamepad == null) return;\r","\r","const axisIndex = stick === 'right' ? 2 : 0;\r","eventsFunctionContext.returnValue = gdjs._extensionController.getNormalizedAxisValue(gamepad.axes[axisIndex], playerId);\r",""],"parameterObjects":"","useStrict":true,"eventsSheetExpanded":true}],"expressionType":{"type":"expression"},"parameters":[{"description":"The gamepad identifier: 1, 2, 3 or 4","name":"Gamepad","type":"expression"},{"description":"Stick: \"Left\" or \"Right\"","name":"Stick","supplementaryInformation":"[\"Left\",\"Right\"]","type":"stringWithSelector"}],"objectGroups":[]},{"description":"Return the gamepad stick force on Y axis (from -1 at the top to 1 at the bottom).","fullName":"Stick Y force","functionType":"Expression","name":"StickForceY","sentence":"","events":[{"type":"BuiltinCommonInstructions::JsCode","inlineCode":["/** @type {Gamepad[]} */\r","const gamepads = navigator.getGamepads ? navigator.getGamepads() : (navigator.webkitGetGamepads ? navigator.webkitGetGamepads() : []);\r","\r","//Get function parameters\r","const playerId = eventsFunctionContext.getArgument(\"Gamepad\") - 1;\r","const stick = eventsFunctionContext.getArgument(\"Stick\").toLowerCase();\r","\r","if (playerId < 0 || playerId > 4) {\r","    console.error('Parameter gamepad identifier is not valid in expression: \"Value of a gamepad axis\"');\r","    return;\r","}\r","if (stick != \"left\" && stick != \"right\") {\r","    console.error('Parameter stick is not valid in expression: \"Value of a gamepad axis\"');\r","    return;\r","}\r","const gamepad = gamepads[playerId];\r","\r","//we need keep this condition because when use have not yet plug her controller we can't get the controller in the gamepad variable.\r","if (gamepad == null) return;\r","\r","const axisIndex = stick === 'right' ? 3 : 1;\r","eventsFunctionContext.returnValue = gdjs._extensionController.getNormalizedAxisValue(gamepad.axes[axisIndex], playerId);\r",""],"parameterObjects":"","useStrict":true,"eventsSheetExpanded":true}],"expressionType":{"type":"expression"},"parameters":[{"description":"The gamepad identifier: 1, 2, 3 or 4","name":"Gamepad","type":"expression"},{"description":"Stick: \"Left\" or \"Right\"","name":"Stick","supplementaryInformation":"[\"Left\",\"Right\"]","type":"stringWithSelector"}],"objectGroups":[]},{"description":"Test if a button is released on a gamepad. Buttons can be:\n* Xbox: \"A\", \"B\", \"X\", \"Y\", \"LB\", \"RB\", \"LT\", \"RT\", \"BACK\", \"START\",\n* PS4: \"CROSS\", \"SQUARE\", \"CIRCLE\", \"TRIANGLE\", \"L1\", \"L2\", \"R1\", \"R2\", \"SHARE\", \"OPTIONS\", \"PS_BUTTON\", \"CLICK_TOUCHPAD\",\n* Other: \"UP\", \"DOWN\", \"LEFT\", \"RIGHT\", \"CLICK_STICK_LEFT\", \"CLICK_STICK_RIGHT\".","fullName":"Gamepad button released","functionType":"Condition","name":"C_Button_released","sentence":"Button _PARAM2_ of gamepad _PARAM1_ is released","events":[{"type":"BuiltinCommonInstructions::JsCode","inlineCode":["/** @type {Gamepad[]} */\r","const gamepads = navigator.getGamepads ? navigator.getGamepads() : (navigator.webkitGetGamepads ? navigator.webkitGetGamepads() : []);\r","\r","//Get function parameters\r","const playerId = eventsFunctionContext.getArgument(\"player_ID\") - 1;\r","const button = eventsFunctionContext.getArgument(\"button\").toUpperCase();\r","\r","if (playerId < 0 || playerId > 4) {\r","    console.error('Parameter gamepad identifier in condition: \"Gamepad button released\", is not valid number, must be between 0 and 4.');\r","    return;\r","}\r","if (button === \"\") {\r","    console.error('Parameter button is not valid in condition: \"Gamepad button released\"');\r","    return;\r","}\r","\r","const gamepad = gamepads[playerId];\r","\r","//we need keep this condition because when use have not yet plug her controller we can't get the controller in the gamepad variable.\r","if (gamepad == null) return;\r","\r","let buttonId;\r","\r","switch (button) {\r","    case 'A':\r","    case 'CROSS':\r","        buttonId = 0;\r","        break;\r","    case 'B':\r","    case 'CIRCLE':\r","        buttonId = 1;\r","        break;\r","    case 'X':\r","    case 'SQUARE':\r","        buttonId = 2;\r","        break;\r","    case 'Y':\r","    case 'TRIANGLE':\r","        buttonId = 3;\r","        break;\r","    case 'LB':\r","    case 'L1':\r","        buttonId = 4;\r","        break;\r","    case 'RB':\r","    case 'R1':\r","        buttonId = 5;\r","        break;\r","    case 'LT':\r","    case 'L2':\r","        buttonId = 6;\r","        break;\r","    case 'RT':\r","    case 'R2':\r","        buttonId = 7;\r","        break;\r","\r","    case 'UP':\r","        buttonId = 12;\r","        break;\r","    case 'DOWN':\r","        buttonId = 13;\r","        break;\r","    case 'LEFT':\r","        buttonId = 14;\r","        break;\r","    case 'RIGHT':\r","        buttonId = 15;\r","        break;\r","\r","    case 'BACK':\r","    case 'SHARE':\r","        buttonId = 8;\r","        break;\r","    case 'START':\r","    case 'OPTIONS':\r","        buttonId = 9;\r","        break;\r","\r","    case 'CLICK_STICK_LEFT':\r","        buttonId = 10;\r","        break;\r","    case 'CLICK_STICK_RIGHT':\r","        buttonId = 11;\r","        break;\r","\r","    //PS4\r","    case 'PS_BUTTON':\r","        buttonId = 16;\r","        break;\r","    case 'CLICK_TOUCHPAD':\r","        buttonId = 17;\r","        break;\r","\r","    default:\r","        console.error('The button: ' + button + ' in condition: \"Gamepad button released\" is not valid.');\r","        break;\r","}\r","\r","if (buttonId === undefined) {\r","    console.error('There is no buttons valid in condition: \"Gamepad button released\"');\r","    eventsFunctionContext.returnValue = false;\r","    return;\r","}\r","\r","if (gamepad.buttons == null || gamepad.buttons[buttonId] == null) {\r","    console.error('Buttons on the gamepad are not accessible in condition: \"Gamepad button released\"');\r","    eventsFunctionContext.returnValue = false;\r","    return;\r","}\r","\r","//Define default value on pressed button or use previous value\r","gdjs._extensionController.players[playerId].previousFrameStateButtons[buttonId] = gdjs._extensionController.players[playerId].previousFrameStateButtons[buttonId] || { pressed: false };\r","\r","//Get state of button at previous frame\r","const previousStateButton = gdjs._extensionController.players[playerId].previousFrameStateButtons[buttonId].pressed;\r","\r","//When previousStateButton is true and actual button state is not pressed\r","//Player have release the button\r","if (previousStateButton === true && gamepad.buttons[buttonId].pressed === false) {\r","    // Save the last button used for the player    \r","    gdjs._extensionController.players[playerId].lastButtonUsed = buttonId;\r","    gdjs._extensionController.players[playerId].previousFrameStateButtons[buttonId].pressed = true;\r","    eventsFunctionContext.returnValue = true;\r","\r","} else {\r","    gdjs._extensionController.players[playerId].previousFrameStateButtons[buttonId].pressed = false;\r","    eventsFunctionContext.returnValue = false;\r","}\r",""],"parameterObjects":"","useStrict":true,"eventsSheetExpanded":true}],"parameters":[{"description":"The gamepad identifier: 1, 2, 3 or 4","name":"player_ID","type":"expression"},{"description":"Name of the button","name":"button","supplementaryInformation":"[\"A\",\"Cross\",\"B\",\"Circle\",\"X\",\"Square\",\"Y\",\"Triangle\",\"LB\",\"L1\",\"RB\",\"R1\",\"LT\",\"L2\",\"RT\",\"R2\",\"Up\",\"Down\",\"Left\",\"Right\",\"Back\",\"Share\",\"Start\",\"Options\",\"Click_Stick_Left\",\"Click_Stick_Right\",\"PS_Button\",\"Click_Touchpad\"]","type":"stringWithSelector"}],"objectGroups":[]},{"description":"Return the index of the last pressed button of a gamepad.","fullName":"Last pressed button (id)","functionType":"Expression","name":"LastButtonID","sentence":"","events":[{"type":"BuiltinCommonInstructions::JsCode","inlineCode":["//Get function parameter\r","const playerId = eventsFunctionContext.getArgument(\"player_ID\") - 1;\r","\r","//Player id is not valid\r","if (playerId < 0 || playerId > 4) {\r","    console.error('Parameter gamepad identifier in expression: \"Last pressed button (id)\", is not valid number, must be between 0 and 4.');\r","    return;\r","}\r","\r","//Return the last button used by the player\r","eventsFunctionContext.returnValue = gdjs._extensionController.players[playerId].lastButtonUsed;"],"parameterObjects":"","useStrict":true,"eventsSheetExpanded":true}],"expressionType":{"type":"expression"},"parameters":[{"description":"The gamepad identifier: 1, 2, 3 or 4","name":"player_ID","type":"expression"}],"objectGroups":[]},{"description":"Check if any button is pressed on a gamepad.","fullName":"Any gamepad button pressed","functionType":"Condition","name":"C_Any_Button_pressed","sentence":"Any button of gamepad _PARAM1_ is pressed","events":[{"type":"BuiltinCommonInstructions::JsCode","inlineCode":["/** @type {Gamepad[]} */\r","const gamepads = navigator.getGamepads ? navigator.getGamepads() : (navigator.webkitGetGamepads ? navigator.webkitGetGamepads() : []);\r","\r","//Get function parameter\r","const playerId = eventsFunctionContext.getArgument(\"player_ID\") - 1;\r","\r","if (playerId < 0 || playerId > 4) {\r","    console.error('Parameter gamepad identifier in condition: \"Any gamepad button pressed\", is not valid number, must be between 0 and 4.');\r","    return;\r","}\r","const gamepad = gamepads[playerId];\r","\r","//we need keep this condition because when use have not yet plug her controller we can't get the controller in the gamepad variable.\r","if (gamepad == null) return;\r","\r","let buttonId;\r","for (let i = 0; i < gamepad.buttons.length; i++) { //For each buttons\r","    if (gamepad.buttons[i].pressed) { //One of them is pressed\r","        buttonId = i; //Save the button pressed\r","        break;\r","    }\r","}\r","\r","if (buttonId === undefined) {\r","    // No buttons are pressed.\r","    eventsFunctionContext.returnValue = false;\r","    return;\r","}\r","\r","if (gamepad.buttons == null || gamepad.buttons[buttonId] == null) {\r","    console.error('Buttons on the gamepad are not accessible in condition: \"Any gamepad button pressed\"');\r","    eventsFunctionContext.returnValue = false;\r","    return;\r","}\r","\r","//When a button is pressed, save the button in lastButtonUsed for each players\r","if (gamepad.buttons[buttonId].pressed) gdjs._extensionController.players[playerId].lastButtonUsed = buttonId;\r","eventsFunctionContext.returnValue = gamepad.buttons[buttonId].pressed;\r","\r","\r",""],"parameterObjects":"","useStrict":true,"eventsSheetExpanded":true}],"parameters":[{"description":"The gamepad identifier: 1, 2, 3 or 4","name":"player_ID","type":"expression"}],"objectGroups":[]},{"description":"Return the last button pressed. \nButtons for Xbox and PS4 can be:\n* Xbox: \"A\", \"B\", \"X\", \"Y\", \"LB\", \"RB\", \"LT\", \"RT\", \"BACK\", \"START\",\n* PS4: \"CROSS\", \"SQUARE\", \"CIRCLE\", \"TRIANGLE\", \"L1\", \"L2\", \"R1\", \"R2\", \"SHARE\", \"OPTIONS\", \"PS_BUTTON\", \"CLICK_TOUCHPAD\",\n* Both: \"UP\", \"DOWN\", \"LEFT\", \"RIGHT\", \"CLICK_STICK_LEFT\", \"CLICK_STICK_RIGHT\".","fullName":"Last pressed button (string)","functionType":"StringExpression","name":"LastButtonString","sentence":"Button _PARAM2_ of gamepad _PARAM1_ is pressed","events":[{"type":"BuiltinCommonInstructions::JsCode","inlineCode":["/** @type {Gamepad[]} */\r","const gamepads = navigator.getGamepads ? navigator.getGamepads() : (navigator.webkitGetGamepads ? navigator.webkitGetGamepads() : []);\r","\r","//Get function parameters\r","const playerId = eventsFunctionContext.getArgument(\"player_ID\") - 1;\r","const controllerType = eventsFunctionContext.getArgument(\"controller_type\").toUpperCase();\r","\r","if (playerId < 0 || playerId > 4) {\r","    console.error('Parameter gamepad identifier in string expression: \"Last pressed button (LastButtonString)\", is not valid number, must be between 0 and 4.');\r","    return;\r","}\r","if (controllerType === \"\") {\r","    console.error('Parameter controller type is not valid in string expression: \"Last pressed button (LastButtonString)\"');\r","    return;\r","}\r","\r","const gamepad = gamepads[playerId];\r","\r","if (gamepad !== null) { //Gamepad exist\r","    //Get last btn id\r","    const lastButtonUsedID = gdjs._extensionController.players[playerId].lastButtonUsed;\r","\r","    //Return last button as string    \r","    eventsFunctionContext.returnValue = gdjs._extensionController.getInputString(controllerType, lastButtonUsedID);\r","\r","} else { //Gamepad dosen't exist\r","    console.error('Your controller is not supported or the gamepad wasn\\'t detected in string expression: \"Last pressed button (LastButtonString)\"');\r","    eventsFunctionContext.returnValue = \"Gamepad not connected\";\r","}"],"parameterObjects":"","useStrict":true,"eventsSheetExpanded":true}],"expressionType":{"type":"string"},"parameters":[{"description":"The gamepad identifier: 1, 2, 3 or 4","name":"player_ID","type":"expression"},{"description":"Controller type","name":"controller_type","supplementaryInformation":"[\"Xbox\",\"PS4\"]","type":"stringWithSelector"}],"objectGroups":[]},{"description":"Return the number of gamepads.","fullName":"Gamepad count","functionType":"Expression","name":"GamepadCount","sentence":"","events":[{"type":"BuiltinCommonInstructions::JsCode","inlineCode":["const gamepads = navigator.getGamepads ? navigator.getGamepads() : (navigator.webkitGetGamepads ? navigator.webkitGetGamepads() : []);\r","\r","//Get the last activated controller\r","const controllerId = gdjs._extensionController.lastActiveController;\r","\r","// Check if controller is active\r","const gamepad = gamepads[controllerId];\r","if (gamepad == null) {\r","    eventsFunctionContext.returnValue = 0;\r","} else {\r","    // Return active controller id\r","    eventsFunctionContext.returnValue = controllerId + 1;\r","}\r",""],"parameterObjects":"","useStrict":true,"eventsSheetExpanded":true}],"expressionType":{"type":"expression"},"parameters":[],"objectGroups":[]},{"description":"Check if a button is pressed on a gamepad. \nButtons can be:\n* Xbox: \"A\", \"B\", \"X\", \"Y\", \"LB\", \"RB\", \"LT\", \"RT\", \"BACK\", \"START\",\n* PS4: \"CROSS\", \"SQUARE\", \"CIRCLE\", \"TRIANGLE\", \"L1\", \"L2\", \"R1\", \"R2\", \"SHARE\", \"OPTIONS\", \"PS_BUTTON\", \"CLICK_TOUCHPAD\",\n* Other: \"UP\", \"DOWN\", \"LEFT\", \"RIGHT\", \"CLICK_STICK_LEFT\", \"CLICK_STICK_RIGHT\".","fullName":"Gamepad button pressed","functionType":"Condition","name":"C_Button_pressed","sentence":"Button _PARAM2_ of gamepad _PARAM1_ is pressed","events":[{"type":"BuiltinCommonInstructions::JsCode","inlineCode":["/** @type {Gamepad[]} */\r","const gamepads = navigator.getGamepads ? navigator.getGamepads() : (navigator.webkitGetGamepads ? navigator.webkitGetGamepads() : []);\r","\r","//Get function parameters\r","const playerId = eventsFunctionContext.getArgument(\"player_ID\") - 1;\r","const button = eventsFunctionContext.getArgument(\"button\").toUpperCase();\r","\r","if (playerId < 0 || playerId > 4) {\r","    console.error('Parameter gamepad identifier in condition: \"Gamepad button pressed\", is not valid number, must be between 0 and 4.');\r","    return;\r","}\r","if (button === \"\") {\r","    console.error('Parameter button is not valid in condition: \"Gamepad button pressed\"');\r","    eventsFunctionContext.returnValue = false;\r","    return;\r","}\r","\r","const gamepad = gamepads[playerId];\r","\r","//we need keep this condition because when use have not yet plug her controller we can't get the controller in the gamepad variable.\r","if (gamepad == null) return;\r","\r","let buttonId;\r","\r","switch (button) {\r","    case 'A':\r","    case 'CROSS':\r","        buttonId = 0;\r","        break;\r","    case 'B':\r","    case 'CIRCLE':\r","        buttonId = 1;\r","        break;\r","    case 'X':\r","    case 'SQUARE':\r","        buttonId = 2;\r","        break;\r","    case 'Y':\r","    case 'TRIANGLE':\r","        buttonId = 3;\r","        break;\r","    case 'LB':\r","    case 'L1':\r","        buttonId = 4;\r","        break;\r","    case 'RB':\r","    case 'R1':\r","        buttonId = 5;\r","        break;\r","    case 'LT':\r","    case 'L2':\r","        buttonId = 6;\r","        break;\r","    case 'RT':\r","    case 'R2':\r","        buttonId = 7;\r","        break;\r","\r","    case 'UP':\r","        buttonId = 12;\r","        break;\r","    case 'DOWN':\r","        buttonId = 13;\r","        break;\r","    case 'LEFT':\r","        buttonId = 14;\r","        break;\r","    case 'RIGHT':\r","        buttonId = 15;\r","        break;\r","\r","    case 'BACK':\r","    case 'SHARE':\r","        buttonId = 8;\r","        break;\r","    case 'START':\r","    case 'OPTIONS':\r","        buttonId = 9;\r","        break;\r","\r","    case 'CLICK_STICK_LEFT':\r","        buttonId = 10;\r","        break;\r","    case 'CLICK_STICK_RIGHT':\r","        buttonId = 11;\r","        break;\r","\r","    //PS4\r","    case 'PS_BUTTON':\r","        buttonId = 16;\r","        break;\r","    case 'CLICK_TOUCHPAD':\r","        buttonId = 17;\r","        break;\r","\r","    default:\r","        console.error('The button: ' + button + ' in condition: \"Gamepad button pressed\" is not valid.');\r","        eventsFunctionContext.returnValue = false;\r","        break;\r","}\r","\r","\r","\r","if (buttonId === undefined) {\r","    console.error('There is no buttons valid in condition: \"Gamepad button pressed\"');\r","    eventsFunctionContext.returnValue = false;\r","    return;\r","}\r","\r","if (gamepad.buttons == null || gamepad.buttons[buttonId] == null) {\r","    console.error('Buttons on the gamepad are not accessible in condition: \"Gamepad button pressed\"');\r","    eventsFunctionContext.returnValue = false;\r","    return;\r","}\r","\r","//When a button is pressed, save the button in lastButtonUsed for each players\r","if (gamepad.buttons[buttonId].pressed) gdjs._extensionController.players[playerId].lastButtonUsed = buttonId;\r","eventsFunctionContext.returnValue = gamepad.buttons[buttonId].pressed;\r","\r","\r","\r",""],"parameterObjects":"","useStrict":true,"eventsSheetExpanded":true}],"parameters":[{"description":"The gamepad identifier: 1, 2, 3 or 4","name":"player_ID","type":"expression"},{"description":"Name of the button","name":"button","supplementaryInformation":"[\"A\",\"Cross\",\"B\",\"Circle\",\"X\",\"Square\",\"Y\",\"Triangle\",\"LB\",\"L1\",\"RB\",\"R1\",\"LT\",\"L2\",\"RT\",\"R2\",\"Up\",\"Down\",\"Left\",\"Right\",\"Back\",\"Share\",\"Start\",\"Options\",\"Click_Stick_Left\",\"Click_Stick_Right\",\"PS_Button\",\"Click_Touchpad\"]","type":"stringWithSelector"}],"objectGroups":[]},{"description":"Return the value of the deadzone applied to a gamepad sticks, between 0 and 1.","fullName":"Gamepad deadzone for sticks","functionType":"Expression","name":"Deadzone","sentence":"","events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[],"actions":[]},{"type":"BuiltinCommonInstructions::JsCode","inlineCode":["//Get function parameter\r","const playerId = eventsFunctionContext.getArgument(\"player_ID\") - 1;\r","\r","if (playerId < 0 || playerId > 4) {\r","    console.error('Parameter gamepad identifier in expression: \"Gamepad deadzone for sticks\", is not valid number, must be between 0 and 4.');\r","    return;\r","}\r","///Return the deadzone value for a given player\r","eventsFunctionContext.returnValue = gdjs._extensionController.players[playerId].deadzone;"],"parameterObjects":"","useStrict":true,"eventsSheetExpanded":true}],"expressionType":{"type":"expression"},"parameters":[{"description":"The gamepad identifier: 1, 2, 3 or 4","name":"player_ID","type":"expression"}],"objectGroups":[]},{"description":"Set the deadzone for sticks of the gamepad. The deadzone is an area for which movement on sticks won't be taken into account (instead, the stick will be considered as not moved). Deadzone is between 0 and 1, and is by default 0.2.","fullName":"Set gamepad deadzone for sticks","functionType":"Action","name":"A_Set_deadzone","sentence":"Set deadzone for sticks on gamepad: _PARAM1_ to _PARAM2_","events":[{"type":"BuiltinCommonInstructions::JsCode","inlineCode":["//Get function parameter\r","const playerId = eventsFunctionContext.getArgument(\"player_ID\") - 1;\r","const newDeadzone = eventsFunctionContext.getArgument(\"deadzone\");\r","\r","if (playerId < 0 || playerId > 4) {\r","    console.error('Parameter gamepad identifier in action: \"Set gamepad deadzone for sticks\", is not valid, must be between 0 and 4.');\r","    return;\r","}\r","\r","// clamp the newDeadzone in range [0, 1].\r","// https://github.com/4ian/GDevelop-extensions/pull/33#issuecomment-618224857\r","gdjs._extensionController.players[playerId].deadzone = gdjs.evtTools.common.clamp(newDeadzone, 0, 1);\r",""],"parameterObjects":"","useStrict":true,"eventsSheetExpanded":true}],"parameters":[{"description":"The gamepad identifier: 1, 2, 3 or 4","name":"player_ID","type":"expression"},{"description":"Deadzone for sticks, 0.2 by default (0 to 1)","name":"deadzone","type":"expression"}],"objectGroups":[]},{"description":"Check if a stick of a gamepad is pushed in a given direction.","fullName":"Gamepad stick pushed (axis)","functionType":"Condition","name":"C_Axis_pushed","sentence":"_PARAM2_ stick of gamepad _PARAM1_ is pushed in direction _PARAM3_","events":[{"type":"BuiltinCommonInstructions::JsCode","inlineCode":["/** @type {Gamepad[]} */\r","const gamepads = navigator.getGamepads ? navigator.getGamepads() : (navigator.webkitGetGamepads ? navigator.webkitGetGamepads() : []);\r","\r","//Get function parameters\r","const playerId = eventsFunctionContext.getArgument(\"player_ID\") - 1;\r","const stick = eventsFunctionContext.getArgument(\"stick\").toUpperCase();\r","const direction = eventsFunctionContext.getArgument(\"direction\").toUpperCase();\r","\r","if (playerId < 0 || playerId > 4) {\r","    console.error('Parameter gamepad identifier in condition: \"Gamepad stick pushed (axis)\", is not valid number, must be between 0 and 4.');\r","    return;\r","}\r","if (stick != \"LEFT\" && stick != \"RIGHT\") {\r","    console.error('Parameter stick in condition: \"Gamepad stick pushed (axis)\", is not valid, must be LEFT or RIGHT');\r","    return;\r","}\r","if (direction != \"UP\" && direction != \"DOWN\" && direction != \"LEFT\" && direction != \"RIGHT\" && direction != \"ANY\") {\r","    console.error('Parameter deadzone in condition: \"Gamepad stick pushed (axis)\", is not valid, must be UP, DOWN, LEFT or RIGHT');\r","    return;\r","}\r","\r","const gamepad = gamepads[playerId];\r","\r","//we need keep this condition because when use have not yet plug her controller we can't get the controller in the gamepad variable.\r","if (gamepad == null) {\r","    eventsFunctionContext.returnValue = false;\r","    return;\r","}\r","\r","\r","//Define in onFirstSceneLoaded function\r","const getNormalizedAxisValue = gdjs._extensionController.getNormalizedAxisValue;\r","\r","switch (stick) {\r","    case 'LEFT':\r","        switch (direction) {\r","            case 'LEFT':\r","                if (getNormalizedAxisValue(gamepad.axes[0], playerId) < 0) {\r","                    eventsFunctionContext.returnValue = true;\r","                    return;\r","                }\r","                break;\r","\r","            case 'RIGHT':\r","                if (getNormalizedAxisValue(gamepad.axes[0], playerId) > 0) {\r","                    eventsFunctionContext.returnValue = true;\r","                    return;\r","                }\r","                break;\r","\r","            case 'UP':\r","                if (getNormalizedAxisValue(gamepad.axes[1], playerId) < 0) {\r","                    eventsFunctionContext.returnValue = true;\r","                    return;\r","                }\r","                break;\r","\r","            case 'DOWN':\r","                if (getNormalizedAxisValue(gamepad.axes[1], playerId) > 0) {\r","                    eventsFunctionContext.returnValue = true;\r","                    return;\r","                }\r","                break;\r","\r","            case 'ANY':\r","                if (   getNormalizedAxisValue(gamepad.axes[0], playerId) < 0\r","                    || getNormalizedAxisValue(gamepad.axes[0], playerId) > 0\r","                    || getNormalizedAxisValue(gamepad.axes[1], playerId) < 0 \r","                    || getNormalizedAxisValue(gamepad.axes[1], playerId) > 0) {\r","                    eventsFunctionContext.returnValue = true;\r","                    return;\r","                }\r","                break;\r","\r","            default:\r","                console.error('The value Direction on stick Left on the condition: \"Gamepad stick pushed (axis)\" is not valid.');\r","                eventsFunctionContext.returnValue = false;\r","                break;\r","        }\r","        break;\r","\r","    case 'RIGHT':\r","        switch (direction) {\r","            case 'LEFT':\r","                if (getNormalizedAxisValue(gamepad.axes[2], playerId) < 0) {\r","                    eventsFunctionContext.returnValue = true;\r","                    return;\r","                }\r","                break;\r","\r","            case 'RIGHT':\r","                if (getNormalizedAxisValue(gamepad.axes[2], playerId) > 0) {\r","                    eventsFunctionContext.returnValue = true;\r","                    return;\r","                }\r","                break;\r","\r","            case 'UP':\r","                if (getNormalizedAxisValue(gamepad.axes[3], playerId) < 0) {\r","                    eventsFunctionContext.returnValue = true;\r","                    return;\r","                }\r","                break;\r","\r","            case 'DOWN':\r","                if (getNormalizedAxisValue(gamepad.axes[3], playerId) > 0) {\r","                    eventsFunctionContext.returnValue = true;\r","                    return;\r","                }\r","                break;\r","\r","            case 'ANY':\r","                if (   getNormalizedAxisValue(gamepad.axes[2], playerId) < 0\r","                    || getNormalizedAxisValue(gamepad.axes[2], playerId) > 0\r","                    || getNormalizedAxisValue(gamepad.axes[3], playerId) < 0 \r","                    || getNormalizedAxisValue(gamepad.axes[3], playerId) > 0) {\r","                    eventsFunctionContext.returnValue = true;\r","                    return;\r","                }\r","                break;\r","\r","            default:\r","                console.error('The value Direction on stick Right on the condition: \"Gamepad stick pushed (axis)\" is not valid.');\r","                eventsFunctionContext.returnValue = false;\r","                break;\r","        }\r","        break;\r","\r","    default:\r","        console.error('The value Stick on the condition: \"Gamepad stick pushed (axis)\" is not valid.');\r","        eventsFunctionContext.returnValue = false;\r","        break;\r","}\r","\r","eventsFunctionContext.returnValue = false;\r",""],"parameterObjects":"","useStrict":true,"eventsSheetExpanded":true}],"parameters":[{"description":"The gamepad identifier: 1, 2, 3 or 4","name":"player_ID","type":"expression"},{"description":"Stick: \"Left\" or \"Right\"","name":"stick","supplementaryInformation":"[\"Left\",\"Right\"]","type":"stringWithSelector"},{"description":"Direction","name":"direction","supplementaryInformation":"[\"Up\",\"Down\",\"Left\",\"Right\",\"Any\"]","type":"stringWithSelector"}],"objectGroups":[]},{"description":"Return the number of connected gamepads.","fullName":"Connected gamepads number","functionType":"Expression","name":"ConnectedGamepadsCount","sentence":"","events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[],"actions":[]},{"type":"BuiltinCommonInstructions::JsCode","inlineCode":["/** @type {Gamepad[]} */\r","const gamepads = navigator.getGamepads ? navigator.getGamepads() : (navigator.webkitGetGamepads ? navigator.webkitGetGamepads() : []);\r","\r","// Gamepads can be disconnected and become null, so we have to filter them.\r","eventsFunctionContext.returnValue = Object.keys(gamepads).filter(key => !!gamepads[key]).length;\r",""],"parameterObjects":"","useStrict":true,"eventsSheetExpanded":true}],"expressionType":{"type":"expression"},"parameters":[],"objectGroups":[]},{"description":"Return a string containing informations about the specified gamepad.","fullName":"Gamepad type","functionType":"StringExpression","name":"GamepadType","sentence":"Player _PARAM1_ use _PARAM2_ controller","events":[{"type":"BuiltinCommonInstructions::JsCode","inlineCode":["/** @type {Gamepad[]} */","const gamepads = navigator.getGamepads ? navigator.getGamepads() : (navigator.webkitGetGamepads ? navigator.webkitGetGamepads() : []);","","//Get function parameter","const playerId = eventsFunctionContext.getArgument(\"player_ID\") - 1;","","if (playerId < 0 || playerId > 4) {","    console.error('Parameter gamepad identifier in string expression: \"Gamepad type\", is not valid number, must be between 0 and 4');","    return;","}","","const gamepad = gamepads[playerId];","","//we need keep this condition because when use have not yet plug her controller we can't get the controller in the gamepad variable.","if (gamepad == null) return;","","eventsFunctionContext.returnValue = (gamepad && gamepad.id) ? gamepad.id : \"No information for player \" + (playerId + 1)",""],"parameterObjects":"","useStrict":true,"eventsSheetExpanded":true}],"expressionType":{"type":"string"},"parameters":[{"description":"The gamepad identifier: 1, 2, 3 or 4","name":"player_ID","type":"expression"}],"objectGroups":[]},{"description":"Check if the specified gamepad has the specified information in its description. Useful to know if the gamepad is a Xbox or PS4 controller.","fullName":"Gamepad type","functionType":"Condition","name":"C_Controller_type","sentence":"Gamepad _PARAM1_ is a _PARAM2_ controller","events":[{"type":"BuiltinCommonInstructions::JsCode","inlineCode":["/** @type {Gamepad[]} */","const gamepads = navigator.getGamepads ? navigator.getGamepads() : (navigator.webkitGetGamepads ? navigator.webkitGetGamepads() : []);","","//Get function parameters","const playerId = eventsFunctionContext.getArgument(\"player_ID\") - 1;","const controllerType = eventsFunctionContext.getArgument(\"controller_type\").toUpperCase();","","if (playerId < 0 || playerId > 4) {","    console.error('Parameter gamepad identifier in condition: \"Gamepad type\", is not valid number, must be between 0 and 4.');","    return;","}","if (controllerType === \"\") {","    console.error('Parameter type in condition: \"Gamepad type\", is not a string.');","    return;","}","","const gamepad = gamepads[playerId];","","//we need keep this condition because when use have not yet plug her controller we can't get the controller in the gamepad variable.","if (gamepad == null) return;","","","if (controllerType == \"XBOX\") {","    eventsFunctionContext.returnValue = gdjs._extensionController.isXbox(gamepad);","} else {","    eventsFunctionContext.returnValue = gamepad ? gamepad.id.toUpperCase().indexOf(controllerType) !== -1 : false;","}"],"parameterObjects":"","useStrict":true,"eventsSheetExpanded":true}],"parameters":[{"description":"The gamepad identifier: 1, 2, 3 or 4","name":"player_ID","type":"expression"},{"description":"Type: \"Xbox\", \"PS4\", \"Steam\" or \"PS3\" (among other)","name":"controller_type","type":"string"}],"objectGroups":[]},{"description":"Check if a gamepad is connected.","fullName":"Gamepad connected","functionType":"Condition","name":"C_Controller_X_is_connected","sentence":"Gamepad _PARAM1_ is plugged and connected","events":[{"type":"BuiltinCommonInstructions::JsCode","inlineCode":["/** @type {Gamepad[]} */","const gamepads = navigator.getGamepads ? navigator.getGamepads() : (navigator.webkitGetGamepads ? navigator.webkitGetGamepads() : []);","","//Get function parameter","const playerId = eventsFunctionContext.getArgument(\"player_ID\") - 1;","","if (playerId < 0 || playerId > 4) {","    console.error('Parameter gamepad identifier in condition: \"Gamepad connected\", is not valid number, must be between 0 and 4.');","    return;","}","","// If gamepad was disconnected it will be null (so this will return false)","// If gamepad was never connected it will be undefined (so this will return false)","eventsFunctionContext.returnValue = !!gamepads[playerId];"],"parameterObjects":"","useStrict":true,"eventsSheetExpanded":true}],"parameters":[{"description":"The gamepad identifier: 1, 2, 3 or 4","name":"player_ID","type":"expression"}],"objectGroups":[]},{"description":"Generate a vibration on the specified controller. Might only work if the game is running in a recent web browser.","fullName":"Gamepad vibration","functionType":"Action","name":"A_Vibrate_controller","sentence":"Make gamepad _PARAM1_ vibrate for _PARAM2_ seconds","events":[{"type":"BuiltinCommonInstructions::JsCode","inlineCode":["/** @type {Gamepad[]} */","//Vibration work only on game in browser.","const gamepads = navigator.getGamepads ? navigator.getGamepads() : (navigator.webkitGetGamepads ? navigator.webkitGetGamepads() : []);","","//Get function parameters","const playerId = eventsFunctionContext.getArgument(\"Player_ID\") - 1;","const duration = eventsFunctionContext.getArgument(\"Duration\") || 1;","","if (playerId < 0 || playerId > 4) {","  console.error('Parameter gamepad identifier in action: \"Gamepad connected\", is not valid number, must be between 0 and 4.');","  return;","}","","const gamepad = gamepads[playerId];","","//we need keep this condition because when use have not yet plug her controller we can't get the controller in the gamepad variable.","if (gamepad == null) return;","","if (gamepad && gamepad.vibrationActuator) {","  gamepad.vibrationActuator.playEffect(\"dual-rumble\", {","    startDelay: 0,","    duration: duration * 1000,","    weakMagnitude: 1.0,","    strongMagnitude: 1.0","  });","}"],"parameterObjects":"","useStrict":true,"eventsSheetExpanded":true}],"parameters":[{"description":"The gamepad identifier: 1, 2, 3 or 4","name":"Player_ID","type":"expression"},{"description":"Time of the vibration, in seconds (optional, default value is 1)","name":"Duration","type":"expression"}],"objectGroups":[]},{"description":"Generate an advanced vibration on the specified controller. Incompatible with Firefox.","fullName":"Advanced gamepad vibration","functionType":"Action","name":"A_Advanced_Vibration_Controller","sentence":"Make gamepad _PARAM1_ vibrate for _PARAM2_ seconds with the vibration magnitude of _PARAM3_ and _PARAM4_","events":[{"type":"BuiltinCommonInstructions::JsCode","inlineCode":["/** @type {Gamepad[]} */","//Vibration work only on game in browser.","const gamepads = navigator.getGamepads ? navigator.getGamepads() : (navigator.webkitGetGamepads ? navigator.webkitGetGamepads() : []);","","//Get function parameters","const playerId = eventsFunctionContext.getArgument(\"Player_ID\") - 1;","const duration = eventsFunctionContext.getArgument(\"Duration\") || 1;","const strongRumbleMagnitude = eventsFunctionContext.getArgument(\"StrongMagnitude\");","const weakRumbleMagnitude = eventsFunctionContext.getArgument(\"WeakMagnitude\");","","if (playerId < 0 || playerId > 4) {","  console.error('Parameter gamepad identifier in action: \"Advanced gamepad vibration\", is not valid number, must be between 0 and 4.');","  return;","}","if (weakRumbleMagnitude < 0 || weakRumbleMagnitude > 1) {","  console.error('Parameter weakRumble identifier in action: \"Advanced gamepad vibration\", is not valid number, must be between 0 and 1.');","  return;","}","if (strongRumbleMagnitude < 0 || strongRumbleMagnitude > 1) {","  console.error('Parameter strongRumble identifier in action: \"Advanced gamepad vibration\", is not valid number, must be between 0 and 1.');","  return;","}","","const gamepad = gamepads[playerId];","","//we need keep this condition because when use have not yet plug the controller we can't get the controller in the gamepad variable.","if (gamepad == null) return;","","if (gamepad && gamepad.vibrationActuator) {","  gamepad.vibrationActuator.playEffect(\"dual-rumble\", {","    startDelay: 0,","    duration: duration * 1000,","    weakMagnitude: weakRumbleMagnitude,","    strongMagnitude: strongRumbleMagnitude","  });","}","","gdjs._extensionController.players[playerId].rumble.duration = duration;","gdjs._extensionController.players[playerId].rumble.elapsedTime = 0;","gdjs._extensionController.players[playerId].rumble.weakMagnitude = weakRumbleMagnitude;","gdjs._extensionController.players[playerId].rumble.strongMagnitude = strongRumbleMagnitude;"],"parameterObjects":"","useStrict":true,"eventsSheetExpanded":true}],"parameters":[{"description":"The gamepad identifier: 1, 2, 3 or 4","name":"Player_ID","type":"expression"},{"description":"Time of the vibration, in seconds (optional, default value is 1)","name":"Duration","type":"expression"},{"description":"Strong rumble magnitude (from 0 to 1)","name":"StrongMagnitude","type":"expression"},{"description":"Weak rumble magnitude (from 0 to 1)","name":"WeakMagnitude","type":"expression"}],"objectGroups":[]},{"description":"Change a vibration on the specified controller. Incompatible with Firefox.","fullName":"Change gamepad active vibration","functionType":"Action","name":"A_Change_Vibration_Magnitude","sentence":"Change the vibration magnitude of _PARAM2_ & _PARAM3_ on gamepad _PARAM1_","events":[{"type":"BuiltinCommonInstructions::JsCode","inlineCode":["/** @type {Gamepad[]} */","//Vibration work only on game in browser.","const gamepads = navigator.getGamepads ? navigator.getGamepads() : (navigator.webkitGetGamepads ? navigator.webkitGetGamepads() : []);","","//Get function parameters","const playerId = eventsFunctionContext.getArgument(\"Player_ID\") - 1;","const elapsedTime = gdjs._extensionController.players[playerId].rumble.elapsedTime || 0;","const originalDuration = gdjs._extensionController.players[playerId].rumble.duration || 1;","const strongRumbleMagnitude = eventsFunctionContext.getArgument(\"StrongMagnitude\");","const weakRumbleMagnitude = eventsFunctionContext.getArgument(\"WeakMagnitude\");","","","if (playerId < 0 || playerId > 4) {","  console.error('Parameter gamepad identifier in action: \"Change gamepad active vibration\", is not valid number, must be between 0 and 4.');","  return;","}","if (weakRumbleMagnitude < 0 || weakRumbleMagnitude > 1) {","  console.error('Parameter weakRumble identifier in action: \"Change gamepad active vibration\", is not valid number, must be between 0 and 1.');","  return;","}","if (strongRumbleMagnitude < 0 || strongRumbleMagnitude > 1) {","  console.error('Parameter strongRumble identifier in action: \"Change gamepad active vibration\", is not valid number, must be between 0 and 1.');","  return;","}","","const gamepad = gamepads[playerId];","","//we need keep this condition because when use have not yet plug the controller we can't get the controller in the gamepad variable.","if (gamepad == null) return;","","if (originalDuration - elapsedTime <= 0) return;","","if (gamepad && gamepad.vibrationActuator) {","  gamepad.vibrationActuator.playEffect(\"dual-rumble\", {","    startDelay: 0,","    duration: 1000 * (originalDuration - elapsedTime),","    weakMagnitude: weakRumbleMagnitude,","    strongMagnitude: strongRumbleMagnitude","  });","}","","gdjs._extensionController.players[playerId].rumble.weakMagnitude = weakRumbleMagnitude;","gdjs._extensionController.players[playerId].rumble.strongMagnitude = strongRumbleMagnitude;"],"parameterObjects":"","useStrict":true,"eventsSheetExpanded":true}],"parameters":[{"description":"The gamepad identifier: 1, 2, 3 or 4","name":"Player_ID","type":"expression"},{"description":"Strong rumble magnitude (from 0 to 1)","name":"StrongMagnitude","type":"expression"},{"description":"Weak rumble magnitude (from 0 to 1)","name":"WeakMagnitude","type":"expression"}],"objectGroups":[]},{"fullName":"","functionType":"Action","name":"onFirstSceneLoaded","sentence":"","events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[],"actions":[]},{"type":"BuiltinCommonInstructions::JsCode","inlineCode":["//Define an new private object javascript for the gamepad extension\r","gdjs._extensionController = {\r","    players: {\r","        0: { mapping: 'DEFAULT', lastButtonUsed: -1, deadzone: 0.2, previousFrameStateButtons: {}, rumble: {} },\r","        1: { mapping: 'DEFAULT', lastButtonUsed: -1, deadzone: 0.2, previousFrameStateButtons: {}, rumble: {} },\r","        2: { mapping: 'DEFAULT', lastButtonUsed: -1, deadzone: 0.2, previousFrameStateButtons: {}, rumble: {} },\r","        3: { mapping: 'DEFAULT', lastButtonUsed: -1, deadzone: 0.2, previousFrameStateButtons: {}, rumble: {} },\r","    },\r","    lastActiveController: -1, // Last active controller\r","    controllerButtonNames: { //Map associating controller button ids to button names\r","        \"XBOX\": {\r","            0: \"A\",\r","            1: \"B\",\r","            2: \"X\",\r","            3: \"Y\",\r","            4: \"LB\",\r","            5: \"RB\",\r","            6: \"LT\",\r","            7: \"RT\",\r","            8: \"BACK\",\r","            9: \"START\",\r","            10: \"CLICK_STICK_LEFT\",\r","            11: \"CLICK_STICK_RIGHT\",\r","            12: \"UP\",\r","            13: \"DOWN\",\r","            14: \"LEFT\",\r","            15: \"RIGHT\",\r","            16: \"NONE\",\r","            17: \"NONE\"\r","        },\r","        \"PS4\": {\r","            0: \"CROSS\",\r","            1: \"CIRCLE\",\r","            2: \"SQUARE\",\r","            3: \"TRIANGLE\",\r","            4: \"L1\",\r","            5: \"R1\",\r","            6: \"L2\",\r","            7: \"R2\",\r","            8: \"SHARE\",\r","            9: \"OPTIONS\",\r","            10: \"CLICK_STICK_LEFT\",\r","            11: \"CLICK_STICK_RIGHT\",\r","            12: \"UP\",\r","            13: \"DOWN\",\r","            14: \"LEFT\",\r","            15: \"RIGHT\",\r","            16: \"PS_BUTTON\",\r","            17: \"CLICK_TOUCHPAD\"\r","        }\r","    }\r","};\r","\r","gdjs._extensionController.getInputString = function (type, buttonId) {\r","    const controllerButtonNames = gdjs._extensionController.controllerButtonNames;\r","    if (controllerButtonNames[type] !== undefined) {\r","        return controllerButtonNames[type][buttonId];\r","    }\r","\r","    return \"UNKNOWN_BUTTON\";\r","}\r","\r","gdjs._extensionController.axisToAngle = function (deltaX, deltaY) {\r","    const rad = Math.atan2(deltaY, deltaX);\r","    const deg = rad * (180 / Math.PI);\r","    return deg;\r","}\r","\r","gdjs._extensionController.isXbox = function (gamepad) {\r","    return (gamepad ? (\r","        gamepad.id.toUpperCase().indexOf(\"XBOX\") !== -1\r","        // \"XINPUT\" cannot be used to check if it is a xbox controller is just a generic\r","        // name reported in Firefox corresponding to the driver being used by the controller\r","        // https://gamefaqs.gamespot.com/boards/916373-pc/73341312?page=1\r","    ) : false);\r","}\r","\r","//Returns the new value taking into account the dead zone for the player_ID given\r","gdjs._extensionController.getNormalizedAxisValue = function (v, player_ID) {\r","    //    gdjs._extensionController = gdjs._extensionController || { deadzone: 0.2 };\r","\r","    // Anything smaller than this is assumed to be 0,0\r","    const DEADZONE = gdjs._extensionController.players[player_ID].deadzone;\r","\r","    if (Math.abs(v) < DEADZONE) {\r","        // In the dead zone, set to 0\r","        v = 0;\r","\r","        if (v == null) {\r","            return 0;\r","        } else {\r","            return v;\r","        }\r","\r","    } else {\r","        // We're outside the dead zone, but we'd like to smooth\r","        // this value out so it still runs nicely between 0..1.\r","        // That is, we don't want it to jump suddenly from 0 to\r","        // DEADZONE.\r","\r","        // Remap v from\r","        //    DEADZONE..1 to 0..(1-DEADZONE)\r","        // or from\r","        //    -1..-DEADZONE to -(1-DEADZONE)..0\r","\r","        v = v - Math.sign(v) * DEADZONE;\r","\r","        // Remap v from\r","        //    0..(1-DEADZONE) to 0..1\r","        // or from\r","        //    -(1-DEADZONE)..0 to -1..0\r","\r","        return v / (1 - DEADZONE);\r","    }\r","};"],"parameterObjects":"","useStrict":true,"eventsSheetExpanded":true}],"parameters":[],"objectGroups":[]},{"fullName":"","functionType":"Action","name":"onScenePostEvents","sentence":"","events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[],"actions":[]},{"type":"BuiltinCommonInstructions::JsCode","inlineCode":["//Each time a player press a button i save the last button pressed for the next frame","/** @type {Gamepad[]} */","const gamepads = navigator.getGamepads ? navigator.getGamepads() : (navigator.webkitGetGamepads ? navigator.webkitGetGamepads() : []);","","//Get function parameter","let countPlayers = Object.keys(gdjs._extensionController.players).length;","","//Repeat for each players","for (let i = 0; i < countPlayers; i++) {","    let gamepad = gamepads[i]; // Get the gamepad of the player","","    //We have to keep this condition because if the user hasn't plugged in his controller yet, we can't get the controller in the gamepad variable.","    if (gamepad == null) {","        continue;","    }","","    for (let b = 0; b < Object.keys(gamepad.buttons).length; b++) { //For each buttons","        if (gamepad.buttons[b].pressed) { //One of them is pressed","            gdjs._extensionController.players[i].lastButtonUsed = b; //Save the button pressed","","            //Save the state of the button for the next frame.","            gdjs._extensionController.players[i].previousFrameStateButtons[b] = { pressed: true };","","            // Update Last Active Controller","            gdjs._extensionController.lastActiveController = i;","        } else {","            gdjs._extensionController.players[i].previousFrameStateButtons[b] = { pressed: false };","        }","    }","","","    gdjs._extensionController.players[i].rumble.elapsedTime += runtimeScene.getElapsedTime(runtimeScene) / 1000;","    if (","        gdjs._extensionController.players[i].rumble.duration - gdjs._extensionController.players[i].rumble.elapsedTime <= 0 &&","        (gdjs._extensionController.players[i].rumble.weakMagnitude || gdjs._extensionController.players[i].rumble.strongMagnitude)","    ) {","        gdjs._extensionController.players[i].rumble.weakMagnitude = 0;","        gdjs._extensionController.players[i].rumble.strongMagnitude = 0;","    }","","","}",""],"parameterObjects":"","useStrict":true,"eventsSheetExpanded":true}],"parameters":[],"objectGroups":[]},{"description":"Check if any button is released on a gamepad.","fullName":"Any gamepad button released","functionType":"Condition","name":"C_any_button_released","sentence":"Any button of gamepad _PARAM1_ is released","events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[],"actions":[]},{"type":"BuiltinCommonInstructions::JsCode","inlineCode":["/** @type {Gamepad[]} */\r","const gamepads = navigator.getGamepads ? navigator.getGamepads() : (navigator.webkitGetGamepads ? navigator.webkitGetGamepads() : []);\r","\r","//Get function parameters\r","const playerId = eventsFunctionContext.getArgument(\"player_ID\") - 1;\r","\r","if (playerId < 0 || playerId > 4) {\r","\tconsole.error('Parameter gamepad identifier in condition: \"Any gamepad button released\", is not valid number, must be between 0 and 4.');\r","\treturn;\r","}\r","\r","const gamepad = gamepads[playerId];\r","\r","//we need keep this condition because when use have not yet plug her controller we can't get the controller in the gamepad variable.\r","if (gamepad == null) return;\r","\r","for (let buttonId = 0; buttonId < gamepad.buttons.length; buttonId++) { //For each buttons on current frame.\r","\r","\tif (buttonId === undefined) {\r","\t\teventsFunctionContext.returnValue = false;\r","\t\treturn;\r","\t}\r","\r","\t//Get previous value or define value by default for the current button\r","\tgdjs._extensionController.players[playerId].previousFrameStateButtons[buttonId] = gdjs._extensionController.players[playerId].previousFrameStateButtons[buttonId] || { pressed: false };\r","\r","\t//Get state of the button at previous frame\r","\tconst previousStateButtonIsPressed = gdjs._extensionController.players[playerId].previousFrameStateButtons[buttonId].pressed;\r","\r","\t//Get the state of the button on the current frame.\r","\tconst currentFrameStateButtonIsPressed = gamepad.buttons[buttonId].pressed;\r","\r","\t//When previousStateButtonIsPressed is true and actual button state is not pressed\r","\t//Player have release the button\r","\tif (previousStateButtonIsPressed === true && currentFrameStateButtonIsPressed === false) {\r","\t\tgdjs._extensionController.players[playerId].previousFrameStateButtons[buttonId].pressed = true;\r","\t\teventsFunctionContext.returnValue = true;\r","\t\t//break;\r","\t\treturn;\r","\t} else {\r","\t\t//The player didn't released the button yet, the previous frame state is still true\r","\t\tgdjs._extensionController.players[playerId].previousFrameStateButtons[buttonId].pressed = false;\r","\t\teventsFunctionContext.returnValue = false;\r","\t}\r","\r","\tif (currentFrameStateButtonIsPressed) gdjs._extensionController.players[playerId].lastButtonUsed = buttonId;\r","}\r",""],"parameterObjects":"","useStrict":true,"eventsSheetExpanded":true}],"parameters":[{"description":"The gamepad identifier: 1, 2, 3 or 4","name":"player_ID","type":"expression"}],"objectGroups":[]},{"description":"Return the strength of the weak vibration motor on the gamepad of a player.","fullName":"Weak rumble magnitude","functionType":"Expression","name":"WeakVibrationMagnitude","sentence":"","events":[{"type":"BuiltinCommonInstructions::JsCode","inlineCode":["const playerId = eventsFunctionContext.getArgument(\"Player_ID\") - 1;\r","eventsFunctionContext.returnValue = gdjs._extensionController.players[playerId].rumble.weakMagnitude;"],"parameterObjects":"","useStrict":true,"eventsSheetExpanded":false}],"expressionType":{"type":"expression"},"parameters":[{"description":"The gamepad identifier: 1, 2, 3 or 4","name":"Player_ID","type":"expression"}],"objectGroups":[]},{"description":"Return the strength of the strong vibration motor on the gamepad of a player.","fullName":"Strong rumble magnitude","functionType":"Expression","name":"StrongVibrationMagnitude","sentence":"","events":[{"type":"BuiltinCommonInstructions::JsCode","inlineCode":["const playerId = eventsFunctionContext.getArgument(\"Player_ID\") - 1;\r","eventsFunctionContext.returnValue = gdjs._extensionController.players[playerId].rumble.strongMagnitude;"],"parameterObjects":"","useStrict":true,"eventsSheetExpanded":false}],"expressionType":{"type":"expression"},"parameters":[{"description":"The gamepad identifier: 1, 2, 3 or 4","name":"Player_ID","type":"expression"}],"objectGroups":[]}],"eventsBasedBehaviors":[{"description":"Control a platformer character with a gamepad.","fullName":"Platformer gamepad mapper","name":"PlatformerGamepadMapper","objectType":"","eventsFunctions":[{"fullName":"","functionType":"Action","name":"doStepPreEvents","sentence":"","events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"Gamepads::C_Controller_X_is_connected"},"parameters":["","Object.Behavior::PropertyGamepadIdentifier()",""]}],"actions":[],"events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"Gamepads::PlatformerGamepadMapper::PropertyUseArrows"},"parameters":["Object","Behavior"]}],"actions":[],"events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"Gamepads::C_Button_pressed"},"parameters":["","Object.Behavior::PropertyGamepadIdentifier()","\"Left\"","\"Left\""]}],"actions":[{"type":{"value":"PlatformBehavior::SimulateLeftKey"},"parameters":["Object","PlatformerCharacter"]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"Gamepads::C_Button_pressed"},"parameters":["","Object.Behavior::PropertyGamepadIdentifier()","\"Right\"","\"Left\""]}],"actions":[{"type":{"value":"PlatformBehavior::SimulateRightKey"},"parameters":["Object","PlatformerCharacter"]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"Gamepads::C_Button_pressed"},"parameters":["","Object.Behavior::PropertyGamepadIdentifier()","\"Up\"","\"Left\""]}],"actions":[{"type":{"value":"PlatformBehavior::SimulateUpKey"},"parameters":["Object","PlatformerCharacter"]},{"type":{"value":"PlatformBehavior::SimulateLadderKey"},"parameters":["Object","PlatformerCharacter"]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"Gamepads::C_Button_pressed"},"parameters":["","Object.Behavior::PropertyGamepadIdentifier()","\"Down\"","\"Left\""]}],"actions":[{"type":{"value":"PlatformBehavior::SimulateDownKey"},"parameters":["Object","PlatformerCharacter"]}]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"Gamepads::PlatformerGamepadMapper::PropertyUseLeftStick"},"parameters":["Object","Behavior"]}],"actions":[],"events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"Gamepads::C_Axis_pushed"},"parameters":["","Object.Behavior::PropertyGamepadIdentifier()","\"Left\"","\"Left\"",""]}],"actions":[{"type":{"value":"PlatformBehavior::SimulateLeftKey"},"parameters":["Object","PlatformerCharacter"]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"Gamepads::C_Axis_pushed"},"parameters":["","Object.Behavior::PropertyGamepadIdentifier()","\"Left\"","\"Right\"",""]}],"actions":[{"type":{"value":"PlatformBehavior::SimulateRightKey"},"parameters":["Object","PlatformerCharacter"]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"Gamepads::C_Axis_pushed"},"parameters":["","Object.Behavior::PropertyGamepadIdentifier()","\"Left\"","\"Up\"",""]}],"actions":[{"type":{"value":"PlatformBehavior::SimulateUpKey"},"parameters":["Object","PlatformerCharacter"]},{"type":{"value":"PlatformBehavior::SimulateLadderKey"},"parameters":["Object","PlatformerCharacter"]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"Gamepads::C_Axis_pushed"},"parameters":["","Object.Behavior::PropertyGamepadIdentifier()","\"Left\"","\"Down\"",""]}],"actions":[{"type":{"value":"PlatformBehavior::SimulateDownKey"},"parameters":["Object","PlatformerCharacter"]}]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"Gamepads::PlatformerGamepadMapper::PropertyUseRightStick"},"parameters":["Object","Behavior"]}],"actions":[],"events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"Gamepads::C_Axis_pushed"},"parameters":["","Object.Behavior::PropertyGamepadIdentifier()","\"Right\"","\"Left\"",""]}],"actions":[{"type":{"value":"PlatformBehavior::SimulateLeftKey"},"parameters":["Object","PlatformerCharacter"]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"Gamepads::C_Axis_pushed"},"parameters":["","Object.Behavior::PropertyGamepadIdentifier()","\"Right\"","\"Right\"",""]}],"actions":[{"type":{"value":"PlatformBehavior::SimulateRightKey"},"parameters":["Object","PlatformerCharacter"]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"Gamepads::C_Axis_pushed"},"parameters":["","Object.Behavior::PropertyGamepadIdentifier()","\"Right\"","\"Up\"",""]}],"actions":[{"type":{"value":"PlatformBehavior::SimulateUpKey"},"parameters":["Object","PlatformerCharacter"]},{"type":{"value":"PlatformBehavior::SimulateLadderKey"},"parameters":["Object","PlatformerCharacter"]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"Gamepads::C_Axis_pushed"},"parameters":["","Object.Behavior::PropertyGamepadIdentifier()","\"Right\"","\"Down\"",""]}],"actions":[{"type":{"value":"PlatformBehavior::SimulateDownKey"},"parameters":["Object","PlatformerCharacter"]}]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"Gamepads::PlatformerGamepadMapper::PropertyJumpButton"},"parameters":["Object","Behavior","=","\"A or Cross\""]},{"type":{"value":"Gamepads::C_Button_pressed"},"parameters":["","Object.Behavior::PropertyGamepadIdentifier()","\"A\"","\"Left\""]}],"actions":[{"type":{"value":"PlatformBehavior::SimulateJumpKey"},"parameters":["Object","PlatformerCharacter"]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"Gamepads::PlatformerGamepadMapper::PropertyJumpButton"},"parameters":["Object","Behavior","=","\"B or Circle\""]},{"type":{"value":"Gamepads::C_Button_pressed"},"parameters":["","Object.Behavior::PropertyGamepadIdentifier()","\"B\"","\"Left\""]}],"actions":[{"type":{"value":"PlatformBehavior::SimulateJumpKey"},"parameters":["Object","PlatformerCharacter"]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"Gamepads::PlatformerGamepadMapper::PropertyJumpButton"},"parameters":["Object","Behavior","=","\"X or Square\""]},{"type":{"value":"Gamepads::C_Button_pressed"},"parameters":["","Object.Behavior::PropertyGamepadIdentifier()","\"X\"","\"Left\""]}],"actions":[{"type":{"value":"PlatformBehavior::SimulateJumpKey"},"parameters":["Object","PlatformerCharacter"]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"Gamepads::PlatformerGamepadMapper::PropertyJumpButton"},"parameters":["Object","Behavior","=","\"Y or Triangle\""]},{"type":{"value":"Gamepads::C_Button_pressed"},"parameters":["","Object.Behavior::PropertyGamepadIdentifier()","\"Y\"","\"Left\""]}],"actions":[{"type":{"value":"PlatformBehavior::SimulateJumpKey"},"parameters":["Object","PlatformerCharacter"]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"Gamepads::PlatformerGamepadMapper::PropertyJumpButton"},"parameters":["Object","Behavior","=","\"LB or L1\""]},{"type":{"value":"Gamepads::C_Button_pressed"},"parameters":["","Object.Behavior::PropertyGamepadIdentifier()","\"LB\"","\"Left\""]}],"actions":[{"type":{"value":"PlatformBehavior::SimulateJumpKey"},"parameters":["Object","PlatformerCharacter"]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"Gamepads::PlatformerGamepadMapper::PropertyJumpButton"},"parameters":["Object","Behavior","=","\"RB or R1\""]},{"type":{"value":"Gamepads::C_Button_pressed"},"parameters":["","Object.Behavior::PropertyGamepadIdentifier()","\"RB\"","\"Left\""]}],"actions":[{"type":{"value":"PlatformBehavior::SimulateJumpKey"},"parameters":["Object","PlatformerCharacter"]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"Gamepads::PlatformerGamepadMapper::PropertyJumpButton"},"parameters":["Object","Behavior","=","\"LT or L2\""]},{"type":{"value":"Gamepads::C_Button_pressed"},"parameters":["","Object.Behavior::PropertyGamepadIdentifier()","\"LT\"","\"Left\""]}],"actions":[{"type":{"value":"PlatformBehavior::SimulateJumpKey"},"parameters":["Object","PlatformerCharacter"]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"Gamepads::PlatformerGamepadMapper::PropertyJumpButton"},"parameters":["Object","Behavior","=","\"RT or R2\""]},{"type":{"value":"Gamepads::C_Button_pressed"},"parameters":["","Object.Behavior::PropertyGamepadIdentifier()","\"RT\"","\"Left\""]}],"actions":[{"type":{"value":"PlatformBehavior::SimulateJumpKey"},"parameters":["Object","PlatformerCharacter"]}]}]}],"parameters":[{"description":"Object","name":"Object","type":"object"},{"description":"Behavior","name":"Behavior","supplementaryInformation":"Gamepads::PlatformerGamepadMapper","type":"behavior"}],"objectGroups":[]}],"propertyDescriptors":[{"value":"","type":"Behavior","label":"Platformer character behavior","description":"","group":"","extraInformation":["PlatformBehavior::PlatformerObjectBehavior"],"name":"PlatformerCharacter"},{"value":"1","type":"Number","label":"Gamepad identifier (1, 2, 3 or 4)","description":"","group":"","extraInformation":[],"name":"GamepadIdentifier"},{"value":"true","type":"Boolean","label":"Use directional pad","description":"","group":"Controls","extraInformation":[],"name":"UseArrows"},{"value":"true","type":"Boolean","label":"Use left stick","description":"","group":"Controls","extraInformation":[],"name":"UseLeftStick"},{"value":"","type":"Boolean","label":"Use right stick","description":"","group":"Controls","extraInformation":[],"name":"UseRightStick"},{"value":"A or Cross","type":"Choice","label":"Jump button","description":"","group":"Controls","extraInformation":["A or Cross","B or Circle","X or Square","Y or Triangle","LB or L1","RB or R1","LT or L2","RT or R2"],"name":"JumpButton"}],"sharedPropertyDescriptors":[]},{"description":"Control a top-down character with a gamepad.","fullName":"Top-down gamepad mapper","name":"TopDownGamepadMapper","objectType":"","eventsFunctions":[{"fullName":"","functionType":"Action","name":"doStepPreEvents","sentence":"","events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"Gamepads::C_Controller_X_is_connected"},"parameters":["","Object.Behavior::PropertyGamepadIdentifier()",""]}],"actions":[],"events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"Gamepads::PlatformerGamepadMapper::PropertyUseArrows"},"parameters":["Object","Behavior"]}],"actions":[],"events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"Gamepads::C_Button_pressed"},"parameters":["","Object.Behavior::PropertyGamepadIdentifier()","\"Left\"","\"Left\""]}],"actions":[{"type":{"value":"TopDownMovementBehavior::SimulateLeftKey"},"parameters":["Object","TopDownMovement"]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"Gamepads::C_Button_pressed"},"parameters":["","Object.Behavior::PropertyGamepadIdentifier()","\"Right\"","\"Left\""]}],"actions":[{"type":{"value":"TopDownMovementBehavior::SimulateRightKey"},"parameters":["Object","TopDownMovement"]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"Gamepads::C_Button_pressed"},"parameters":["","Object.Behavior::PropertyGamepadIdentifier()","\"Up\"","\"Left\""]}],"actions":[{"type":{"value":"TopDownMovementBehavior::SimulateUpKey"},"parameters":["Object","TopDownMovement"]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"Gamepads::C_Button_pressed"},"parameters":["","Object.Behavior::PropertyGamepadIdentifier()","\"Down\"","\"Left\""]}],"actions":[{"type":{"value":"TopDownMovementBehavior::SimulateDownKey"},"parameters":["Object","TopDownMovement"]}]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"Gamepads::PlatformerGamepadMapper::PropertyUseLeftStick"},"parameters":["Object","Behavior"]}],"actions":[],"events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"Gamepads::TopDownGamepadMapper::PropertyStickMode"},"parameters":["Object","Behavior","=","\"Analog\""]}],"actions":[{"type":{"value":"TopDownMovementBehavior::SimulateStick"},"parameters":["Object","TopDownMovement","Gamepads::StickRotationValue(Object.Behavior::PropertyGamepadIdentifier(), \"Left\")","Gamepads::StickForce(Object.Behavior::PropertyGamepadIdentifier(), \"Left\")"]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"Gamepads::TopDownGamepadMapper::PropertyStickMode"},"parameters":["Object","Behavior","=","\"360\""]}],"actions":[{"type":{"value":"TopDownMovementBehavior::SimulateStick"},"parameters":["Object","TopDownMovement","Gamepads::StickRotationValue(Object.Behavior::PropertyGamepadIdentifier(), \"Left\")","sign(Gamepads::StickForce(Object.Behavior::PropertyGamepadIdentifier(), \"Left\"))"]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"Gamepads::TopDownGamepadMapper::PropertyStickMode"},"parameters":["Object","Behavior","=","\"8 Directions\""]}],"actions":[],"events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"Gamepads::C_Axis_pushed"},"parameters":["","Object.Behavior::PropertyGamepadIdentifier()","\"Left\"","\"Left\"",""]}],"actions":[{"type":{"value":"TopDownMovementBehavior::SimulateLeftKey"},"parameters":["Object","TopDownMovement"]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"Gamepads::C_Axis_pushed"},"parameters":["","Object.Behavior::PropertyGamepadIdentifier()","\"Left\"","\"Right\"",""]}],"actions":[{"type":{"value":"TopDownMovementBehavior::SimulateRightKey"},"parameters":["Object","TopDownMovement"]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"Gamepads::C_Axis_pushed"},"parameters":["","Object.Behavior::PropertyGamepadIdentifier()","\"Left\"","\"Up\"",""]}],"actions":[{"type":{"value":"TopDownMovementBehavior::SimulateUpKey"},"parameters":["Object","TopDownMovement"]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"Gamepads::C_Axis_pushed"},"parameters":["","Object.Behavior::PropertyGamepadIdentifier()","\"Left\"","\"Down\"",""]}],"actions":[{"type":{"value":"TopDownMovementBehavior::SimulateDownKey"},"parameters":["Object","TopDownMovement"]}]}]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"Gamepads::PlatformerGamepadMapper::PropertyUseRightStick"},"parameters":["Object","Behavior"]}],"actions":[],"events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"Gamepads::TopDownGamepadMapper::PropertyStickMode"},"parameters":["Object","Behavior","=","\"Analog\""]}],"actions":[{"type":{"value":"TopDownMovementBehavior::SimulateStick"},"parameters":["Object","TopDownMovement","Gamepads::StickRotationValue(Object.Behavior::PropertyGamepadIdentifier(), \"Right\")","Gamepads::StickForce(Object.Behavior::PropertyGamepadIdentifier(), \"Right\")"]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"Gamepads::TopDownGamepadMapper::PropertyStickMode"},"parameters":["Object","Behavior","=","\"360\""]}],"actions":[{"type":{"value":"TopDownMovementBehavior::SimulateStick"},"parameters":["Object","TopDownMovement","sign(Gamepads::StickForce(Object.Behavior::PropertyGamepadIdentifier(), \"Right\"))","1"]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"Gamepads::TopDownGamepadMapper::PropertyStickMode"},"parameters":["Object","Behavior","=","\"8 Directions\""]}],"actions":[],"events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"Gamepads::C_Axis_pushed"},"parameters":["","Object.Behavior::PropertyGamepadIdentifier()","\"Right\"","\"Left\"",""]}],"actions":[{"type":{"value":"TopDownMovementBehavior::SimulateLeftKey"},"parameters":["Object","TopDownMovement"]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"Gamepads::C_Axis_pushed"},"parameters":["","Object.Behavior::PropertyGamepadIdentifier()","\"Right\"","\"Right\"",""]}],"actions":[{"type":{"value":"TopDownMovementBehavior::SimulateRightKey"},"parameters":["Object","TopDownMovement"]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"Gamepads::C_Axis_pushed"},"parameters":["","Object.Behavior::PropertyGamepadIdentifier()","\"Right\"","\"Up\"",""]}],"actions":[{"type":{"value":"TopDownMovementBehavior::SimulateUpKey"},"parameters":["Object","TopDownMovement"]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"Gamepads::C_Axis_pushed"},"parameters":["","Object.Behavior::PropertyGamepadIdentifier()","\"Right\"","\"Down\"",""]}],"actions":[{"type":{"value":"TopDownMovementBehavior::SimulateDownKey"},"parameters":["Object","TopDownMovement"]}]}]}]}]}],"parameters":[{"description":"Object","name":"Object","type":"object"},{"description":"Behavior","name":"Behavior","supplementaryInformation":"Gamepads::TopDownGamepadMapper","type":"behavior"}],"objectGroups":[]}],"propertyDescriptors":[{"value":"","type":"Behavior","label":"Top-down movement behavior","description":"","group":"","extraInformation":["TopDownMovementBehavior::TopDownMovementBehavior"],"name":"TopDownMovement"},{"value":"1","type":"Number","label":"Gamepad identifier (1, 2, 3 or 4)","description":"","group":"","extraInformation":[],"name":"GamepadIdentifier"},{"value":"true","type":"Boolean","label":"Use directional pad","description":"","group":"Controls","extraInformation":[],"name":"UseArrows"},{"value":"true","type":"Boolean","label":"Use left stick","description":"","group":"Controls","extraInformation":[],"name":"UseLeftStick"},{"value":"","type":"Boolean","label":"Use right stick","description":"","group":"Controls","extraInformation":[],"name":"UseRightStick"},{"value":"Analog","type":"Choice","label":"Stick mode","description":"","group":"Controls","extraInformation":["Analog","360","8 Directions"],"name":"StickMode"}],"sharedPropertyDescriptors":[]}],"eventsBasedObjects":[]},{"author":"","category":"Input","extensionNamespace":"","fullName":"Multitouch joystick and buttons (sprite)","helpPath":"/objects/multitouch-joystick","iconUrl":"data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0idXRmLTgiPz4NCjwhLS0gR2VuZXJhdG9yOiBBZG9iZSBJbGx1c3RyYXRvciAyMy4wLjMsIFNWRyBFeHBvcnQgUGx1Zy1JbiAuIFNWRyBWZXJzaW9uOiA2LjAwIEJ1aWxkIDApICAtLT4NCjxzdmcgdmVyc2lvbj0iMS4xIiBpZD0iSWNvbnMiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgeG1sbnM6eGxpbms9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiIHg9IjBweCIgeT0iMHB4Ig0KCSB2aWV3Qm94PSIwIDAgMzIgMzIiIHN0eWxlPSJlbmFibGUtYmFja2dyb3VuZDpuZXcgMCAwIDMyIDMyOyIgeG1sOnNwYWNlPSJwcmVzZXJ2ZSI+DQo8c3R5bGUgdHlwZT0idGV4dC9jc3MiPg0KCS5zdDB7ZmlsbDpub25lO3N0cm9rZTojMDAwMDAwO3N0cm9rZS13aWR0aDoyO3N0cm9rZS1saW5lY2FwOnJvdW5kO3N0cm9rZS1saW5lam9pbjpyb3VuZDtzdHJva2UtbWl0ZXJsaW1pdDoxMDt9DQo8L3N0eWxlPg0KPGNpcmNsZSBjbGFzcz0ic3QwIiBjeD0iMTYiIGN5PSIxNiIgcj0iMTMiLz4NCjxwb2x5bGluZSBjbGFzcz0ic3QwIiBwb2ludHM9IjI4LjQsMTIgMjAsMTIgMjAsMy42ICIvPg0KPHBvbHlsaW5lIGNsYXNzPSJzdDAiIHBvaW50cz0iMjAsMjguNCAyMCwyMCAyOC40LDIwICIvPg0KPHBvbHlsaW5lIGNsYXNzPSJzdDAiIHBvaW50cz0iMy42LDIwIDEyLDIwIDEyLDI4LjQgIi8+DQo8cG9seWxpbmUgY2xhc3M9InN0MCIgcG9pbnRzPSIxMiwzLjYgMTIsMTIgMy42LDEyICIvPg0KPHBvbHlnb24gY2xhc3M9InN0MCIgcG9pbnRzPSIxNiw2IDE2LjcsNyAxNS4zLDcgIi8+DQo8cG9seWdvbiBjbGFzcz0ic3QwIiBwb2ludHM9IjE2LDI2IDE1LjMsMjUgMTYuNywyNSAiLz4NCjxwb2x5Z29uIGNsYXNzPSJzdDAiIHBvaW50cz0iNiwxNiA3LDE1LjMgNywxNi43ICIvPg0KPHBvbHlnb24gY2xhc3M9InN0MCIgcG9pbnRzPSIyNiwxNiAyNSwxNi43IDI1LDE1LjMgIi8+DQo8L3N2Zz4NCg==","name":"SpriteMultitouchJoystick","previewIconUrl":"https://resources.gdevelop-app.com/assets/Icons/Line Hero Pack/Master/SVG/Videogames/Videogames_controller_joystick_arrows_direction.svg","shortDescription":"Joysticks or buttons for touchscreens.","version":"1.3.0","description":["Multitouch joysticks can be used the same way as physical gamepads:","- 4 or 8 directions","- Analogus pads","- Player selection","- Controls mapping for top-down movement and platformer characters","","There are ready-to-use joysticks in the asset-store [multitouch joysticks pack](https://editor.gdevelop.io/?initial-dialog=asset-store&asset-pack=multitouch-joysticks-multitouch-joysticks)."],"origin":{"identifier":"SpriteMultitouchJoystick","name":"gdevelop-extension-store"},"tags":["multitouch","joystick","thumbstick","controller","touchscreen","twin stick","shooter","virtual","platformer","platform","top-down"],"authorIds":["gqDaZjCfevOOxBYkK6zlhtZnXCg1","1OgYzWp5UeVPbiWGJwI6vqfgZLC3","v0YRpdAnIucZFgiRCCecqVnGKno2","IWykYNRvhCZBN3vEgKEbBPOR3Oc2"],"dependencies":[],"globalVariables":[],"sceneVariables":[],"eventsFunctions":[{"description":"Check if a button is pressed on a gamepad.","fullName":"Multitouch controller button pressed","functionType":"Condition","name":"IsButtonPressed","sentence":"Button _PARAM2_ of multitouch controller _PARAM1_ is pressed","events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"VarSceneTxt"},"parameters":["__MultitouchJoystick.Controllers[GetArgumentAsNumber(\"ControllerIdentifier\")].Buttons[GetArgumentAsString(\"Button\")].State","=","\"Pressed\""]}],"actions":[{"type":{"value":"SetReturnBoolean"},"parameters":["True"]}]}],"parameters":[{"description":"Multitouch controller identifier (1, 2, 3, 4...)","name":"ControllerIdentifier","type":"expression"},{"description":"Button name","name":"Button","supplementaryInformation":"[\"A\",\"CROSS\",\"B\",\"CIRCLE\",\"X\",\"SQUARE\",\"Y\",\"TRIANGLE\",\"LB\",\"L1\",\"RB\",\"R1\",\"LT\",\"L2\",\"RT\",\"R2\",\"UP\",\"DOWN\",\"LEFT\",\"RIGHT\",\"BACK\",\"SHARE\",\"START\",\"OPTIONS\",\"CLICK_STICK_LEFT\",\"CLICK_STICK_RIGHT\",\"PS_BUTTON\",\"CLICK_TOUCHPAD\"]","type":"string"}],"objectGroups":[]},{"description":"Check if a button is released on a gamepad.","fullName":"Multitouch controller button released","functionType":"Condition","name":"IsButtonReleased","sentence":"Button _PARAM2_ of multitouch controller _PARAM1_ is released","events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"VarSceneTxt"},"parameters":["__MultitouchJoystick.Controllers[GetArgumentAsNumber(\"ControllerIdentifier\")].Buttons[GetArgumentAsString(\"Button\")].State","=","\"Released\""]}],"actions":[{"type":{"value":"SetReturnBoolean"},"parameters":["True"]}]}],"parameters":[{"description":"Multitouch controller identifier (1, 2, 3, 4...)","name":"ControllerIdentifier","type":"expression"},{"description":"Button name","name":"Button","supplementaryInformation":"[\"A\",\"CROSS\",\"B\",\"CIRCLE\",\"X\",\"SQUARE\",\"Y\",\"TRIANGLE\",\"LB\",\"L1\",\"RB\",\"R1\",\"LT\",\"L2\",\"RT\",\"R2\",\"UP\",\"DOWN\",\"LEFT\",\"RIGHT\",\"BACK\",\"SHARE\",\"START\",\"OPTIONS\",\"CLICK_STICK_LEFT\",\"CLICK_STICK_RIGHT\",\"PS_BUTTON\",\"CLICK_TOUCHPAD\"]","type":"string"}],"objectGroups":[]},{"description":"Change a button state for a multitouch controller.","fullName":"Button state","functionType":"Action","name":"SetButtonState","private":true,"sentence":"Mark _PARAM2_ button as _PARAM3_ for multitouch controller _PARAM1_","events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[],"actions":[{"type":{"value":"ModVarSceneTxt"},"parameters":["__MultitouchJoystick.Controllers[ControllerIdentifier].Buttons[Button].State","=","ButtonState"]}]}],"parameters":[{"description":"Multitouch controller identifier (1, 2, 3, 4...)","name":"ControllerIdentifier","type":"expression"},{"description":"Button name","name":"Button","type":"string"},{"description":"Button state","name":"ButtonState","supplementaryInformation":"[\"Idle\",\"Pressed\",\"Released\"]","type":"stringWithSelector"}],"objectGroups":[]},{"description":"Change the dead zone radius of a joystick. The deadzone is an area for which movement on sticks won't be taken into account (instead, the stick will be considered as not moved).","fullName":"Dead zone radius","functionType":"Action","name":"SetDeadZone","private":true,"sentence":"Change the dead zone of multitouch joystick _PARAM2_ of multitouch controller _PARAM1_ to _PARAM3_","events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[],"actions":[{"type":{"value":"ModVarScene"},"parameters":["__MultitouchJoystick.Controllers[ControllerIdentifier].Joystick[JoystickIdentifier].DeadZone","=","DeadZoneRadius"]}]}],"parameters":[{"description":"Multitouch controller identifier (1, 2, 3, 4...)","name":"ControllerIdentifier","type":"expression"},{"description":"Joystick name","name":"JoystickIdentifier","type":"string"},{"description":"Dead zone radius","name":"DeadZoneRadius","supplementaryInformation":"[]","type":"expression"}],"objectGroups":[]},{"description":"Return the dead zone radius of a joystick. The deadzone is an area for which movement on sticks won't be taken into account (instead, the stick will be considered as not moved).","fullName":"Dead zone radius","functionType":"Expression","name":"DeadZone","private":true,"sentence":"Change multitouch joystick _PARAM2_ of multitouch controller _PARAM1_ dead zone to _PARAM3_","events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[],"actions":[{"type":{"value":"SetReturnNumber"},"parameters":["Variable(__MultitouchJoystick.Controllers[ControllerIdentifier].Joystick[JoystickIdentifier].DeadZone)"]}]}],"expressionType":{"type":"expression"},"parameters":[{"description":"Multitouch controller identifier (1, 2, 3, 4...)","name":"ControllerIdentifier","type":"expression"},{"description":"Joystick name","name":"JoystickIdentifier","type":"string"}],"objectGroups":[]},{"description":"the direction index (left = 1, bottom = 1, right = 2, top = 3) for an angle (in degrees).","fullName":"Angle to 4-way index","functionType":"ExpressionAndCondition","name":"AngleTo4Way","private":true,"sentence":"The angle _PARAM1_ 4-way index","events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[],"actions":[{"type":{"value":"SetReturnNumber"},"parameters":["mod(round(GetArgumentAsNumber(\"Angle\") * 4 / 360), 4)"]}]}],"expressionType":{"type":"expression"},"parameters":[{"description":"Angle","name":"Angle","type":"expression"}],"objectGroups":[]},{"description":"the direction index (left = 1, bottom-left = 1... top-left = 7) for an angle (in degrees).","fullName":"Angle to 8-way index","functionType":"ExpressionAndCondition","name":"AngleTo8Way","private":true,"sentence":"The angle _PARAM1_ 8-way index","events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[],"actions":[{"type":{"value":"SetReturnNumber"},"parameters":["mod(round(GetArgumentAsNumber(\"Angle\") * 8 / 360), 8)"]}]}],"expressionType":{"type":"expression"},"parameters":[{"description":"Angle","name":"Angle","type":"expression"}],"objectGroups":[]},{"description":"Check if angle is in a given direction.","fullName":"Angle 4-way direction","functionType":"Condition","name":"IsAngleIn4WayDirection","private":true,"sentence":"The angle _PARAM1_ is the 4-way direction _PARAM2_","events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"BuiltinCommonInstructions::CompareStrings"},"parameters":["GetArgumentAsString(\"Direction\")","=","\"Right\""]},{"type":{"value":"SpriteMultitouchJoystick::AngleTo4Way"},"parameters":["","=","0","GetArgumentAsNumber(\"Angle\")",""]}],"actions":[{"type":{"value":"SetReturnBoolean"},"parameters":["True"]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"BuiltinCommonInstructions::CompareStrings"},"parameters":["GetArgumentAsString(\"Direction\")","=","\"Down\""]},{"type":{"value":"SpriteMultitouchJoystick::AngleTo4Way"},"parameters":["","=","1","GetArgumentAsNumber(\"Angle\")",""]}],"actions":[{"type":{"value":"SetReturnBoolean"},"parameters":["True"]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"BuiltinCommonInstructions::CompareStrings"},"parameters":["GetArgumentAsString(\"Direction\")","=","\"Left\""]},{"type":{"value":"SpriteMultitouchJoystick::AngleTo4Way"},"parameters":["","=","2","GetArgumentAsNumber(\"Angle\")",""]}],"actions":[{"type":{"value":"SetReturnBoolean"},"parameters":["True"]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"BuiltinCommonInstructions::CompareStrings"},"parameters":["GetArgumentAsString(\"Direction\")","=","\"Up\""]},{"type":{"value":"SpriteMultitouchJoystick::AngleTo4Way"},"parameters":["","=","3","GetArgumentAsNumber(\"Angle\")",""]}],"actions":[{"type":{"value":"SetReturnBoolean"},"parameters":["True"]}]}],"parameters":[{"description":"Angle","name":"Angle","type":"expression"},{"description":"Direction","name":"Direction","supplementaryInformation":"[\"Up\",\"Down\",\"Left\",\"Right\"]","type":"stringWithSelector"}],"objectGroups":[]},{"description":"Check if angle is in a given direction.","fullName":"Angle 8-way direction","functionType":"Condition","name":"IsAngleIn8WayDirection","private":true,"sentence":"The angle _PARAM1_ is the 8-way direction _PARAM2_","events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"BuiltinCommonInstructions::CompareStrings"},"parameters":["GetArgumentAsString(\"Direction\")","=","\"Right\""]},{"type":{"value":"SpriteMultitouchJoystick::AngleTo8Way"},"parameters":["","=","0","GetArgumentAsNumber(\"Angle\")",""]}],"actions":[{"type":{"value":"SetReturnBoolean"},"parameters":["True"]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"BuiltinCommonInstructions::CompareStrings"},"parameters":["GetArgumentAsString(\"Direction\")","=","\"DownRight\""]},{"type":{"value":"SpriteMultitouchJoystick::AngleTo8Way"},"parameters":["","=","1","GetArgumentAsNumber(\"Angle\")",""]}],"actions":[{"type":{"value":"SetReturnBoolean"},"parameters":["True"]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"BuiltinCommonInstructions::CompareStrings"},"parameters":["GetArgumentAsString(\"Direction\")","=","\"Down\""]},{"type":{"value":"SpriteMultitouchJoystick::AngleTo8Way"},"parameters":["","=","2","GetArgumentAsNumber(\"Angle\")",""]}],"actions":[{"type":{"value":"SetReturnBoolean"},"parameters":["True"]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"BuiltinCommonInstructions::CompareStrings"},"parameters":["GetArgumentAsString(\"Direction\")","=","\"DownLeft\""]},{"type":{"value":"SpriteMultitouchJoystick::AngleTo8Way"},"parameters":["","=","3","GetArgumentAsNumber(\"Angle\")",""]}],"actions":[{"type":{"value":"SetReturnBoolean"},"parameters":["True"]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"BuiltinCommonInstructions::CompareStrings"},"parameters":["GetArgumentAsString(\"Direction\")","=","\"Left\""]},{"type":{"value":"SpriteMultitouchJoystick::AngleTo8Way"},"parameters":["","=","4","GetArgumentAsNumber(\"Angle\")",""]}],"actions":[{"type":{"value":"SetReturnBoolean"},"parameters":["True"]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"BuiltinCommonInstructions::CompareStrings"},"parameters":["GetArgumentAsString(\"Direction\")","=","\"UpLeft\""]},{"type":{"value":"SpriteMultitouchJoystick::AngleTo8Way"},"parameters":["","=","5","GetArgumentAsNumber(\"Angle\")",""]}],"actions":[{"type":{"value":"SetReturnBoolean"},"parameters":["True"]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"BuiltinCommonInstructions::CompareStrings"},"parameters":["GetArgumentAsString(\"Direction\")","=","\"Up\""]},{"type":{"value":"SpriteMultitouchJoystick::AngleTo8Way"},"parameters":["","=","6","GetArgumentAsNumber(\"Angle\")",""]}],"actions":[{"type":{"value":"SetReturnBoolean"},"parameters":["True"]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"BuiltinCommonInstructions::CompareStrings"},"parameters":["GetArgumentAsString(\"Direction\")","=","\"UpRight\""]},{"type":{"value":"SpriteMultitouchJoystick::AngleTo8Way"},"parameters":["","=","7","GetArgumentAsNumber(\"Angle\")",""]}],"actions":[{"type":{"value":"SetReturnBoolean"},"parameters":["True"]}]}],"parameters":[{"description":"Angle","name":"Angle","type":"expression"},{"description":"Direction","name":"Direction","supplementaryInformation":"[\"Up\",\"Down\",\"Left\",\"Right\",\"UpLeft\",\"UpRight\",\"DownLeft\",\"DownRight\"]","type":"stringWithSelector"}],"objectGroups":[]},{"description":"Check if joystick is pushed in a given direction.","fullName":"Joystick pushed in a direction (4-way)","functionType":"Condition","name":"IsDirectionPushed4Way","sentence":"Joystick _PARAM2_ of multitouch controller _PARAM1_ is pushed in direction _PARAM3_","events":[{"type":"BuiltinCommonInstructions::Comment","color":{"b":109,"g":230,"r":255,"textB":0,"textG":0,"textR":0},"comment":"Make sure the joystick has moved from center"},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"SpriteMultitouchJoystick::JoystickForce"},"parameters":["",">","0","ControllerIdentifier","JoystickIdentifier",""]},{"type":{"value":"SpriteMultitouchJoystick::IsAngleIn4WayDirection"},"parameters":["","SpriteMultitouchJoystick::JoystickAngle(ControllerIdentifier, JoystickIdentifier)","Direction",""]}],"actions":[{"type":{"value":"SetReturnBoolean"},"parameters":["True"]}]}],"parameters":[{"description":"Multitouch controller identifier (1, 2, 3, 4...)","name":"ControllerIdentifier","type":"expression"},{"description":"Joystick name","name":"JoystickIdentifier","supplementaryInformation":"[\"Primary\",\"Secondary\"]","type":"stringWithSelector"},{"description":"Direction","name":"Direction","supplementaryInformation":"[\"Up\",\"Down\",\"Left\",\"Right\"]","type":"stringWithSelector"}],"objectGroups":[]},{"description":"Check if joystick is pushed in a given direction.","fullName":"Joystick pushed in a direction (8-way)","functionType":"Condition","name":"IsDirectionPushed8Way","sentence":"Joystick _PARAM2_ of multitouch controller _PARAM1_ is pushed in direction _PARAM3_","events":[{"type":"BuiltinCommonInstructions::Comment","color":{"b":109,"g":230,"r":255,"textB":0,"textG":0,"textR":0},"comment":"Make sure the joystick has moved from center"},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"SpriteMultitouchJoystick::JoystickForce"},"parameters":["",">","0","ControllerIdentifier","JoystickIdentifier",""]},{"type":{"value":"SpriteMultitouchJoystick::IsAngleIn8WayDirection"},"parameters":["","SpriteMultitouchJoystick::JoystickAngle(ControllerIdentifier, JoystickIdentifier)","Direction",""]}],"actions":[{"type":{"value":"SetReturnBoolean"},"parameters":["True"]}]}],"parameters":[{"description":"Multitouch controller identifier (1, 2, 3, 4...)","name":"ControllerIdentifier","type":"expression"},{"description":"Joystick name","name":"JoystickIdentifier","supplementaryInformation":"[\"Primary\",\"Secondary\"]","type":"stringWithSelector"},{"description":"Direction","name":"Direction","supplementaryInformation":"[\"Up\",\"Down\",\"Left\",\"Right\",\"UpLeft\",\"UpRight\",\"DownLeft\",\"DownRight\"]","type":"stringWithSelector"}],"objectGroups":[]},{"description":"the percentage the thumb has been pulled away from the joystick center (Range: 0 to 1).","fullName":"Joystick force (deprecated)","functionType":"ExpressionAndCondition","name":"JoystickForce","private":true,"sentence":"Joystick _PARAM2_ of multitouch controller _PARAM1_ force","events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[],"actions":[{"type":{"value":"SetReturnNumber"},"parameters":["SpriteMultitouchJoystick::StickForce(ControllerIdentifier, JoystickIdentifier)"]}]}],"expressionType":{"type":"expression"},"parameters":[{"description":"Multitouch controller identifier (1, 2, 3, 4...)","name":"ControllerIdentifier","type":"expression"},{"description":"Joystick name","name":"JoystickIdentifier","supplementaryInformation":"[\"Primary\",\"Secondary\"]","type":"stringWithSelector"}],"objectGroups":[]},{"description":"the force of multitouch contoller stick (from 0 to 1).","fullName":"Stick force","functionType":"ExpressionAndCondition","name":"StickForce","sentence":"multitouch controller _PARAM1_ _PARAM2_ stick force","events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[],"actions":[{"type":{"value":"SetReturnNumber"},"parameters":["max(0, Variable(__MultitouchJoystick.Controllers[ControllerIdentifier].Joystick[JoystickIdentifier].Force) - SpriteMultitouchJoystick::DeadZone(ControllerIdentifier, JoystickIdentifier)) / (1 - SpriteMultitouchJoystick::DeadZone(ControllerIdentifier, JoystickIdentifier))"]}]}],"expressionType":{"type":"expression"},"parameters":[{"description":"Multitouch controller identifier (1, 2, 3, 4...)","name":"ControllerIdentifier","type":"expression"},{"description":"Stick name","name":"JoystickIdentifier","supplementaryInformation":"[\"Primary\",\"Secondary\"]","type":"stringWithSelector"}],"objectGroups":[]},{"description":"Change the percentage the thumb has been pulled away from the joystick center (Range: 0 to 1).","fullName":"Joystick force","functionType":"Action","name":"SetJoystickForce","private":true,"sentence":"Change the force of the joystick _PARAM2_ of multitouch controller _PARAM1_ to _PARAM3_","events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[],"actions":[{"type":{"value":"ModVarScene"},"parameters":["__MultitouchJoystick.Controllers[ControllerIdentifier].Joystick[JoystickIdentifier].Force","=","Value"]}]}],"parameters":[{"description":"Multitouch controller identifier (1, 2, 3, 4...)","name":"ControllerIdentifier","type":"expression"},{"description":"Joystick name","name":"JoystickIdentifier","type":"string"},{"description":"Value","name":"Value","type":"expression"}],"objectGroups":[]},{"description":"Return the angle the joystick is pointing towards (Range: -180 to 180).","fullName":"Joystick angle (deprecated)","functionType":"Expression","name":"JoystickAngle","private":true,"sentence":"","events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[],"actions":[{"type":{"value":"SetReturnNumber"},"parameters":["SpriteMultitouchJoystick::StickAngle(GetArgumentAsNumber(\"ControllerIdentifier\"), GetArgumentAsString(\"JoystickIdentifier\"))"]}]}],"expressionType":{"type":"expression"},"parameters":[{"description":"Multitouch controller identifier (1, 2, 3, 4...)","name":"ControllerIdentifier","type":"expression"},{"description":"Joystick name","name":"JoystickIdentifier","supplementaryInformation":"[\"Primary\",\"Secondary\"]","type":"stringWithSelector"}],"objectGroups":[]},{"description":"Return the angle the multitouch controller stick is pointing towards (Range: -180 to 180).","fullName":"Stick angle","functionType":"Expression","name":"StickAngle","sentence":"","events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[],"actions":[{"type":{"value":"SetReturnNumber"},"parameters":["Variable(__MultitouchJoystick.Controllers[GetArgumentAsNumber(\"ControllerIdentifier\")].Joystick[GetArgumentAsString(\"JoystickIdentifier\")].Angle)"]}]}],"expressionType":{"type":"expression"},"parameters":[{"description":"Multitouch controller identifier (1, 2, 3, 4...)","name":"ControllerIdentifier","type":"expression"},{"description":"Joystick name","name":"JoystickIdentifier","supplementaryInformation":"[\"Primary\",\"Secondary\"]","type":"stringWithSelector"}],"objectGroups":[]},{"description":"Change the angle the joystick is pointing towards (Range: -180 to 180).","fullName":"Joystick angle","functionType":"Action","name":"SetJoystickAngle","private":true,"sentence":"Change the angle of the joystick _PARAM2_ of multitouch controller _PARAM1_ to _PARAM3_","events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[],"actions":[{"type":{"value":"ModVarScene"},"parameters":["__MultitouchJoystick.Controllers[GetArgumentAsNumber(\"ControllerIdentifier\")].Joystick[GetArgumentAsString(\"JoystickIdentifier\")].Angle","=","GetArgumentAsNumber(\"Value\")"]}]}],"parameters":[{"description":"Multitouch controller identifier (1, 2, 3, 4...)","name":"ControllerIdentifier","type":"expression"},{"description":"Joystick name","name":"JoystickIdentifier","type":"string"},{"description":"Value","name":"Value","type":"expression"}],"objectGroups":[]},{"description":"Return the multitouch contoller stick force on X axis (from -1 at the left to 1 at the right).","fullName":"Stick X force","functionType":"Expression","name":"StickForceX","sentence":"","events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[],"actions":[{"type":{"value":"SetReturnNumber"},"parameters":["SpriteMultitouchJoystick::JoystickForce(ControllerIdentifier, JoystickIdentifier) * cos(ToRad(SpriteMultitouchJoystick::JoystickAngle(ControllerIdentifier, JoystickIdentifier)))"]}]}],"expressionType":{"type":"expression"},"parameters":[{"description":"Multitouch controller identifier (1, 2, 3, 4...)","name":"ControllerIdentifier","type":"expression"},{"description":"Joystick name","name":"JoystickIdentifier","supplementaryInformation":"[\"Primary\",\"Secondary\"]","type":"stringWithSelector"}],"objectGroups":[]},{"description":"Return the multitouch contoller stick force on Y axis (from -1 at the top to 1 at the bottom).","fullName":"Stick Y force","functionType":"Expression","name":"StickForceY","sentence":"","events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[],"actions":[{"type":{"value":"SetReturnNumber"},"parameters":["SpriteMultitouchJoystick::JoystickForce(ControllerIdentifier, JoystickIdentifier) * sin(ToRad(SpriteMultitouchJoystick::JoystickAngle(ControllerIdentifier, JoystickIdentifier)))"]}]}],"expressionType":{"type":"expression"},"parameters":[{"description":"Multitouch controller identifier (1, 2, 3, 4...)","name":"ControllerIdentifier","type":"expression"},{"description":"Joystick name","name":"JoystickIdentifier","supplementaryInformation":"[\"Primary\",\"Secondary\"]","type":"stringWithSelector"}],"objectGroups":[]}],"eventsBasedBehaviors":[{"description":"Joystick that can be controlled by interacting with a touchscreen.","fullName":"Multitouch Joystick","name":"MultitouchJoystick","objectType":"","private":true,"eventsFunctions":[{"fullName":"","functionType":"Action","name":"onCreated","sentence":"","events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[],"actions":[{"type":{"value":"SpriteMultitouchJoystick::SetDeadZone"},"parameters":["","Object.Behavior::PropertyControllerIdentifier()","Object.Behavior::PropertyJoystickIdentifier()","Object.Behavior::PropertyDeadZoneRadius()",""]},{"type":{"value":"SpriteMultitouchJoystick::MultitouchJoystick::Reset"},"parameters":["Object","Behavior",""]}]}],"parameters":[{"description":"Object","name":"Object","type":"object"},{"description":"Behavior","name":"Behavior","supplementaryInformation":"SpriteMultitouchJoystick::MultitouchJoystick","type":"behavior"}],"objectGroups":[]},{"fullName":"","functionType":"Action","name":"onDeActivate","sentence":"","events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[],"actions":[{"type":{"value":"SpriteMultitouchJoystick::MultitouchJoystick::Reset"},"parameters":["Object","Behavior",""]}]}],"parameters":[{"description":"Object","name":"Object","type":"object"},{"description":"Behavior","name":"Behavior","supplementaryInformation":"SpriteMultitouchJoystick::MultitouchJoystick","type":"behavior"}],"objectGroups":[]},{"fullName":"","functionType":"Action","name":"doStepPreEvents","sentence":"","events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"HasGameJustResumed"},"parameters":[""]}],"actions":[{"type":{"value":"SpriteMultitouchJoystick::MultitouchJoystick::Reset"},"parameters":["Object","Behavior",""]}]},{"colorB":228,"colorG":176,"colorR":74,"creationTime":0,"name":"Manage touches","source":"","type":"BuiltinCommonInstructions::Group","events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"HasAnyTouchOrMouseStarted"},"parameters":[""]}],"actions":[{"type":{"value":"SpriteMultitouchJoystick::MultitouchJoystick::SetPropertyTouchIndex"},"parameters":["Object","Behavior","=","0"]}],"events":[{"type":"BuiltinCommonInstructions::Repeat","repeatExpression":"StartedTouchOrMouseCount()","conditions":[],"actions":[],"events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"SpriteMultitouchJoystick::MultitouchJoystick::PropertyTouchId"},"parameters":["Object","Behavior","=","0"]},{"type":{"value":"CollisionPoint"},"parameters":["Object","TouchX(StartedTouchOrMouseId(Object.Behavior::PropertyTouchIndex()), Object.Layer(), 0)","TouchY(StartedTouchOrMouseId(Object.Behavior::PropertyTouchIndex()), Object.Layer(), 0)"]}],"actions":[{"type":{"value":"SpriteMultitouchJoystick::MultitouchJoystick::SetPropertyTouchId"},"parameters":["Object","Behavior","=","StartedTouchOrMouseId(Object.Behavior::PropertyTouchIndex())"]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[],"actions":[{"type":{"value":"SpriteMultitouchJoystick::MultitouchJoystick::SetPropertyTouchIndex"},"parameters":["Object","Behavior","+","1"]}]}]}]},{"type":"BuiltinCommonInstructions::Comment","color":{"b":109,"g":230,"r":255,"textB":0,"textG":0,"textR":0},"comment":"Move thumb back to center when not being pressed (acts like a spring on a real controller)"},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"HasTouchEnded"},"parameters":["","Object.Behavior::PropertyTouchId()"]}],"actions":[{"type":{"value":"SpriteMultitouchJoystick::MultitouchJoystick::Reset"},"parameters":["Object","Behavior",""]}]}],"parameters":[]},{"colorB":228,"colorG":176,"colorR":74,"creationTime":0,"name":"Update joystick position","source":"","type":"BuiltinCommonInstructions::Group","events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"SpriteMultitouchJoystick::MultitouchJoystick::PropertyTouchId"},"parameters":["Object","Behavior","!=","0"]}],"actions":[{"type":{"value":"SpriteMultitouchJoystick::MultitouchJoystick::SetJoystickAngle"},"parameters":["Object","Behavior","AngleBetweenPositions(Object.CenterX(), Object.CenterY(), TouchX(Object.Behavior::PropertyTouchId(), Object.Layer(), 0), TouchY(Object.Behavior::PropertyTouchId(), Object.Layer(), 0))","AngleBetweenPositions(Object.CenterX(), Object.CenterY(), TouchX(Object.Behavior::PropertyTouchId(), Object.Layer(), 0), TouchY(Object.Behavior::PropertyTouchId(), Object.Layer(), 0))"]},{"type":{"value":"SpriteMultitouchJoystick::MultitouchJoystick::SetJoystickForce"},"parameters":["Object","Behavior","=","clamp(2 * DistanceBetweenPositions(Object.CenterX(), Object.CenterY(), TouchX(Object.Behavior::PropertyTouchId(), Object.Layer(), 0), TouchY(Object.Behavior::PropertyTouchId(), Object.Layer(), 0)) / Object.Width(), 0, 1)",""]}]}],"parameters":[]}],"parameters":[{"description":"Object","name":"Object","type":"object"},{"description":"Behavior","name":"Behavior","supplementaryInformation":"SpriteMultitouchJoystick::MultitouchJoystick","type":"behavior"}],"objectGroups":[]},{"description":"the joystick force (from 0 to 1).","fullName":"Joystick force","functionType":"ExpressionAndCondition","name":"JoystickForce","sentence":"the joystick force","events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[],"actions":[{"type":{"value":"SetReturnNumber"},"parameters":["max(0, JoystickForce - DeadZoneRadius) / (1 - DeadZoneRadius)"]}]}],"expressionType":{"type":"expression"},"parameters":[{"description":"Object","name":"Object","type":"object"},{"description":"Behavior","name":"Behavior","supplementaryInformation":"SpriteMultitouchJoystick::MultitouchJoystick","type":"behavior"}],"objectGroups":[]},{"fullName":"","functionType":"ActionWithOperator","getterName":"JoystickForce","name":"SetJoystickForce","private":true,"sentence":"","events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[],"actions":[{"type":{"value":"SpriteMultitouchJoystick::MultitouchJoystick::SetPropertyJoystickForce"},"parameters":["Object","Behavior","=","Value"]},{"type":{"value":"SpriteMultitouchJoystick::SetJoystickForce"},"parameters":["","ControllerIdentifier","JoystickIdentifier","JoystickForce",""]}]}],"parameters":[{"description":"Object","name":"Object","type":"object"},{"description":"Behavior","name":"Behavior","supplementaryInformation":"SpriteMultitouchJoystick::MultitouchJoystick","type":"behavior"}],"objectGroups":[]},{"description":"Return the angle the joystick is pointing towards (Range: -180 to 180).","fullName":"Joystick angle","functionType":"Expression","name":"JoystickAngle","sentence":"","events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[],"actions":[{"type":{"value":"SetReturnNumber"},"parameters":["JoystickAngle"]}]}],"expressionType":{"type":"expression"},"parameters":[{"description":"Object","name":"Object","type":"object"},{"description":"Behavior","name":"Behavior","supplementaryInformation":"SpriteMultitouchJoystick::MultitouchJoystick","type":"behavior"}],"objectGroups":[]},{"description":"Change the angle the joystick is pointing towards (Range: -180 to 180).","fullName":"Joystick angle","functionType":"Action","name":"SetJoystickAngle","private":true,"sentence":"Change the joystick angle of _PARAM0_ to _PARAM2_","events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[],"actions":[{"type":{"value":"SpriteMultitouchJoystick::MultitouchJoystick::SetPropertyJoystickAngle"},"parameters":["Object","Behavior","=","GetArgumentAsNumber(\"Value\")"]},{"type":{"value":"SpriteMultitouchJoystick::SetJoystickAngle"},"parameters":["","Object.Behavior::PropertyControllerIdentifier()","Object.Behavior::PropertyJoystickIdentifier()","Object.Behavior::PropertyJoystickAngle()",""]}]}],"parameters":[{"description":"Object","name":"Object","type":"object"},{"description":"Behavior","name":"Behavior","supplementaryInformation":"SpriteMultitouchJoystick::MultitouchJoystick","type":"behavior"},{"description":"Angle","name":"Value","type":"expression"}],"objectGroups":[]},{"description":"Return the stick force on X axis (from -1 at the left to 1 at the right).","fullName":"Stick X force","functionType":"Expression","name":"StickForceX","sentence":"","events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[],"actions":[{"type":{"value":"SetReturnNumber"},"parameters":["Object.Behavior::JoystickForce() * cos(ToRad(Object.Behavior::JoystickAngle()))"]}]}],"expressionType":{"type":"expression"},"parameters":[{"description":"Object","name":"Object","type":"object"},{"description":"Behavior","name":"Behavior","supplementaryInformation":"SpriteMultitouchJoystick::MultitouchJoystick","type":"behavior"}],"objectGroups":[]},{"description":"Return the stick force on Y axis (from -1 at the top to 1 at the bottom).","fullName":"Stick Y force","functionType":"Expression","name":"StickForceY","sentence":"","events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[],"actions":[{"type":{"value":"SetReturnNumber"},"parameters":["Object.Behavior::JoystickForce() * sin(ToRad(Object.Behavior::JoystickAngle()))"]}]}],"expressionType":{"type":"expression"},"parameters":[{"description":"Object","name":"Object","type":"object"},{"description":"Behavior","name":"Behavior","supplementaryInformation":"SpriteMultitouchJoystick::MultitouchJoystick","type":"behavior"}],"objectGroups":[]},{"description":"Check if joystick is pushed in a given direction.","fullName":"Joystick pushed in a direction (4-way movement)","functionType":"Condition","name":"IsDirectionPushed4Way","sentence":"_PARAM0_ is pushed in direction _PARAM2_","events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"SpriteMultitouchJoystick::MultitouchJoystick::JoystickForce"},"parameters":["Object","Behavior",">","0",""]},{"type":{"value":"SpriteMultitouchJoystick::IsAngleIn4WayDirection"},"parameters":["","JoystickAngle","Direction",""]}],"actions":[{"type":{"value":"SetReturnBoolean"},"parameters":["True"]}]}],"parameters":[{"description":"Object","name":"Object","type":"object"},{"description":"Behavior","name":"Behavior","supplementaryInformation":"SpriteMultitouchJoystick::MultitouchJoystick","type":"behavior"},{"description":"Direction","name":"Direction","supplementaryInformation":"[\"Up\",\"Down\",\"Left\",\"Right\"]","type":"stringWithSelector"}],"objectGroups":[]},{"description":"Check if joystick is pushed in a given direction.","fullName":"Joystick pushed in a direction (8-way movement)","functionType":"Condition","name":"IsDirectionPushed8Way","sentence":"_PARAM0_ is pushed in direction _PARAM2_","events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"SpriteMultitouchJoystick::MultitouchJoystick::JoystickForce"},"parameters":["Object","Behavior",">","0",""]},{"type":{"value":"SpriteMultitouchJoystick::IsAngleIn8WayDirection"},"parameters":["","JoystickAngle","Direction",""]}],"actions":[{"type":{"value":"SetReturnBoolean"},"parameters":["True"]}]}],"parameters":[{"description":"Object","name":"Object","type":"object"},{"description":"Behavior","name":"Behavior","supplementaryInformation":"SpriteMultitouchJoystick::MultitouchJoystick","type":"behavior"},{"description":"Direction","name":"Direction","supplementaryInformation":"[\"Up\",\"Down\",\"Left\",\"Right\",\"UpLeft\",\"UpRight\",\"DownLeft\",\"DownRight\"]","type":"stringWithSelector"}],"objectGroups":[]},{"description":"Check if a joystick is pressed.","fullName":"Joystick pressed","functionType":"Condition","name":"IsPressed","sentence":"Joystick _PARAM0_ is pressed","events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"SpriteMultitouchJoystick::MultitouchJoystick::PropertyTouchId"},"parameters":["Object","Behavior","!=","0"]}],"actions":[{"type":{"value":"SetReturnBoolean"},"parameters":["True"]}]}],"parameters":[{"description":"Object","name":"Object","type":"object"},{"description":"Behavior","name":"Behavior","supplementaryInformation":"SpriteMultitouchJoystick::MultitouchJoystick","type":"behavior"}],"objectGroups":[]},{"description":"Reset the joystick values (except for angle, which stays the same)","fullName":"Reset","functionType":"Action","name":"Reset","private":true,"sentence":"Reset the joystick of _PARAM0_","events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[],"actions":[{"type":{"value":"SpriteMultitouchJoystick::MultitouchJoystick::SetJoystickForce"},"parameters":["Object","Behavior","=","0",""]},{"type":{"value":"SpriteMultitouchJoystick::MultitouchJoystick::SetPropertyTouchId"},"parameters":["Object","Behavior","=","0"]}]}],"parameters":[{"description":"Object","name":"Object","type":"object"},{"description":"Behavior","name":"Behavior","supplementaryInformation":"SpriteMultitouchJoystick::MultitouchJoystick","type":"behavior"}],"objectGroups":[]},{"description":"the multitouch controller identifier.","fullName":"Multitouch controller identifier","functionType":"ExpressionAndCondition","group":"Multitouch Joystick configuration","name":"ControllerIdentifier","sentence":"the multitouch controller identifier","events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[],"actions":[{"type":{"value":"SetReturnNumber"},"parameters":["Object.Behavior::PropertyControllerIdentifier()"]}]}],"expressionType":{"type":"expression"},"parameters":[{"description":"Object","name":"Object","type":"object"},{"description":"Behavior","name":"Behavior","supplementaryInformation":"SpriteMultitouchJoystick::MultitouchJoystick","type":"behavior"}],"objectGroups":[]},{"fullName":"","functionType":"ActionWithOperator","getterName":"ControllerIdentifier","name":"SetControllerIdentifier","sentence":"","events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[],"actions":[{"type":{"value":"SpriteMultitouchJoystick::MultitouchJoystick::SetPropertyControllerIdentifier"},"parameters":["Object","Behavior","=","GetArgumentAsNumber(\"Value\")"]}]}],"parameters":[{"description":"Object","name":"Object","type":"object"},{"description":"Behavior","name":"Behavior","supplementaryInformation":"SpriteMultitouchJoystick::MultitouchJoystick","type":"behavior"}],"objectGroups":[]},{"description":"the joystick name.","fullName":"Joystick name","functionType":"ExpressionAndCondition","group":"Multitouch Joystick configuration","name":"JoystickIdentifier","sentence":"the joystick name","events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[],"actions":[{"type":{"value":"SetReturnString"},"parameters":["Object.Behavior::PropertyJoystickIdentifier()"]}]}],"expressionType":{"type":"string"},"parameters":[{"description":"Object","name":"Object","type":"object"},{"description":"Behavior","name":"Behavior","supplementaryInformation":"SpriteMultitouchJoystick::MultitouchJoystick","type":"behavior"}],"objectGroups":[]},{"fullName":"","functionType":"ActionWithOperator","getterName":"JoystickIdentifier","name":"SetJoystickIdentifier","sentence":"","events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[],"actions":[{"type":{"value":"SpriteMultitouchJoystick::MultitouchJoystick::SetPropertyJoystickIdentifier"},"parameters":["Object","Behavior","=","GetArgumentAsString(\"Value\")"]}]}],"parameters":[{"description":"Object","name":"Object","type":"object"},{"description":"Behavior","name":"Behavior","supplementaryInformation":"SpriteMultitouchJoystick::MultitouchJoystick","type":"behavior"}],"objectGroups":[]},{"description":"the dead zone radius (range: 0 to 1) of the joystick. The deadzone is an area for which movement on sticks won't be taken into account (instead, the stick will be considered as not moved).","fullName":"Dead zone radius","functionType":"ExpressionAndCondition","group":"Multitouch Joystick configuration","name":"DeadZoneRadius","sentence":"the dead zone radius","events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[],"actions":[{"type":{"value":"SetReturnNumber"},"parameters":["DeadZoneRadius"]}]}],"expressionType":{"type":"expression"},"parameters":[{"description":"Object","name":"Object","type":"object"},{"description":"Behavior","name":"Behavior","supplementaryInformation":"SpriteMultitouchJoystick::MultitouchJoystick","type":"behavior"}],"objectGroups":[]},{"fullName":"","functionType":"ActionWithOperator","getterName":"DeadZoneRadius","name":"SetDeadZoneRadius","sentence":"","events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[],"actions":[{"type":{"value":"SpriteMultitouchJoystick::MultitouchJoystick::SetPropertyDeadZoneRadius"},"parameters":["Object","Behavior","=","Value"]}]}],"parameters":[{"description":"Object","name":"Object","type":"object"},{"description":"Behavior","name":"Behavior","supplementaryInformation":"SpriteMultitouchJoystick::MultitouchJoystick","type":"behavior"}],"objectGroups":[]}],"propertyDescriptors":[{"value":"1","type":"Number","label":"Multitouch controller identifier (1, 2, 3, 4...)","description":"","group":"","extraInformation":[],"name":"ControllerIdentifier"},{"value":"Primary","type":"String","label":"Joystick name","description":"","group":"","extraInformation":[],"name":"JoystickIdentifier"},{"value":"0.4","type":"Number","label":"Dead zone radius (range: 0 to 1)","description":"The deadzone is an area for which movement on sticks won't be taken into account (instead, the stick will be considered as not moved)","group":"","extraInformation":[],"name":"DeadZoneRadius"},{"value":"0","type":"Number","label":"Joystick angle (range: -180 to 180)","description":"","group":"","extraInformation":[],"hidden":true,"name":"JoystickAngle"},{"value":"0","type":"Number","label":"Joystick force (range: 0 to 1)","description":"","group":"","extraInformation":[],"hidden":true,"name":"JoystickForce"},{"value":"0","type":"Number","label":"","description":"","group":"","extraInformation":[],"hidden":true,"name":"TouchId"},{"value":"","type":"Number","label":"","description":"","group":"","extraInformation":[],"hidden":true,"name":"TouchIndex"}],"sharedPropertyDescriptors":[]},{"description":"Detect button presses made on a touchscreen.","fullName":"Multitouch button","name":"MultitouchButton","objectType":"","eventsFunctions":[{"fullName":"","functionType":"Action","name":"doStepPreEvents","sentence":"","events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"SpriteMultitouchJoystick::MultitouchButton::IsReleased"},"parameters":["Object","Behavior",""]}],"actions":[{"type":{"value":"SpriteMultitouchJoystick::MultitouchButton::SetPropertyIsReleased"},"parameters":["Object","Behavior","no"]},{"type":{"value":"SpriteMultitouchJoystick::MultitouchButton::SetButtonState"},"parameters":["Object","Behavior","\"Idle\"",""]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"inverted":true,"value":"SpriteMultitouchJoystick::MultitouchButton::IsPressed"},"parameters":["Object","Behavior",""]},{"type":{"value":"HasAnyTouchOrMouseStarted"},"parameters":[""]}],"actions":[{"type":{"value":"SpriteMultitouchJoystick::MultitouchButton::SetPropertyTouchIndex"},"parameters":["Object","Behavior","=","0"]}],"events":[{"type":"BuiltinCommonInstructions::Repeat","repeatExpression":"StartedTouchOrMouseCount()","conditions":[],"actions":[],"events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"CollisionPoint"},"parameters":["Object","TouchX(StartedTouchOrMouseId(Object.Behavior::PropertyTouchIndex()), Object.Layer(), 0)","TouchY(StartedTouchOrMouseId(Object.Behavior::PropertyTouchIndex()), Object.Layer(), 0)"]}],"actions":[{"type":{"value":"SpriteMultitouchJoystick::MultitouchButton::SetPropertyTouchId"},"parameters":["Object","Behavior","=","StartedTouchOrMouseId(Object.Behavior::PropertyTouchIndex())"]},{"type":{"value":"SpriteMultitouchJoystick::MultitouchButton::SetButtonState"},"parameters":["Object","Behavior","\"Pressed\"",""]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[],"actions":[{"type":{"value":"SpriteMultitouchJoystick::MultitouchButton::SetPropertyTouchIndex"},"parameters":["Object","Behavior","+","1"]}]}]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"SpriteMultitouchJoystick::MultitouchButton::IsPressed"},"parameters":["Object","Behavior",""]},{"type":{"value":"HasTouchEnded"},"parameters":["","Object.Behavior::PropertyTouchId()"]}],"actions":[{"type":{"value":"SpriteMultitouchJoystick::MultitouchButton::SetButtonState"},"parameters":["Object","Behavior","\"Released\"",""]},{"type":{"value":"SpriteMultitouchJoystick::MultitouchButton::SetPropertyIsReleased"},"parameters":["Object","Behavior","yes"]},{"type":{"value":"SpriteMultitouchJoystick::MultitouchButton::SetPropertyTouchId"},"parameters":["Object","Behavior","=","0"]}]}],"parameters":[{"description":"Object","name":"Object","type":"object"},{"description":"Behavior","name":"Behavior","supplementaryInformation":"SpriteMultitouchJoystick::MultitouchButton","type":"behavior"}],"objectGroups":[]},{"description":"Check if button is released.","fullName":"Button released","functionType":"Condition","name":"IsReleased","sentence":"Button _PARAM0_ is released","events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"SpriteMultitouchJoystick::MultitouchButton::PropertyIsReleased"},"parameters":["Object","Behavior"]}],"actions":[{"type":{"value":"SetReturnBoolean"},"parameters":["True"]}]}],"parameters":[{"description":"Object","name":"Object","type":"object"},{"description":"Behavior","name":"Behavior","supplementaryInformation":"SpriteMultitouchJoystick::MultitouchButton","type":"behavior"}],"objectGroups":[]},{"description":"Check if button is pressed.","fullName":"Button pressed","functionType":"Condition","name":"IsPressed","sentence":"Button _PARAM0_ is pressed","events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"SpriteMultitouchJoystick::MultitouchButton::PropertyTouchId"},"parameters":["Object","Behavior","!=","0"]}],"actions":[{"type":{"value":"SetReturnBoolean"},"parameters":["True"]}]}],"parameters":[{"description":"Object","name":"Object","type":"object"},{"description":"Behavior","name":"Behavior","supplementaryInformation":"SpriteMultitouchJoystick::MultitouchButton","type":"behavior"}],"objectGroups":[]},{"fullName":"Button state","functionType":"Action","name":"SetButtonState","private":true,"sentence":"Mark the button _PARAM0_ as _PARAM2_","events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[],"actions":[{"type":{"value":"SpriteMultitouchJoystick::SetButtonState"},"parameters":["","Object.Behavior::PropertyControllerIdentifier()","Object.Behavior::PropertyButtonIdentifier()","GetArgumentAsString(\"ButtonState\")",""]}]}],"parameters":[{"description":"Object","name":"Object","type":"object"},{"description":"Behavior","name":"Behavior","supplementaryInformation":"SpriteMultitouchJoystick::MultitouchButton","type":"behavior"},{"description":"Button state","name":"ButtonState","supplementaryInformation":"[\"Idle\",\"Pressed\",\"Released\"]","type":"stringWithSelector"}],"objectGroups":[]}],"propertyDescriptors":[{"value":"1","type":"Number","label":"Multitouch controller identifier (1, 2, 3, 4...)","description":"","group":"","extraInformation":[],"name":"ControllerIdentifier"},{"value":"A","type":"String","label":"Button identifier","description":"","group":"","extraInformation":[],"name":"ButtonIdentifier"},{"value":"0","type":"Number","label":"TouchID","description":"","group":"","extraInformation":[],"hidden":true,"name":"TouchId"},{"value":"","type":"Number","label":"","description":"","group":"","extraInformation":[],"hidden":true,"name":"TouchIndex"},{"value":"","type":"Boolean","label":"Button released","description":"","group":"","extraInformation":[],"hidden":true,"name":"IsReleased"}],"sharedPropertyDescriptors":[]},{"description":"Control a platformer character with a multitouch controller.","fullName":"Platformer multitouch controller mapper","name":"PlatformerMultitouchMapper","objectType":"","eventsFunctions":[{"fullName":"","functionType":"Action","name":"doStepPreEvents","sentence":"","events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"SpriteMultitouchJoystick::IsDirectionPushed4Way"},"parameters":["","Object.Behavior::PropertyControllerIdentifier()","Object.Behavior::PropertyJoystickIdentifier()","\"Left\"",""]}],"actions":[{"type":{"value":"PlatformBehavior::SimulateLeftKey"},"parameters":["Object","Property"]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"SpriteMultitouchJoystick::IsDirectionPushed4Way"},"parameters":["","Object.Behavior::PropertyControllerIdentifier()","Object.Behavior::PropertyJoystickIdentifier()","\"Right\"",""]}],"actions":[{"type":{"value":"PlatformBehavior::SimulateRightKey"},"parameters":["Object","Property"]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"SpriteMultitouchJoystick::IsDirectionPushed4Way"},"parameters":["","Object.Behavior::PropertyControllerIdentifier()","Object.Behavior::PropertyJoystickIdentifier()","\"Up\"",""]}],"actions":[{"type":{"value":"PlatformBehavior::SimulateUpKey"},"parameters":["Object","Property"]},{"type":{"value":"PlatformBehavior::SimulateLadderKey"},"parameters":["Object","Property"]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"SpriteMultitouchJoystick::IsDirectionPushed4Way"},"parameters":["","Object.Behavior::PropertyControllerIdentifier()","Object.Behavior::PropertyJoystickIdentifier()","\"Down\"",""]}],"actions":[{"type":{"value":"PlatformBehavior::SimulateDownKey"},"parameters":["Object","Property"]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"SpriteMultitouchJoystick::IsButtonPressed"},"parameters":["","Object.Behavior::PropertyControllerIdentifier()","Object.Behavior::PropertyJumpButton()","\"Down\""]}],"actions":[{"type":{"value":"PlatformBehavior::SimulateJumpKey"},"parameters":["Object","Property"]}]}],"parameters":[{"description":"Object","name":"Object","type":"object"},{"description":"Behavior","name":"Behavior","supplementaryInformation":"SpriteMultitouchJoystick::PlatformerMultitouchMapper","type":"behavior"}],"objectGroups":[]}],"propertyDescriptors":[{"value":"","type":"Behavior","label":"Platform character behavior","description":"","group":"","extraInformation":["PlatformBehavior::PlatformerObjectBehavior"],"name":"Property"},{"value":"1","type":"Number","label":"Controller identifier (1, 2, 3, 4...)","description":"","group":"","extraInformation":[],"name":"ControllerIdentifier"},{"value":"Primary","type":"Choice","label":"Joystick name","description":"","group":"Controls","extraInformation":["Primary","Secondary"],"name":"JoystickIdentifier"},{"value":"A","type":"String","label":"Jump button name","description":"","group":"Controls","extraInformation":[],"name":"JumpButton"}],"sharedPropertyDescriptors":[]},{"description":"Control a top-down character with a multitouch controller.","fullName":"Top-down multitouch controller mapper","name":"TopDownMultitouchMapper","objectType":"","eventsFunctions":[{"fullName":"","functionType":"Action","name":"doStepPreEvents","sentence":"","events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"SpriteMultitouchJoystick::TopDownMultitouchMapper::PropertyStickMode"},"parameters":["Object","Behavior","=","\"Analog\""]}],"actions":[{"type":{"value":"TopDownMovementBehavior::SimulateStick"},"parameters":["Object","TopDownMovement","SpriteMultitouchJoystick::StickAngle(Object.Behavior::PropertyControllerIdentifier(), Object.Behavior::PropertyJoystickIdentifier())","SpriteMultitouchJoystick::StickForce(Object.Behavior::PropertyControllerIdentifier(), Object.Behavior::PropertyJoystickIdentifier())"]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"SpriteMultitouchJoystick::TopDownMultitouchMapper::PropertyStickMode"},"parameters":["Object","Behavior","=","\"360\""]}],"actions":[{"type":{"value":"TopDownMovementBehavior::SimulateStick"},"parameters":["Object","TopDownMovement","SpriteMultitouchJoystick::StickAngle(Object.Behavior::PropertyControllerIdentifier(), Object.Behavior::PropertyJoystickIdentifier())","sign(SpriteMultitouchJoystick::StickForce(Object.Behavior::PropertyControllerIdentifier(), Object.Behavior::PropertyJoystickIdentifier()))"]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"SpriteMultitouchJoystick::TopDownMultitouchMapper::PropertyStickMode"},"parameters":["Object","Behavior","=","\"8 Directions\""]}],"actions":[],"events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"inverted":true,"value":"TopDownMovementBehavior::DiagonalsAllowed"},"parameters":["Object","TopDownMovement"]}],"actions":[],"events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"SpriteMultitouchJoystick::IsDirectionPushed4Way"},"parameters":["","Object.Behavior::PropertyControllerIdentifier()","Object.Behavior::PropertyJoystickIdentifier()","\"Left\"",""]}],"actions":[{"type":{"value":"TopDownMovementBehavior::SimulateLeftKey"},"parameters":["Object","TopDownMovement"]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"SpriteMultitouchJoystick::IsDirectionPushed4Way"},"parameters":["","Object.Behavior::PropertyControllerIdentifier()","Object.Behavior::PropertyJoystickIdentifier()","\"Right\"",""]}],"actions":[{"type":{"value":"TopDownMovementBehavior::SimulateRightKey"},"parameters":["Object","TopDownMovement"]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"SpriteMultitouchJoystick::IsDirectionPushed4Way"},"parameters":["","Object.Behavior::PropertyControllerIdentifier()","Object.Behavior::PropertyJoystickIdentifier()","\"Up\"",""]}],"actions":[{"type":{"value":"TopDownMovementBehavior::SimulateUpKey"},"parameters":["Object","TopDownMovement"]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"SpriteMultitouchJoystick::IsDirectionPushed4Way"},"parameters":["","Object.Behavior::PropertyControllerIdentifier()","Object.Behavior::PropertyJoystickIdentifier()","\"Down\"",""]}],"actions":[{"type":{"value":"TopDownMovementBehavior::SimulateDownKey"},"parameters":["Object","TopDownMovement"]}]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"TopDownMovementBehavior::DiagonalsAllowed"},"parameters":["Object","TopDownMovement"]}],"actions":[],"events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"SpriteMultitouchJoystick::IsDirectionPushed8Way"},"parameters":["","Object.Behavior::PropertyControllerIdentifier()","Object.Behavior::PropertyJoystickIdentifier()","\"Left\"",""]}],"actions":[{"type":{"value":"TopDownMovementBehavior::SimulateLeftKey"},"parameters":["Object","TopDownMovement"]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"SpriteMultitouchJoystick::IsDirectionPushed8Way"},"parameters":["","Object.Behavior::PropertyControllerIdentifier()","Object.Behavior::PropertyJoystickIdentifier()","\"Right\"",""]}],"actions":[{"type":{"value":"TopDownMovementBehavior::SimulateRightKey"},"parameters":["Object","TopDownMovement"]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"SpriteMultitouchJoystick::IsDirectionPushed8Way"},"parameters":["","Object.Behavior::PropertyControllerIdentifier()","Object.Behavior::PropertyJoystickIdentifier()","\"Up\"",""]}],"actions":[{"type":{"value":"TopDownMovementBehavior::SimulateUpKey"},"parameters":["Object","TopDownMovement"]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"SpriteMultitouchJoystick::IsDirectionPushed8Way"},"parameters":["","Object.Behavior::PropertyControllerIdentifier()","Object.Behavior::PropertyJoystickIdentifier()","\"Down\"",""]}],"actions":[{"type":{"value":"TopDownMovementBehavior::SimulateDownKey"},"parameters":["Object","TopDownMovement"]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"SpriteMultitouchJoystick::IsDirectionPushed8Way"},"parameters":["","Object.Behavior::PropertyControllerIdentifier()","Object.Behavior::PropertyJoystickIdentifier()","\"UpLeft\"",""]}],"actions":[{"type":{"value":"TopDownMovementBehavior::SimulateUpKey"},"parameters":["Object","TopDownMovement"]},{"type":{"value":"TopDownMovementBehavior::SimulateLeftKey"},"parameters":["Object","TopDownMovement"]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"SpriteMultitouchJoystick::IsDirectionPushed8Way"},"parameters":["","Object.Behavior::PropertyControllerIdentifier()","Object.Behavior::PropertyJoystickIdentifier()","\"UpRight\"",""]}],"actions":[{"type":{"value":"TopDownMovementBehavior::SimulateUpKey"},"parameters":["Object","TopDownMovement"]},{"type":{"value":"TopDownMovementBehavior::SimulateRightKey"},"parameters":["Object","TopDownMovement"]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"SpriteMultitouchJoystick::IsDirectionPushed8Way"},"parameters":["","Object.Behavior::PropertyControllerIdentifier()","Object.Behavior::PropertyJoystickIdentifier()","\"DownLeft\"",""]}],"actions":[{"type":{"value":"TopDownMovementBehavior::SimulateDownKey"},"parameters":["Object","TopDownMovement"]},{"type":{"value":"TopDownMovementBehavior::SimulateLeftKey"},"parameters":["Object","TopDownMovement"]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"SpriteMultitouchJoystick::IsDirectionPushed8Way"},"parameters":["","Object.Behavior::PropertyControllerIdentifier()","Object.Behavior::PropertyJoystickIdentifier()","\"DownRight\"",""]}],"actions":[{"type":{"value":"TopDownMovementBehavior::SimulateDownKey"},"parameters":["Object","TopDownMovement"]},{"type":{"value":"TopDownMovementBehavior::SimulateRightKey"},"parameters":["Object","TopDownMovement"]}]}]}]}],"parameters":[{"description":"Object","name":"Object","type":"object"},{"description":"Behavior","name":"Behavior","supplementaryInformation":"SpriteMultitouchJoystick::TopDownMultitouchMapper","type":"behavior"}],"objectGroups":[]}],"propertyDescriptors":[{"value":"","type":"Behavior","label":"Top-down movement behavior","description":"","group":"","extraInformation":["TopDownMovementBehavior::TopDownMovementBehavior"],"name":"TopDownMovement"},{"value":"1","type":"Number","label":"Controller identifier (1, 2, 3, 4...)","description":"","group":"","extraInformation":[],"name":"ControllerIdentifier"},{"value":"Primary","type":"Choice","label":"Joystick name","description":"","group":"","extraInformation":["Primary","Secondary"],"name":"JoystickIdentifier"},{"value":"Analog","type":"Choice","label":"Stick mode","description":"","group":"Controls","extraInformation":["Analog","360","8 Directions"],"name":"StickMode"}],"sharedPropertyDescriptors":[]}],"eventsBasedObjects":[{"areaMaxX":64,"areaMaxY":64,"areaMaxZ":64,"areaMinX":0,"areaMinY":0,"areaMinZ":0,"defaultName":"Joystick","description":"Joystick for touchscreens.","fullName":"Multitouch Joystick","isUsingLegacyInstancesRenderer":true,"name":"SpriteMultitouchJoystick","eventsFunctions":[{"fullName":"","functionType":"Action","name":"onCreated","sentence":"","events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[],"actions":[{"type":{"value":"Create"},"parameters":["","Border","0","0",""]},{"type":{"value":"Create"},"parameters":["","Thumb","0","0",""]},{"type":{"value":"ChangePlan"},"parameters":["Border","=","1"]},{"type":{"value":"ChangePlan"},"parameters":["Thumb","=","2"]},{"type":{"value":"SetCenter"},"parameters":["Border","=","0","=","0"]},{"type":{"value":"SetCenter"},"parameters":["Thumb","=","0","=","0"]},{"type":{"value":"SpriteMultitouchJoystick::SpriteMultitouchJoystick::UpdateConfiguration"},"parameters":["Object",""]},{"type":{"value":"SetIncludedInParentCollisionMask"},"parameters":["Thumb",""]}]}],"parameters":[{"description":"Object","name":"Object","supplementaryInformation":"SpriteMultitouchJoystick::SpriteMultitouchJoystick","type":"object"}],"objectGroups":[]},{"fullName":"","functionType":"Action","name":"doStepPostEvents","sentence":"","events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[],"actions":[{"type":{"value":"MettreAutour"},"parameters":["Thumb","Border","Border.MultitouchJoystick::JoystickForce() * Border.Width() / 2","Border.MultitouchJoystick::JoystickAngle()"]}]}],"parameters":[{"description":"Object","name":"Object","supplementaryInformation":"SpriteMultitouchJoystick::SpriteMultitouchJoystick","type":"object"}],"objectGroups":[]},{"fullName":"","functionType":"Action","name":"onHotReloading","sentence":"","events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[],"actions":[{"type":{"value":"SpriteMultitouchJoystick::SpriteMultitouchJoystick::UpdateConfiguration"},"parameters":["Object",""]}]}],"parameters":[{"description":"Object","name":"Object","supplementaryInformation":"SpriteMultitouchJoystick::SpriteMultitouchJoystick","type":"object"}],"objectGroups":[]},{"description":"Pass the object property values to the behavior.","fullName":"Update configuration","functionType":"Action","name":"UpdateConfiguration","private":true,"sentence":"Update the configuration of _PARAM0_","events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[],"actions":[{"type":{"value":"SpriteMultitouchJoystick::MultitouchJoystick::SetControllerIdentifier"},"parameters":["Border","MultitouchJoystick","=","Object.PropertyControllerIdentifier()",""]},{"type":{"value":"SpriteMultitouchJoystick::MultitouchJoystick::SetJoystickIdentifier"},"parameters":["Border","MultitouchJoystick","=","Object.PropertyJoystickIdentifier()",""]},{"type":{"value":"SpriteMultitouchJoystick::MultitouchJoystick::SetDeadZoneRadius"},"parameters":["Border","MultitouchJoystick","=","Object.PropertyDeadZoneRadius()",""]}]}],"parameters":[{"description":"Object","name":"Object","supplementaryInformation":"SpriteMultitouchJoystick::SpriteMultitouchJoystick","type":"object"}],"objectGroups":[]},{"description":"De/activate control of the joystick.","fullName":"De/activate control","functionType":"Action","name":"ActivateControl","sentence":"Activate control of _PARAM0_: _PARAM1_","events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"inverted":true,"value":"GetArgumentAsBoolean"},"parameters":["\"ShouldActivate\""]}],"actions":[{"type":{"value":"ActivateBehavior"},"parameters":["Border","MultitouchJoystick","no"]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"GetArgumentAsBoolean"},"parameters":["\"ShouldActivate\""]}],"actions":[{"type":{"value":"ActivateBehavior"},"parameters":["Border","MultitouchJoystick","yes"]}]}],"parameters":[{"description":"Object","name":"Object","supplementaryInformation":"SpriteMultitouchJoystick::SpriteMultitouchJoystick","type":"object"},{"description":"Activate","name":"ShouldActivate","type":"yesorno"}],"objectGroups":[]},{"description":"Check if a stick is pressed.","fullName":"Stick pressed","functionType":"Condition","name":"IsPressed","sentence":"Stick _PARAM0_ is pressed","events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"SpriteMultitouchJoystick::MultitouchJoystick::IsPressed"},"parameters":["Border","MultitouchJoystick","!="]}],"actions":[{"type":{"value":"SetReturnBoolean"},"parameters":["True"]}]}],"parameters":[{"description":"Object","name":"Object","supplementaryInformation":"SpriteMultitouchJoystick::SpriteMultitouchJoystick","type":"object"}],"objectGroups":[]},{"description":"the joystick force (from 0 to 1).","fullName":"Joystick force (deprecated)","functionType":"ExpressionAndCondition","name":"JoystickForce","private":true,"sentence":"the joystick force","events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[],"actions":[{"type":{"value":"SetReturnNumber"},"parameters":["Border.MultitouchJoystick::JoystickForce()"]}]}],"expressionType":{"type":"expression"},"parameters":[{"description":"Object","name":"Object","supplementaryInformation":"SpriteMultitouchJoystick::SpriteMultitouchJoystick","type":"object"}],"objectGroups":[]},{"description":"the strick force (from 0 to 1).","fullName":"Stick force","functionType":"ExpressionAndCondition","name":"StickForce","sentence":"the stick force","events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[],"actions":[{"type":{"value":"SetReturnNumber"},"parameters":["Border.MultitouchJoystick::JoystickForce()"]}]}],"expressionType":{"type":"expression"},"parameters":[{"description":"Object","name":"Object","supplementaryInformation":"SpriteMultitouchJoystick::SpriteMultitouchJoystick","type":"object"}],"objectGroups":[]},{"description":"the stick force on X axis (from -1 at the left to 1 at the right).","fullName":"Stick X force","functionType":"ExpressionAndCondition","name":"StickForceX","sentence":"the stick X force","events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[],"actions":[{"type":{"value":"SetReturnNumber"},"parameters":["Border.MultitouchJoystick::StickForceX()"]}]}],"expressionType":{"type":"expression"},"parameters":[{"description":"Object","name":"Object","supplementaryInformation":"SpriteMultitouchJoystick::SpriteMultitouchJoystick","type":"object"}],"objectGroups":[]},{"description":"the stick force on Y axis (from -1 at the top to 1 at the bottom).","fullName":"Stick Y force","functionType":"ExpressionAndCondition","name":"StickForceY","sentence":"the stick Y force","events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[],"actions":[{"type":{"value":"SetReturnNumber"},"parameters":["Border.MultitouchJoystick::StickForceY()"]}]}],"expressionType":{"type":"expression"},"parameters":[{"description":"Object","name":"Object","supplementaryInformation":"SpriteMultitouchJoystick::SpriteMultitouchJoystick","type":"object"}],"objectGroups":[]},{"description":"Return the angle the joystick is pointing towards (from -180 to 180).","fullName":"Joystick angle (deprecated)","functionType":"Expression","name":"JoystickAngle","private":true,"sentence":"","events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[],"actions":[{"type":{"value":"SetReturnNumber"},"parameters":["Border.MultitouchJoystick::JoystickAngle()"]}]}],"expressionType":{"type":"expression"},"parameters":[{"description":"Object","name":"Object","supplementaryInformation":"SpriteMultitouchJoystick::SpriteMultitouchJoystick","type":"object"}],"objectGroups":[]},{"description":"Return the angle the stick is pointing towards (from -180 to 180).","fullName":"Stick angle","functionType":"Expression","name":"StickAngle","sentence":"","events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[],"actions":[{"type":{"value":"SetReturnNumber"},"parameters":["Border.MultitouchJoystick::JoystickAngle()"]}]}],"expressionType":{"type":"expression"},"parameters":[{"description":"Object","name":"Object","supplementaryInformation":"SpriteMultitouchJoystick::SpriteMultitouchJoystick","type":"object"}],"objectGroups":[]},{"description":"Check if joystick is pushed in a given direction.","fullName":"Joystick pushed in a direction (4-way movement)","functionType":"Condition","name":"IsDirectionPushed4Way","sentence":"_PARAM0_ is pushed in direction _PARAM1_","events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"SpriteMultitouchJoystick::MultitouchJoystick::IsDirectionPushed4Way"},"parameters":["Border","MultitouchJoystick","Direction",""]}],"actions":[{"type":{"value":"SetReturnBoolean"},"parameters":["True"]}]}],"parameters":[{"description":"Object","name":"Object","supplementaryInformation":"SpriteMultitouchJoystick::SpriteMultitouchJoystick","type":"object"},{"description":"Direction","name":"Direction","supplementaryInformation":"[\"Up\",\"Down\",\"Left\",\"Right\"]","type":"stringWithSelector"}],"objectGroups":[]},{"description":"Check if joystick is pushed in a given direction.","fullName":"Joystick pushed in a direction (8-way movement)","functionType":"Condition","name":"IsDirectionPushed8Way","sentence":"_PARAM0_ is pushed in direction _PARAM1_","events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"SpriteMultitouchJoystick::MultitouchJoystick::IsDirectionPushed8Way"},"parameters":["Border","MultitouchJoystick","Direction",""]}],"actions":[{"type":{"value":"SetReturnBoolean"},"parameters":["True"]}]}],"parameters":[{"description":"Object","name":"Object","supplementaryInformation":"SpriteMultitouchJoystick::SpriteMultitouchJoystick","type":"object"},{"description":"Direction","name":"Direction","supplementaryInformation":"[\"Up\",\"Down\",\"Left\",\"Right\",\"UpLeft\",\"UpRight\",\"DownLeft\",\"DownRight\"]","type":"stringWithSelector"}],"objectGroups":[]},{"description":"the multitouch controller identifier (1, 2, 3, 4...).","fullName":"Multitouch controller identifier","functionType":"ExpressionAndCondition","group":"Multitouch Joystick configuration","name":"ControllerIdentifier","sentence":"the multitouch controller identifier","events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[],"actions":[{"type":{"value":"SetReturnNumber"},"parameters":["Border.MultitouchJoystick::PropertyControllerIdentifier()"]}]}],"expressionType":{"type":"expression"},"parameters":[{"description":"Object","name":"Object","supplementaryInformation":"SpriteMultitouchJoystick::SpriteMultitouchJoystick","type":"object"}],"objectGroups":[]},{"fullName":"","functionType":"ActionWithOperator","getterName":"ControllerIdentifier","name":"SetControllerIdentifier","sentence":"","events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[],"actions":[{"type":{"value":"SpriteMultitouchJoystick::MultitouchJoystick::SetControllerIdentifier"},"parameters":["Border","MultitouchJoystick","=","GetArgumentAsNumber(\"Value\")",""]}]}],"parameters":[{"description":"Object","name":"Object","supplementaryInformation":"SpriteMultitouchJoystick::SpriteMultitouchJoystick","type":"object"}],"objectGroups":[]},{"description":"the joystick name of the object.","fullName":"Joystick name","functionType":"ExpressionAndCondition","group":"Multitouch Joystick configuration","name":"JoystickIdentifier","sentence":"the joystick name","events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[],"actions":[{"type":{"value":"SetReturnString"},"parameters":["Border.MultitouchJoystick::PropertyJoystickIdentifier()"]}]}],"expressionType":{"type":"string"},"parameters":[{"description":"Object","name":"Object","supplementaryInformation":"SpriteMultitouchJoystick::SpriteMultitouchJoystick","type":"object"}],"objectGroups":[]},{"fullName":"","functionType":"ActionWithOperator","getterName":"JoystickIdentifier","name":"SetJoystickIdentifier","sentence":"","events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[],"actions":[{"type":{"value":"SpriteMultitouchJoystick::MultitouchJoystick::SetJoystickIdentifier"},"parameters":["Border","MultitouchJoystick","=","GetArgumentAsString(\"Value\")",""]}]}],"parameters":[{"description":"Object","name":"Object","supplementaryInformation":"SpriteMultitouchJoystick::SpriteMultitouchJoystick","type":"object"}],"objectGroups":[]},{"description":"the dead zone radius of the joystick (range: 0 to 1). The deadzone is an area for which movement on sticks won't be taken into account (instead, the stick will be considered as not moved).","fullName":"Dead zone radius","functionType":"ExpressionAndCondition","group":"Multitouch Joystick configuration","name":"DeadZoneRadius","sentence":"the dead zone radius","events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[],"actions":[{"type":{"value":"SetReturnNumber"},"parameters":["Border.MultitouchJoystick::PropertyDeadZoneRadius()"]}]}],"expressionType":{"type":"expression"},"parameters":[{"description":"Object","name":"Object","supplementaryInformation":"SpriteMultitouchJoystick::SpriteMultitouchJoystick","type":"object"}],"objectGroups":[]},{"fullName":"","functionType":"ActionWithOperator","getterName":"DeadZoneRadius","name":"SetDeadZoneRadius","sentence":"","events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[],"actions":[{"type":{"value":"SpriteMultitouchJoystick::MultitouchJoystick::SetDeadZoneRadius"},"parameters":["Border","MultitouchJoystick","=","GetArgumentAsNumber(\"Value\")",""]}]}],"parameters":[{"description":"Object","name":"Object","supplementaryInformation":"SpriteMultitouchJoystick::SpriteMultitouchJoystick","type":"object"}],"objectGroups":[]}],"propertyDescriptors":[{"value":"1","type":"Number","label":"Multitouch controller identifier (1, 2, 3, 4...)","description":"","group":"","extraInformation":[],"name":"ControllerIdentifier"},{"value":"Primary","type":"Choice","label":"Joystick name","description":"","group":"","extraInformation":["Primary","Secondary"],"name":"JoystickIdentifier"},{"value":"0.4","type":"Number","label":"Dead zone radius (range: 0 to 1)","description":"The deadzone is an area for which movement on sticks won't be taken into account (instead, the stick will be considered as not moved)","group":"","extraInformation":[],"name":"DeadZoneRadius"},{"value":"Center-center","type":"String","label":"","description":"Only used by the scene editor.","group":"","extraInformation":["Thumb"],"hidden":true,"name":"ThumbAnchorOrigin"},{"value":"Center-center","type":"Number","label":"","description":"Only used by the scene editor.","group":"","extraInformation":[],"hidden":true,"name":"ThumbAnchorTarget"},{"value":"true","type":"Boolean","label":"","description":"Only used by the scene editor.","group":"","extraInformation":["Thumb"],"hidden":true,"name":"ThumbIsScaledProportionally"},{"value":"Center-center","type":"String","label":"","description":"Only used by the scene editor.","group":"","extraInformation":[],"hidden":true,"name":"ParentOrigin"}],"objects":[{"adaptCollisionMaskAutomatically":false,"assetStoreId":"","name":"Thumb","type":"Sprite","updateIfNotVisible":false,"variables":[],"effects":[],"behaviors":[],"animations":[{"name":"Idle","useMultipleDirections":false,"directions":[{"looping":false,"timeBetweenFrames":0.08,"sprites":[]}]}]},{"adaptCollisionMaskAutomatically":false,"assetStoreId":"","name":"Border","type":"Sprite","updateIfNotVisible":false,"variables":[],"effects":[],"behaviors":[{"name":"MultitouchJoystick","type":"SpriteMultitouchJoystick::MultitouchJoystick","ControllerIdentifier":1.0,"JoystickIdentifier":"Primary","FloatingEnabled":false,"DeadZoneRadius":0.4,"JoystickAngle":0.0,"JoystickForce":0.0,"TouchId":0.0,"TouchIndex":0.0}],"animations":[{"name":"Idle","useMultipleDirections":false,"directions":[{"looping":false,"timeBetweenFrames":0.08,"sprites":[]}]}]}],"objectsFolderStructure":{"folderName":"__ROOT","children":[{"objectName":"Thumb"},{"objectName":"Border"}]},"objectsGroups":[],"layers":[{"ambientLightColorB":200,"ambientLightColorG":200,"ambientLightColorR":200,"camera3DFarPlaneDistance":10000.0,"camera3DFieldOfView":45.0,"camera3DNearPlaneDistance":3.0,"cameraType":"","followBaseLayerCamera":false,"isLightingLayer":false,"isLocked":false,"name":"","renderingType":"","visibility":true,"cameras":[{"defaultSize":true,"defaultViewport":true,"height":0.0,"viewportBottom":1.0,"viewportLeft":0.0,"viewportRight":1.0,"viewportTop":0.0,"width":0.0}],"effects":[]}],"instances":[]}]},{"author":"PANDAKO-GitHub","category":"Input","extensionNamespace":"","fullName":"Mouse Pointer Lock","helpPath":"","iconUrl":"data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0idXRmLTgiPz4NCjwhLS0gR2VuZXJhdG9yOiBBZG9iZSBJbGx1c3RyYXRvciAyMy4wLjMsIFNWRyBFeHBvcnQgUGx1Zy1JbiAuIFNWRyBWZXJzaW9uOiA2LjAwIEJ1aWxkIDApICAtLT4NCjxzdmcgdmVyc2lvbj0iMS4xIiBpZD0iSWNvbnMiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgeG1sbnM6eGxpbms9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiIHg9IjBweCIgeT0iMHB4Ig0KCSB2aWV3Qm94PSIwIDAgMzIgMzIiIHN0eWxlPSJlbmFibGUtYmFja2dyb3VuZDpuZXcgMCAwIDMyIDMyOyIgeG1sOnNwYWNlPSJwcmVzZXJ2ZSI+DQo8c3R5bGUgdHlwZT0idGV4dC9jc3MiPg0KCS5zdDB7ZmlsbDpub25lO3N0cm9rZTojMDAwMDAwO3N0cm9rZS13aWR0aDoyO3N0cm9rZS1saW5lY2FwOnJvdW5kO3N0cm9rZS1saW5lam9pbjpyb3VuZDtzdHJva2UtbWl0ZXJsaW1pdDoxMDt9DQo8L3N0eWxlPg0KPHBvbHlsaW5lIGNsYXNzPSJzdDAiIHBvaW50cz0iMTksMTkgMjQsMTkgMjQsMjQgIi8+DQo8cG9seWxpbmUgY2xhc3M9InN0MCIgcG9pbnRzPSI2LDIzIDExLDIzIDExLDE4ICIvPg0KPHBhdGggY2xhc3M9InN0MCIgZD0iTTI0LDE5LjRjLTAuNywwLjgtMS40LDEuNi0yLjIsMi40Yy03LDctMTUuMywxMC4yLTE4LjUsN3MtMC4xLTExLjUsNy0xOC41czE1LjMtMTAuMiwxOC41LTcNCgljMS40LDEuNCwxLjYsMy42LDAuOCw2LjMiLz4NCjxwYXRoIGNsYXNzPSJzdDAiIGQ9Ik0xMSwyMi41Yy0wLjMtMC4yLTAuNS0wLjUtMC44LTAuOGMtNy03LTEwLjItMTUuMy03LTE4LjVzMTEuNS0wLjEsMTguNSw3czEwLjIsMTUuMyw3LDE4LjUNCgljLTEuNywxLjctNC44LDEuNi04LjQsMC4xIi8+DQo8L3N2Zz4NCg==","name":"MousePointerLock","previewIconUrl":"https://resources.gdevelop-app.com/assets/Icons/Line Hero Pack/Master/SVG/Virtual Reality/Virtual Reality_360_rotate_vr_movement.svg","shortDescription":"This behavior removes the limit on the distance the mouse can move and hides the cursor.","version":"0.1.7","description":["This behavior removes the limit on the distance the mouse can move and hides the cursor.","","For example, a user can rotate or continue to manipulate an object by moving the mouse endlessly ([open the project online](https://editor.gdevelop.io/?project=example://mouse-pointer-lock)).","Without the pointer lock, the rotation or operation will stop the moment the pointer reaches the edge of the browser or screen.","","Game players don't have to worry about leaving the gameplay area or accidentally clicking on another application that moves the mouse focus away from the game.","","Locking the pointer locks `CursorX()` and `CursorY()` expressions.","Use `MovementX()` and `MovementY()` instead.",""],"origin":{"identifier":"MousePointerLock","name":"gdevelop-extension-store"},"tags":["mouse","lock","cursor","pointer"],"authorIds":["Zu55H5hcb9YmZTltIVOTAFDJQyB2"],"dependencies":[],"globalVariables":[],"sceneVariables":[],"eventsFunctions":[{"fullName":"","functionType":"Action","name":"onFirstSceneLoaded","sentence":"","events":[{"type":"BuiltinCommonInstructions::JsCode","inlineCode":["const canvas = runtimeScene.getGame().getRenderer().getCanvas();","","gdjs._MousePointerLockExtension = {};","gdjs._MousePointerLockExtension.movement = { x: 0, y: 0 };","gdjs._MousePointerLockExtension.retried = false;","","canvas.addEventListener(\"pointermove\", (e) => {","    gdjs._MousePointerLockExtension.movement.x += e.movementX || 0;","    gdjs._MousePointerLockExtension.movement.y += e.movementY || 0;","}, false);","","document.addEventListener(\"pointerlockerror\", (e) => {","    if (!gdjs._MousePointerLockExtension.retried) {","        canvas.requestPointerLock();","        gdjs._MousePointerLockExtension.retried = true;","    } ","});"],"parameterObjects":"","useStrict":true,"eventsSheetExpanded":true}],"parameters":[],"objectGroups":[]},{"fullName":"","functionType":"Action","name":"onScenePostEvents","sentence":"","events":[{"type":"BuiltinCommonInstructions::JsCode","inlineCode":"gdjs._MousePointerLockExtension.movement = { x: 0, y: 0 };","parameterObjects":"","useStrict":true,"eventsSheetExpanded":false}],"parameters":[],"objectGroups":[]},{"description":"Get the movement of the pointer on the X-axis.","fullName":"Pointer X movement","functionType":"Expression","name":"MovementX","sentence":"","events":[{"type":"BuiltinCommonInstructions::JsCode","inlineCode":"eventsFunctionContext.returnValue = gdjs._MousePointerLockExtension.movement.x || 0;","parameterObjects":"","useStrict":true,"eventsSheetExpanded":false}],"expressionType":{"type":"expression"},"parameters":[],"objectGroups":[]},{"description":"Get the movement of the pointer on the Y-axis.","fullName":"Pointer Y movement","functionType":"Expression","name":"MovementY","sentence":"","events":[{"type":"BuiltinCommonInstructions::JsCode","inlineCode":"eventsFunctionContext.returnValue = gdjs._MousePointerLockExtension.movement.y || 0;","parameterObjects":"","useStrict":true,"eventsSheetExpanded":false}],"expressionType":{"type":"expression"},"parameters":[],"objectGroups":[]},{"description":"Lock the mouse pointer to hide it.","fullName":"Request Pointer Lock","functionType":"Action","name":"RequestPointerLock","sentence":"Request Pointer Lock","events":[{"type":"BuiltinCommonInstructions::JsCode","inlineCode":["const canvas = runtimeScene.getGame().getRenderer().getCanvas();\r","if (canvas.requestPointerLock && !document.pointerLockElement) {\r","    canvas.requestPointerLock({ unadjustedMovement: true });\r","    gdjs._MousePointerLockExtension.retried = false;\r","}"],"parameterObjects":"","useStrict":true,"eventsSheetExpanded":true}],"parameters":[],"objectGroups":[]},{"description":"Unlocks the mouse pointer and show it.","fullName":"Exit pointer lock","functionType":"Action","name":"ExitPointerLock","sentence":"Exit pointer lock","events":[{"type":"BuiltinCommonInstructions::JsCode","inlineCode":["if (document.exitPointerLock) {\r","    document.exitPointerLock();\r","}"],"parameterObjects":"","useStrict":true,"eventsSheetExpanded":false}],"parameters":[],"objectGroups":[]},{"description":"Check if the mouse pointer is locked.","fullName":"Pointer is locked","functionType":"Condition","name":"isPointerLocked","sentence":"The mouse pointer is locked","events":[{"type":"BuiltinCommonInstructions::JsCode","inlineCode":"eventsFunctionContext.returnValue = document.pointerLockElement ? true : false;","parameterObjects":"","useStrict":true,"eventsSheetExpanded":false}],"parameters":[],"objectGroups":[]}],"eventsBasedBehaviors":[],"eventsBasedObjects":[]},{"author":"","category":"General","extensionNamespace":"","fullName":"3D raycast","helpPath":"","iconUrl":"data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiPz48IURPQ1RZUEUgc3ZnIFBVQkxJQyAiLS8vVzNDLy9EVEQgU1ZHIDEuMS8vRU4iICJodHRwOi8vd3d3LnczLm9yZy9HcmFwaGljcy9TVkcvMS4xL0RURC9zdmcxMS5kdGQiPjxzdmcgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayIgdmVyc2lvbj0iMS4xIiBpZD0ibWRpLXJheS1zdGFydC1hcnJvdyIgd2lkdGg9IjI0IiBoZWlnaHQ9IjI0IiB2aWV3Qm94PSIwIDAgMjQgMjQiPjxwYXRoIGQ9Ik0yMywxMkwxOSwxNlYxM0g2LjgzQzYuNDIsMTQuMTcgNS4zMSwxNSA0LDE1QTMsMyAwIDAsMSAxLDEyQTMsMyAwIDAsMSA0LDlDNS4zMSw5IDYuNDIsOS44MyA2LjgzLDExSDE5VjhMMjMsMTJaIiAvPjwvc3ZnPg==","name":"Raycaster3D","previewIconUrl":"https://asset-resources.gdevelop.io/public-resources/Icons/8419f46b76bce482c14b4c03b4141a64d457e4cdc92686f3470381f5d2694abd_ray-start-arrow.svg","shortDescription":"Find 3D objects that cross a line.","version":"0.1.4","description":["It can be useful to:","- Find 3D objects under the pointer","- Target objects from a 1st person view","- Make AI that detect objects in their field of view"],"origin":{"identifier":"Raycaster3D","name":"gdevelop-extension-store"},"tags":["3d","recast","collision"],"authorIds":["IWykYNRvhCZBN3vEgKEbBPOR3Oc2"],"dependencies":[],"globalVariables":[],"sceneVariables":[],"eventsFunctions":[{"fullName":"","functionType":"Action","name":"onFirstSceneLoaded","sentence":"","events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[],"actions":[{"type":{"value":"Raycaster3D::DefineHelperClasses"},"parameters":["",""]}]}],"parameters":[],"objectGroups":[]},{"description":"Define helper classes JavaScript code.","fullName":"Define helper classes","functionType":"Action","name":"DefineHelperClasses","private":true,"sentence":"Define helper classes JavaScript code","events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"GlobalVariableAsBoolean"},"parameters":["_Raycaster3DExtension_ClassesDefined",""]}],"actions":[{"type":{"value":"SetGlobalVariableAsBoolean"},"parameters":["_Raycaster3DExtension_ClassesDefined","True"]}],"events":[{"type":"BuiltinCommonInstructions::JsCode","inlineCode":["gdjs.__raycaster3DExtension = gdjs.__raycaster3DExtension || {};","","class Raycaster {","    raycaster = new THREE.Raycaster();","    pointer = new THREE.Vector2();","    raycastResults = [];","    lastDistance = 0;","    lastPositionX = 0;","    lastPositionY = 0;","    lastPositionZ = 0;","    lastNormalX = 0;","    lastNormalY = 0;","    lastNormalZ = 0;","","    /**","     * @param objectsLists {Hashtable<gdjs.RuntimeObject[]>}","     * @param objects {gdjs.RuntimeObject[]}","     * @param pointerX {number}","     * @param pointerY {number}","     * @param distanceMax {number}","     */","    recastFromCamera(objectsLists, objects, pointerX, pointerY, distanceMax) {","        if (objects.length === 0) {","            return false;","        }","        const object = objects[0];","        const layer = object.getInstanceContainer().getLayer(object.getLayer());","        const camera = layer.getRenderer().getThreeCamera();","","        const raycaster = this.raycaster;","        const pointer = this.pointer;","        pointer.x = -1 + 2 * pointerX;","        pointer.y = 1 - 2 * pointerY;","        raycaster.setFromCamera(pointer, camera);","        raycaster.far = distanceMax;","","        return this._doRecast(objectsLists, objects);","    }","","    /**","     * @param objectsLists {Hashtable<gdjs.RuntimeObject[]>}","     * @param objects {gdjs.RuntimeObject[]}","     * @param originX {number}","     * @param originY {number}","     * @param originZ {number}","     * @param rotationAngle {number}","     * @param elevationAngle {number}","     * @param distanceMax {number}","     */","    recastWithAngle(","        objectsLists,","        objects,","        originX,","        originY,","        originZ,","        rotationAngle,","        elevationAngle,","        distanceMax","    ) {","        if (objects.length === 0) {","            return false;","        }","        const raycaster = this.raycaster;","        raycaster.ray.origin.set(","            originX,","            -originY,","            originZ,","        );","        const rotation = rotationAngle * Math.PI / 180;","        const elevation = elevationAngle * Math.PI / 180;","        const cosElevation = Math.cos(elevation);","        raycaster.ray.direction.set(","            Math.cos(rotation) * cosElevation,","            -Math.sin(rotation) * cosElevation,","            Math.sin(elevation),","        );","        raycaster.far = distanceMax;","","        return this._doRecast(objectsLists, objects);","    }","","    /**","     * @param objectsLists {Hashtable<gdjs.RuntimeObject[]>}","     * @param objects {gdjs.RuntimeObject[]}","     * @param originX {number}","     * @param originY {number}","     * @param originZ {number}","     * @param targetX {number}","     * @param targetY {number}","     * @param targetZ {number}","     * @param distanceMax {number}","     */","    recastBetweenPosition(","        objectsLists,","        objects,","        originX,","        originY,","        originZ,","        targetX,","        targetY,","        targetZ","    ) {","        if (objects.length === 0) {","            return false;","        }","        const raycaster = this.raycaster;","        raycaster.ray.origin.set(","            originX,","            -originY,","            originZ,","        );","        const deltaX = targetX - originX;","        const deltaY = targetY - originY;","        const deltaZ = targetZ - originZ;","        const deltaLength = Math.hypot(deltaX, deltaY, deltaZ);","        raycaster.ray.direction.set(","            deltaX / deltaLength,","            -deltaY / deltaLength,","            deltaZ / deltaLength,","        );","        raycaster.far = deltaLength;","","        return this._doRecast(objectsLists, objects);","    }","","    /**","     * @param objectsLists {Hashtable<gdjs.RuntimeObject[]>}","     * @param objects {gdjs.RuntimeObject[]}","     */","    _doRecast(objectsLists, objects) {","        const raycastResults = this.raycastResults;","        let distanceMin = Number.MAX_VALUE;","        let nearestObject = null;","        for (const object of objects) {","            raycastResults.length = 0;","            const threeObject = object.get3DRendererObject();","            if (!threeObject) {","                continue;","            }","            this.raycaster.intersectObject(threeObject, true, raycastResults);","            if (raycastResults.length > 0 && raycastResults[0].distance < distanceMin) {","                const raycastResult = raycastResults[0];","                distanceMin = raycastResult.distance;","                nearestObject = object;","                this.lastDistance = raycastResult.distance;","                this.lastPositionX = raycastResult.point.x;","                this.lastPositionY = -raycastResult.point.y;","                this.lastPositionZ = raycastResult.point.z;","                this.lastNormalX = raycastResult.normal.x;","                this.lastNormalY = raycastResult.normal.y;","                this.lastNormalZ = raycastResult.normal.z;","            }","        }","        if (!nearestObject) {","            return false;","        }","        raycastResults.length = 0;","        gdjs.evtTools.object.pickOnly(","            objectsLists,","            nearestObject","        );","        return true;","    }","}","","gdjs.__raycaster3DExtension.Raycaster = Raycaster;","gdjs.__raycaster3DExtension.raycaster = new Raycaster();",""],"parameterObjects":"","useStrict":true,"eventsSheetExpanded":true}]}],"parameters":[],"objectGroups":[]},{"description":"Sends a ray from the given source position and angle, intersecting the closest object. The intersected object will become the only one taken into account.","fullName":"Raycast","functionType":"Condition","group":"Collision","name":"RaycastWithAngle","sentence":"Cast a ray from _PARAM2_; _PARAM3_; _PARAM4_ toward a rotation of _PARAM5_, an elevation of _PARAM6_ and max distance of _PARAM7_ against _PARAM1_","events":[{"type":"BuiltinCommonInstructions::JsCode","inlineCode":["eventsFunctionContext.returnValue =","    gdjs.__raycaster3DExtension.raycaster.recastWithAngle(","        eventsFunctionContext.getObjectsLists(\"Object\"),","        objects,","        eventsFunctionContext.getArgument(\"OriginX\"),","        eventsFunctionContext.getArgument(\"OriginY\"),","        eventsFunctionContext.getArgument(\"OriginZ\"),","        eventsFunctionContext.getArgument(\"RotationAngle\"),","        eventsFunctionContext.getArgument(\"ElevationAngle\"),","        eventsFunctionContext.getArgument(\"DistanceMax\")","    );",""],"parameterObjects":"Object","useStrict":true,"eventsSheetExpanded":true}],"parameters":[{"description":"Objects to test against the ray","name":"Object","type":"objectList"},{"description":"Ray source X position","name":"OriginX","type":"expression"},{"description":"Ray source Y position","name":"OriginY","type":"expression"},{"description":"Ray source Z position","name":"OriginZ","type":"expression"},{"description":"Rotation angle (in degrees)","name":"RotationAngle","type":"expression"},{"description":"Elevation angle (in degrees)","name":"ElevationAngle","type":"expression"},{"description":"Ray maximum distance (in pixels)","name":"DistanceMax","type":"expression"}],"objectGroups":[]},{"description":"Sends a ray from the given source position to the final point, intersecting the closest object. The intersected object will become the only one taken into account.","fullName":"Raycast to a position","functionType":"Condition","group":"Collision","name":"RaycastBetweenPosition","sentence":"Cast a ray from _PARAM2_; _PARAM3_; _PARAM4_ to _PARAM5_; _PARAM6_; _PARAM7_ against _PARAM1_","events":[{"type":"BuiltinCommonInstructions::JsCode","inlineCode":["eventsFunctionContext.returnValue =","    gdjs.__raycaster3DExtension.raycaster.recastBetweenPosition(","        eventsFunctionContext.getObjectsLists(\"Object\"),","        objects,","        eventsFunctionContext.getArgument(\"OriginX\"),","        eventsFunctionContext.getArgument(\"OriginY\"),","        eventsFunctionContext.getArgument(\"OriginZ\"),","        eventsFunctionContext.getArgument(\"TargetX\"),","        eventsFunctionContext.getArgument(\"TargetY\"),","        eventsFunctionContext.getArgument(\"TargetZ\")","    );",""],"parameterObjects":"Object","useStrict":true,"eventsSheetExpanded":true}],"parameters":[{"description":"Objects to test against the ray","name":"Object","type":"objectList"},{"description":"Ray source X position","name":"OriginX","type":"expression"},{"description":"Ray source Y position","name":"OriginY","type":"expression"},{"description":"Ray source Z position","name":"OriginZ","type":"expression"},{"description":"Ray target X position","name":"TargetX","type":"expression"},{"description":"Ray target Y position","name":"TargetY","type":"expression"},{"description":"Ray target Z position","name":"TargetZ","type":"expression"}],"objectGroups":[]},{"description":"Sends a ray from the center of the camera, intersecting the closest object. The intersected object will become the only one taken into account.","fullName":"Raycast from camera center","functionType":"Condition","group":"Collision","name":"RaycastFromCameraCenter","sentence":"Cast a ray from the camera center to a maximum distance of _PARAM2_ against _PARAM1_","events":[{"type":"BuiltinCommonInstructions::JsCode","inlineCode":["eventsFunctionContext.returnValue =","    gdjs.__raycaster3DExtension.raycaster.recastFromCamera(","        eventsFunctionContext.getObjectsLists(\"Object\"),","        objects,","        0.5,","        0.5,","        eventsFunctionContext.getArgument(\"DistanceMax\")","    );",""],"parameterObjects":"Object","useStrict":true,"eventsSheetExpanded":true}],"parameters":[{"description":"Objects to test against the ray","name":"Object","type":"objectList"},{"description":"Ray maximum distance (in pixels)","name":"DistanceMax","type":"expression"}],"objectGroups":[]},{"description":"Sends a ray from the given source point on the camera screen, intersecting the closest object. The intersected object will become the only one taken into account.","fullName":"Raycast from a camera point","functionType":"Condition","group":"Collision","name":"RaycastFromCameraPoint","sentence":"Cast a ray from the camera point _PARAM2_; _PARAM3_ to a maximum distance of _PARAM4_ against _PARAM1_","events":[{"type":"BuiltinCommonInstructions::JsCode","inlineCode":["eventsFunctionContext.returnValue =","    gdjs.__raycaster3DExtension.raycaster.recastFromCamera(","        eventsFunctionContext.getObjectsLists(\"Object\"),","        objects,","        eventsFunctionContext.getArgument(\"PointerX\"),","        eventsFunctionContext.getArgument(\"PointerY\"),","        eventsFunctionContext.getArgument(\"DistanceMax\")","    );",""],"parameterObjects":"Object","useStrict":true,"eventsSheetExpanded":true}],"parameters":[{"description":"Objects to test against the ray","name":"Object","type":"objectList"},{"description":"X position on the screen (from 0 to 1)","name":"PointerX","type":"expression"},{"description":"Y position on the screen (from 0 to 1)","name":"PointerY","type":"expression"},{"description":"Ray maximum distance (in pixels)","name":"DistanceMax","type":"expression"}],"objectGroups":[]},{"description":"the last recast intersection distance.","fullName":"Last recast distance","functionType":"ExpressionAndCondition","name":"Distance","sentence":"the last recast intersection distance","events":[{"type":"BuiltinCommonInstructions::JsCode","inlineCode":"eventsFunctionContext.returnValue = gdjs.__raycaster3DExtension.raycaster.lastDistance;","parameterObjects":"","useStrict":true,"eventsSheetExpanded":false}],"expressionType":{"type":"expression"},"parameters":[],"objectGroups":[]},{"description":"Return the last recast intersection position on X axis.","fullName":"Last recast X intersection","functionType":"Expression","name":"IntersectionX","sentence":"","events":[{"type":"BuiltinCommonInstructions::JsCode","inlineCode":"eventsFunctionContext.returnValue = gdjs.__raycaster3DExtension.raycaster.lastPositionX;","parameterObjects":"","useStrict":true,"eventsSheetExpanded":false}],"expressionType":{"type":"expression"},"parameters":[],"objectGroups":[]},{"description":"Return the last recast intersection position on Y axis.","fullName":"Last recast Y intersection","functionType":"Expression","name":"IntersectionY","sentence":"","events":[{"type":"BuiltinCommonInstructions::JsCode","inlineCode":"eventsFunctionContext.returnValue = gdjs.__raycaster3DExtension.raycaster.lastPositionY;","parameterObjects":"","useStrict":true,"eventsSheetExpanded":false}],"expressionType":{"type":"expression"},"parameters":[],"objectGroups":[]},{"description":"Return the last recast intersection position on Z axis.","fullName":"Last recast Z intersection","functionType":"Expression","name":"IntersectionZ","sentence":"","events":[{"type":"BuiltinCommonInstructions::JsCode","inlineCode":"eventsFunctionContext.returnValue = gdjs.__raycaster3DExtension.raycaster.lastPositionZ;","parameterObjects":"","useStrict":true,"eventsSheetExpanded":false}],"expressionType":{"type":"expression"},"parameters":[],"objectGroups":[]},{"description":"Return the last recast intersection normal on X axis.","fullName":"Last recast X normal","functionType":"Expression","name":"NormalX","sentence":"","events":[{"type":"BuiltinCommonInstructions::JsCode","inlineCode":"eventsFunctionContext.returnValue = gdjs.__raycaster3DExtension.raycaster.lastNormalX;","parameterObjects":"","useStrict":true,"eventsSheetExpanded":false}],"expressionType":{"type":"expression"},"parameters":[],"objectGroups":[]},{"description":"Return the last recast intersection normal on X axis.","fullName":"Last recast X normal","functionType":"Expression","name":"NormalY","sentence":"","events":[{"type":"BuiltinCommonInstructions::JsCode","inlineCode":"eventsFunctionContext.returnValue = gdjs.__raycaster3DExtension.raycaster.lastNormalY;","parameterObjects":"","useStrict":true,"eventsSheetExpanded":false}],"expressionType":{"type":"expression"},"parameters":[],"objectGroups":[]},{"description":"Return the last recast intersection normal on Z axis.","fullName":"Last recast Z normal","functionType":"Expression","name":"NormalZ","sentence":"","events":[{"type":"BuiltinCommonInstructions::JsCode","inlineCode":"eventsFunctionContext.returnValue = gdjs.__raycaster3DExtension.raycaster.lastNormalZ;","parameterObjects":"","useStrict":true,"eventsSheetExpanded":false}],"expressionType":{"type":"expression"},"parameters":[],"objectGroups":[]}],"eventsBasedBehaviors":[],"eventsBasedObjects":[]},{"author":"","category":"User interface","extensionNamespace":"","fullName":"Toggle switch","helpPath":"/objects/toggle-switch","iconUrl":"data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0idXRmLTgiPz4NCjwhLS0gR2VuZXJhdG9yOiBBZG9iZSBJbGx1c3RyYXRvciAyMy4wLjMsIFNWRyBFeHBvcnQgUGx1Zy1JbiAuIFNWRyBWZXJzaW9uOiA2LjAwIEJ1aWxkIDApICAtLT4NCjxzdmcgdmVyc2lvbj0iMS4xIiBpZD0iSWNvbnMiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgeG1sbnM6eGxpbms9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiIHg9IjBweCIgeT0iMHB4Ig0KCSB2aWV3Qm94PSIwIDAgMzIgMzIiIHN0eWxlPSJlbmFibGUtYmFja2dyb3VuZDpuZXcgMCAwIDMyIDMyOyIgeG1sOnNwYWNlPSJwcmVzZXJ2ZSI+DQo8c3R5bGUgdHlwZT0idGV4dC9jc3MiPg0KCS5zdDB7ZmlsbDpub25lO3N0cm9rZTojMDAwMDAwO3N0cm9rZS13aWR0aDoyO3N0cm9rZS1saW5lY2FwOnJvdW5kO3N0cm9rZS1saW5lam9pbjpyb3VuZDtzdHJva2UtbWl0ZXJsaW1pdDoxMDt9DQo8L3N0eWxlPg0KPHBhdGggY2xhc3M9InN0MCIgZD0iTTIzLDIzSDljLTMuOSwwLTctMy4xLTctN3YwYzAtMy45LDMuMS03LDctN2gxNGMzLjksMCw3LDMuMSw3LDd2MEMzMCwxOS45LDI2LjksMjMsMjMsMjN6Ii8+DQo8Y2lyY2xlIGNsYXNzPSJzdDAiIGN4PSI5IiBjeT0iMTYiIHI9IjQiLz4NCjwvc3ZnPg0K","name":"SpriteToggleSwitch","previewIconUrl":"https://asset-resources.gdevelop.io/public-resources/Icons/Line Hero Pack/Master/SVG/Interface Elements/8d0cd8cd0c9318f4f6efde6ee6b4c192bd19306467f80c9970387a259300f895_Interface Elements_interface_ui_toggle_switch_on_off.svg","shortDescription":"Toggle switch that users can click or touch.","version":"1.3.2","description":["Toggle switch that users can click or touch. The switch can be customized with sprites.","","There are ready-to-use toggle switches in the asset-store [settings UI pack](https://editor.gdevelop.io/?initial-dialog=asset-store&asset-pack=settings-ui-settings-ui)."],"origin":{"identifier":"SpriteToggleSwitch","name":"gdevelop-extension-store"},"tags":["ui","widget","toggle","switch","check box"],"authorIds":["IWykYNRvhCZBN3vEgKEbBPOR3Oc2","gqDaZjCfevOOxBYkK6zlhtZnXCg1"],"dependencies":[],"globalVariables":[],"sceneVariables":[],"eventsFunctions":[],"eventsBasedBehaviors":[{"description":"The finite state machine used internally by the switch object.","fullName":"Switch finite state machine","name":"SwitchFSM","objectType":"","private":true,"eventsFunctions":[{"fullName":"","functionType":"Action","name":"doStepPreEvents","sentence":"","events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[],"actions":[{"type":{"value":"SpriteToggleSwitch::SwitchFSM::SetPropertyWasChecked"},"parameters":["Object","Behavior","no"]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"SpriteToggleSwitch::SwitchFSM::IsChecked"},"parameters":["Object","Behavior",""]}],"actions":[{"type":{"value":"SpriteToggleSwitch::SwitchFSM::SetPropertyWasChecked"},"parameters":["Object","Behavior","yes"]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"SpriteToggleSwitch::ButtonFSM::IsClicked"},"parameters":["Object","ButtonFSM",""]}],"actions":[{"type":{"value":"SpriteToggleSwitch::SwitchFSM::TogglePropertyIsChecked"},"parameters":["Object","Behavior"]}]}],"parameters":[{"description":"Object","name":"Object","type":"object"},{"description":"Behavior","name":"Behavior","supplementaryInformation":"SpriteToggleSwitch::SwitchFSM","type":"behavior"}],"objectGroups":[]},{"description":"Check if the toggle switch is checked.","fullName":"Is checked","functionType":"Condition","name":"IsChecked","sentence":"_PARAM0_ is checked","events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"SpriteToggleSwitch::SwitchFSM::PropertyIsChecked"},"parameters":["Object","Behavior"]}],"actions":[{"type":{"value":"SetReturnBoolean"},"parameters":["True"]}]}],"parameters":[{"description":"Object","name":"Object","type":"object"},{"description":"Behavior","name":"Behavior","supplementaryInformation":"SpriteToggleSwitch::SwitchFSM","type":"behavior"}],"objectGroups":[]},{"description":"Check if the toggle switch was checked in the current frame.","fullName":"Has just been checked","functionType":"Condition","name":"HasJustBeenChecked","sentence":"_PARAM0_ has just been checked","events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"SpriteToggleSwitch::SwitchFSM::PropertyIsChecked"},"parameters":["Object","Behavior"]},{"type":{"inverted":true,"value":"SpriteToggleSwitch::SwitchFSM::PropertyWasChecked"},"parameters":["Object","Behavior"]}],"actions":[{"type":{"value":"SetReturnBoolean"},"parameters":["True"]}]}],"parameters":[{"description":"Object","name":"Object","type":"object"},{"description":"Behavior","name":"Behavior","supplementaryInformation":"SpriteToggleSwitch::SwitchFSM","type":"behavior"}],"objectGroups":[]},{"description":"Check if the toggle switch was unchecked in the current frame.","fullName":"Has just been unchecked","functionType":"Condition","name":"HasJustBeenUnchecked","sentence":"_PARAM0_ has just been unchecked","events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"inverted":true,"value":"SpriteToggleSwitch::SwitchFSM::PropertyIsChecked"},"parameters":["Object","Behavior"]},{"type":{"value":"SpriteToggleSwitch::SwitchFSM::PropertyWasChecked"},"parameters":["Object","Behavior"]}],"actions":[{"type":{"value":"SetReturnBoolean"},"parameters":["True"]}]}],"parameters":[{"description":"Object","name":"Object","type":"object"},{"description":"Behavior","name":"Behavior","supplementaryInformation":"SpriteToggleSwitch::SwitchFSM","type":"behavior"}],"objectGroups":[]},{"description":"Check if the toggle switch was toggled in the current frame.","fullName":"Has just been toggled","functionType":"Condition","name":"HasJustBeenToggled","sentence":"_PARAM0_ has just been toggled","events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"SpriteToggleSwitch::SwitchFSM::HasJustBeenChecked"},"parameters":["Object","Behavior",""]}],"actions":[{"type":{"value":"SetReturnBoolean"},"parameters":["True"]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"SpriteToggleSwitch::SwitchFSM::HasJustBeenUnchecked"},"parameters":["Object","Behavior",""]}],"actions":[{"type":{"value":"SetReturnBoolean"},"parameters":["True"]}]}],"parameters":[{"description":"Object","name":"Object","type":"object"},{"description":"Behavior","name":"Behavior","supplementaryInformation":"SpriteToggleSwitch::SwitchFSM","type":"behavior"}],"objectGroups":[]},{"description":"Check (or uncheck) the toggle switch.","fullName":"Check (or uncheck)","functionType":"Action","name":"SetChecked","sentence":"Check _PARAM0_: _PARAM2_","events":[{"type":"BuiltinCommonInstructions::Comment","color":{"b":109,"g":230,"r":255,"textB":0,"textG":0,"textR":0},"comment":"Avoid a started touch to interfere with a state change from events."},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"BuiltinCommonInstructions::Or"},"parameters":[],"subInstructions":[{"type":{"value":"BuiltinCommonInstructions::And"},"parameters":[],"subInstructions":[{"type":{"inverted":true,"value":"GetArgumentAsBoolean"},"parameters":["\"Value\""]},{"type":{"value":"SpriteToggleSwitch::SwitchFSM::IsChecked"},"parameters":["Object","Behavior",""]}]},{"type":{"value":"BuiltinCommonInstructions::And"},"parameters":[],"subInstructions":[{"type":{"value":"GetArgumentAsBoolean"},"parameters":["\"Value\""]},{"type":{"inverted":true,"value":"SpriteToggleSwitch::SwitchFSM::IsChecked"},"parameters":["Object","Behavior",""]}]}]}],"actions":[{"type":{"value":"SpriteToggleSwitch::ButtonFSM::ResetState"},"parameters":["Object","ButtonFSM",""]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"inverted":true,"value":"GetArgumentAsBoolean"},"parameters":["\"Value\""]}],"actions":[{"type":{"value":"SpriteToggleSwitch::SwitchFSM::SetPropertyIsChecked"},"parameters":["Object","Behavior","no"]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"GetArgumentAsBoolean"},"parameters":["\"Value\""]}],"actions":[{"type":{"value":"SpriteToggleSwitch::SwitchFSM::SetPropertyIsChecked"},"parameters":["Object","Behavior","yes"]}]}],"parameters":[{"description":"Object","name":"Object","type":"object"},{"description":"Behavior","name":"Behavior","supplementaryInformation":"SpriteToggleSwitch::SwitchFSM","type":"behavior"},{"defaultValue":"yes","description":"IsChecked","name":"Value","optional":true,"type":"yesorno"}],"objectGroups":[]},{"description":"Toggle the switch.","fullName":"Toggle","functionType":"Action","name":"ToggleChecked","sentence":"Toggle _PARAM0_","events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[],"actions":[{"type":{"value":"SpriteToggleSwitch::SwitchFSM::SetPropertyPreviousIsChecked"},"parameters":["Object","Behavior",""]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"SpriteToggleSwitch::SwitchFSM::IsChecked"},"parameters":["Object","Behavior",""]}],"actions":[{"type":{"value":"SpriteToggleSwitch::SwitchFSM::SetPropertyPreviousIsChecked"},"parameters":["Object","Behavior","yes"]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"SpriteToggleSwitch::SwitchFSM::PropertyPreviousIsChecked"},"parameters":["Object","Behavior"]}],"actions":[{"type":{"value":"SpriteToggleSwitch::SwitchFSM::SetChecked"},"parameters":["Object","Behavior","no",""]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"inverted":true,"value":"SpriteToggleSwitch::SwitchFSM::PropertyPreviousIsChecked"},"parameters":["Object","Behavior"]}],"actions":[{"type":{"value":"SpriteToggleSwitch::SwitchFSM::SetChecked"},"parameters":["Object","Behavior","yes",""]}]}],"parameters":[{"description":"Object","name":"Object","type":"object"},{"description":"Behavior","name":"Behavior","supplementaryInformation":"SpriteToggleSwitch::SwitchFSM","type":"behavior"}],"objectGroups":[]}],"propertyDescriptors":[{"value":"","type":"Behavior","label":"Button finite state machine","description":"","group":"","extraInformation":["SpriteToggleSwitch::ButtonFSM"],"name":"ButtonFSM"},{"value":"false","type":"Boolean","label":"Is checked","description":"","group":"","extraInformation":[],"name":"IsChecked"},{"value":"","type":"Boolean","label":"","description":"","group":"","extraInformation":[],"name":"PreviousIsChecked"},{"value":"","type":"Boolean","label":"","description":"","group":"","extraInformation":[],"hidden":true,"name":"WasChecked"}],"sharedPropertyDescriptors":[]},{"description":"The finite state machine used internally by the button object.","fullName":"Button finite state machine","name":"ButtonFSM","objectType":"","private":true,"eventsFunctions":[{"fullName":"","functionType":"Action","name":"doStepPostEvents","sentence":"","events":[{"colorB":228,"colorG":176,"colorR":74,"creationTime":0,"name":"Finite state machine","source":"","type":"BuiltinCommonInstructions::Group","events":[{"type":"BuiltinCommonInstructions::Comment","color":{"b":109,"g":230,"r":255,"textB":0,"textG":0,"textR":0},"comment":"The \"Validated\" state only last one frame."},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"SpriteToggleSwitch::ButtonFSM::PropertyState"},"parameters":["Object","Behavior","=","\"Validated\""]}],"actions":[{"type":{"value":"SpriteToggleSwitch::ButtonFSM::SetPropertyState"},"parameters":["Object","Behavior","=","\"Idle\""]}]},{"colorB":228,"colorG":176,"colorR":74,"creationTime":0,"name":"Check position","source":"","type":"BuiltinCommonInstructions::Group","events":[{"type":"BuiltinCommonInstructions::Comment","color":{"b":109,"g":230,"r":255,"textB":0,"textG":0,"textR":0},"comment":"Make sure the cursor position is only checked once per frame."},{"type":"BuiltinCommonInstructions::Standard","conditions":[],"actions":[{"type":{"value":"SpriteToggleSwitch::ButtonFSM::SetPropertyMouseIsInside"},"parameters":["Object","Behavior","no"]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"SpriteToggleSwitch::ButtonFSM::PropertyShouldCheckHovering"},"parameters":["Object","Behavior"]},{"type":{"value":"CollisionPoint"},"parameters":["Object","MouseOnlyCursorX(Object.Layer(), 0)","MouseOnlyCursorY(Object.Layer(), 0)"]}],"actions":[{"type":{"value":"SpriteToggleSwitch::ButtonFSM::SetPropertyMouseIsInside"},"parameters":["Object","Behavior","yes"]}]},{"type":"BuiltinCommonInstructions::Comment","color":{"b":109,"g":230,"r":255,"textB":0,"textG":0,"textR":0},"comment":"Touches are always pressed, so ShouldCheckHovering doesn't matter."},{"type":"BuiltinCommonInstructions::Standard","conditions":[],"actions":[{"type":{"value":"SpriteToggleSwitch::ButtonFSM::SetPropertyTouchIsInside"},"parameters":["Object","Behavior","no"]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"SpriteToggleSwitch::ButtonFSM::PropertyTouchId"},"parameters":["Object","Behavior","!=","0"]},{"type":{"value":"CollisionPoint"},"parameters":["Object","TouchX(TouchId, Object.Layer(), 0)","TouchY(TouchId, Object.Layer(), 0)"]}],"actions":[{"type":{"value":"SpriteToggleSwitch::ButtonFSM::SetPropertyTouchIsInside"},"parameters":["Object","Behavior","yes"]}]}],"parameters":[]},{"colorB":228,"colorG":176,"colorR":74,"creationTime":0,"name":"Handle touch start","source":"","type":"BuiltinCommonInstructions::Group","events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"HasAnyTouchOrMouseStarted"},"parameters":[""]}],"actions":[{"type":{"value":"SpriteToggleSwitch::ButtonFSM::SetPropertyIndex"},"parameters":["Object","Behavior","=","0"]}],"events":[{"type":"BuiltinCommonInstructions::Repeat","repeatExpression":"StartedTouchOrMouseCount()","conditions":[],"actions":[],"events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"CollisionPoint"},"parameters":["Object","TouchX(StartedTouchOrMouseId(Index), Object.Layer(), 0)","TouchY(StartedTouchOrMouseId(Index), Object.Layer(), 0)"]}],"actions":[{"type":{"value":"SpriteToggleSwitch::ButtonFSM::SetPropertyTouchId"},"parameters":["Object","Behavior","=","StartedTouchOrMouseId(Index)"]},{"type":{"value":"SpriteToggleSwitch::ButtonFSM::SetPropertyTouchIsInside"},"parameters":["Object","Behavior","yes"]}],"events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"BuiltinCommonInstructions::Or"},"parameters":[],"subInstructions":[{"type":{"value":"SpriteToggleSwitch::ButtonFSM::PropertyState"},"parameters":["Object","Behavior","=","\"Hovered\""]},{"type":{"value":"SpriteToggleSwitch::ButtonFSM::PropertyState"},"parameters":["Object","Behavior","=","\"Idle\""]}]}],"actions":[{"type":{"value":"SpriteToggleSwitch::ButtonFSM::SetPropertyState"},"parameters":["Object","Behavior","=","\"PressedInside\""]}]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[],"actions":[{"type":{"value":"SpriteToggleSwitch::ButtonFSM::SetPropertyIndex"},"parameters":["Object","Behavior","+","1"]}]}]}]}],"parameters":[]},{"colorB":228,"colorG":176,"colorR":74,"creationTime":0,"name":"Apply position changes","source":"","type":"BuiltinCommonInstructions::Group","events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"inverted":true,"value":"SpriteToggleSwitch::ButtonFSM::PropertyMouseIsInside"},"parameters":["Object","Behavior"]},{"type":{"value":"SpriteToggleSwitch::ButtonFSM::PropertyState"},"parameters":["Object","Behavior","=","\"Hovered\""]}],"actions":[{"type":{"value":"SpriteToggleSwitch::ButtonFSM::SetPropertyState"},"parameters":["Object","Behavior","=","\"Idle\""]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"SpriteToggleSwitch::ButtonFSM::PropertyMouseIsInside"},"parameters":["Object","Behavior"]},{"type":{"value":"SpriteToggleSwitch::ButtonFSM::PropertyState"},"parameters":["Object","Behavior","=","\"Idle\""]}],"actions":[{"type":{"value":"SpriteToggleSwitch::ButtonFSM::SetPropertyState"},"parameters":["Object","Behavior","=","\"Hovered\""]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"inverted":true,"value":"SpriteToggleSwitch::ButtonFSM::PropertyTouchIsInside"},"parameters":["Object","Behavior"]},{"type":{"value":"SpriteToggleSwitch::ButtonFSM::PropertyState"},"parameters":["Object","Behavior","=","\"PressedInside\""]}],"actions":[{"type":{"value":"SpriteToggleSwitch::ButtonFSM::SetPropertyState"},"parameters":["Object","Behavior","=","\"PressedOutside\""]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"SpriteToggleSwitch::ButtonFSM::PropertyTouchIsInside"},"parameters":["Object","Behavior"]},{"type":{"value":"SpriteToggleSwitch::ButtonFSM::PropertyState"},"parameters":["Object","Behavior","=","\"PressedOutside\""]}],"actions":[{"type":{"value":"SpriteToggleSwitch::ButtonFSM::SetPropertyState"},"parameters":["Object","Behavior","=","\"PressedInside\""]}]}],"parameters":[]},{"colorB":228,"colorG":176,"colorR":74,"creationTime":0,"name":"Handle touch end","source":"","type":"BuiltinCommonInstructions::Group","events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"HasTouchEnded"},"parameters":["","TouchId"]}],"actions":[{"type":{"value":"SpriteToggleSwitch::ButtonFSM::SetPropertyTouchId"},"parameters":["Object","Behavior","=","0"]}],"events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"SpriteToggleSwitch::ButtonFSM::PropertyState"},"parameters":["Object","Behavior","=","\"PressedInside\""]}],"actions":[{"type":{"value":"SpriteToggleSwitch::ButtonFSM::SetPropertyState"},"parameters":["Object","Behavior","=","\"Validated\""]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"inverted":true,"value":"SpriteToggleSwitch::ButtonFSM::PropertyState"},"parameters":["Object","Behavior","=","\"PressedInside\""]},{"type":{"inverted":true,"value":"SpriteToggleSwitch::ButtonFSM::PropertyState"},"parameters":["Object","Behavior","=","\"Validated\""]}],"actions":[{"type":{"value":"SpriteToggleSwitch::ButtonFSM::SetPropertyState"},"parameters":["Object","Behavior","=","\"Idle\""]}]}]}],"parameters":[]}],"parameters":[]}],"parameters":[{"description":"Object","name":"Object","type":"object"},{"description":"Behavior","name":"Behavior","supplementaryInformation":"SpriteToggleSwitch::ButtonFSM","type":"behavior"}],"objectGroups":[]},{"fullName":"","functionType":"Action","name":"onDeActivate","sentence":"","events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[],"actions":[{"type":{"value":"SpriteToggleSwitch::ButtonFSM::ResetState"},"parameters":["Object","Behavior",""]}]}],"parameters":[{"description":"Object","name":"Object","type":"object"},{"description":"Behavior","name":"Behavior","supplementaryInformation":"SpriteToggleSwitch::ButtonFSM","type":"behavior"}],"objectGroups":[]},{"description":"Reset the state of the button.","fullName":"Reset state","functionType":"Action","name":"ResetState","sentence":"Reset the button state of _PARAM0_","events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[],"actions":[{"type":{"value":"SpriteToggleSwitch::ButtonFSM::SetPropertyState"},"parameters":["Object","Behavior","=","\"Idle\""]},{"type":{"value":"SpriteToggleSwitch::ButtonFSM::SetPropertyTouchId"},"parameters":["Object","Behavior","=","0"]}]}],"parameters":[{"description":"Object","name":"Object","type":"object"},{"description":"Behavior","name":"Behavior","supplementaryInformation":"SpriteToggleSwitch::ButtonFSM","type":"behavior"}],"objectGroups":[]},{"description":"Check if the button is not used.","fullName":"Is idle","functionType":"Condition","name":"IsIdle","sentence":"_PARAM0_ is idle","events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"SpriteToggleSwitch::ButtonFSM::PropertyState"},"parameters":["Object","Behavior","=","\"Idle\""]}],"actions":[{"type":{"value":"SetReturnBoolean"},"parameters":["True"]}]}],"parameters":[{"description":"Object","name":"Object","type":"object"},{"description":"Behavior","name":"Behavior","supplementaryInformation":"SpriteToggleSwitch::ButtonFSM","type":"behavior"}],"objectGroups":[]},{"description":"Check if the button was just clicked.","fullName":"Is clicked","functionType":"Condition","name":"IsClicked","sentence":"_PARAM0_ is clicked","events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"SpriteToggleSwitch::ButtonFSM::PropertyState"},"parameters":["Object","Behavior","=","\"Validated\""]}],"actions":[{"type":{"value":"SetReturnBoolean"},"parameters":["True"]}]}],"parameters":[{"description":"Object","name":"Object","type":"object"},{"description":"Behavior","name":"Behavior","supplementaryInformation":"SpriteToggleSwitch::ButtonFSM","type":"behavior"}],"objectGroups":[]},{"description":"Check if the cursor is hovered over the button.","fullName":"Is hovered","functionType":"Condition","name":"IsHovered","sentence":"_PARAM0_ is hovered","events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"SpriteToggleSwitch::ButtonFSM::PropertyState"},"parameters":["Object","Behavior","=","\"Hovered\""]}],"actions":[{"type":{"value":"SetReturnBoolean"},"parameters":["True"]}]}],"parameters":[{"description":"Object","name":"Object","type":"object"},{"description":"Behavior","name":"Behavior","supplementaryInformation":"SpriteToggleSwitch::ButtonFSM","type":"behavior"}],"objectGroups":[]},{"description":"Check if the button is either hovered or pressed but not hovered.","fullName":"Is focused","functionType":"Condition","name":"IsFocused","sentence":"_PARAM0_ is focused","events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"SpriteToggleSwitch::ButtonFSM::PropertyState"},"parameters":["Object","Behavior","=","\"Hovered\""]}],"actions":[{"type":{"value":"SetReturnBoolean"},"parameters":["True"]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"SpriteToggleSwitch::ButtonFSM::PropertyState"},"parameters":["Object","Behavior","=","\"PressedOutside\""]}],"actions":[{"type":{"value":"SetReturnBoolean"},"parameters":["True"]}]}],"parameters":[{"description":"Object","name":"Object","type":"object"},{"description":"Behavior","name":"Behavior","supplementaryInformation":"SpriteToggleSwitch::ButtonFSM","type":"behavior"}],"objectGroups":[]},{"description":"Check if the button is currently being pressed with mouse or touch.","fullName":"Is pressed","functionType":"Condition","name":"IsPressed","sentence":"_PARAM0_ is pressed","events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"SpriteToggleSwitch::ButtonFSM::PropertyState"},"parameters":["Object","Behavior","=","\"PressedInside\""]}],"actions":[{"type":{"value":"SetReturnBoolean"},"parameters":["True"]}]}],"parameters":[{"description":"Object","name":"Object","type":"object"},{"description":"Behavior","name":"Behavior","supplementaryInformation":"SpriteToggleSwitch::ButtonFSM","type":"behavior"}],"objectGroups":[]},{"description":"Check if the button is currently being pressed outside with mouse or touch.","fullName":"Is held outside","functionType":"Condition","name":"IsPressedOutside","sentence":"_PARAM0_ is held outside","events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"SpriteToggleSwitch::ButtonFSM::PropertyState"},"parameters":["Object","Behavior","=","\"PressedOutside\""]}],"actions":[{"type":{"value":"SetReturnBoolean"},"parameters":["True"]}]}],"parameters":[{"description":"Object","name":"Object","type":"object"},{"description":"Behavior","name":"Behavior","supplementaryInformation":"SpriteToggleSwitch::ButtonFSM","type":"behavior"}],"objectGroups":[]},{"description":"the touch id that is using the button or 0 if none.","fullName":"Touch id","functionType":"ExpressionAndCondition","name":"TouchId","sentence":"the touch id","events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[],"actions":[{"type":{"value":"SetReturnNumber"},"parameters":["TouchId"]}]}],"expressionType":{"type":"expression"},"parameters":[{"description":"Object","name":"Object","type":"object"},{"description":"Behavior","name":"Behavior","supplementaryInformation":"SpriteToggleSwitch::ButtonFSM","type":"behavior"}],"objectGroups":[]}],"propertyDescriptors":[{"value":"true","type":"Boolean","label":"","description":"Should check hovering","group":"","extraInformation":[],"hidden":true,"name":"ShouldCheckHovering"},{"value":"Idle","type":"Choice","label":"State","description":"","group":"","extraInformation":["Idle","Hovered","PressedInside","PressedOutside","Validated"],"hidden":true,"name":"State"},{"value":"0","type":"Number","label":"Touch id","description":"","group":"","extraInformation":[],"hidden":true,"name":"TouchId"},{"value":"","type":"Boolean","label":"Touch is inside","description":"","group":"","extraInformation":[],"hidden":true,"name":"TouchIsInside"},{"value":"","type":"Boolean","label":"Mouse is inside","description":"","group":"","extraInformation":[],"hidden":true,"name":"MouseIsInside"},{"value":"","type":"Number","label":"","description":"","group":"","extraInformation":[],"hidden":true,"name":"Index"}],"sharedPropertyDescriptors":[]}],"eventsBasedObjects":[{"areaMaxX":64,"areaMaxY":64,"areaMaxZ":64,"areaMinX":0,"areaMinY":0,"areaMinZ":0,"defaultName":"ToggleSwitch","description":"A toggle switch that users can click or touch.","fullName":"Toggle switch","isUsingLegacyInstancesRenderer":true,"name":"SpriteToggleSwitch","eventsFunctions":[{"fullName":"","functionType":"Action","name":"onCreated","sentence":"","events":[{"type":"BuiltinCommonInstructions::Comment","color":{"b":109,"g":230,"r":255,"textB":0,"textG":0,"textR":0},"comment":"Create one background instance for of each state."},{"type":"BuiltinCommonInstructions::Standard","conditions":[],"actions":[{"type":{"value":"Create"},"parameters":["","State","0","0",""]}]},{"type":"BuiltinCommonInstructions::Comment","color":{"b":109,"g":230,"r":255,"textB":0,"textG":0,"textR":0},"comment":"Pass the configuration to the behavior.\nThe PreviousIsChecked property allows to detect a change of \"intial value\" on hot reload."},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"SpriteToggleSwitch::SpriteToggleSwitch::PropertyIsChecked"},"parameters":["Object"]}],"actions":[{"type":{"value":"SpriteToggleSwitch::SwitchFSM::SetChecked"},"parameters":["State","SwitchFSM","",""]},{"type":{"value":"SpriteToggleSwitch::SpriteToggleSwitch::SetPropertyPreviousIsChecked"},"parameters":["Object","yes"]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"inverted":true,"value":"SpriteToggleSwitch::SpriteToggleSwitch::PropertyIsChecked"},"parameters":["Object"]}],"actions":[{"type":{"value":"SpriteToggleSwitch::SwitchFSM::SetChecked"},"parameters":["State","SwitchFSM","no",""]},{"type":{"value":"SpriteToggleSwitch::SpriteToggleSwitch::SetPropertyPreviousIsChecked"},"parameters":["Object",""]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[],"actions":[{"type":{"value":"SpriteToggleSwitch::SpriteToggleSwitch::UpdateStateAnimation"},"parameters":["Object",""]},{"type":{"value":"ChangeSprite"},"parameters":["State","=","State.AnimationFrameCount() - 1"]}]}],"parameters":[{"description":"Object","name":"Object","supplementaryInformation":"SpriteToggleSwitch::SpriteToggleSwitch","type":"object"}],"objectGroups":[{"name":"Background","objects":[{"name":"Idle"},{"name":"Hovered"},{"name":"Pressed"}]}]},{"fullName":"","functionType":"Action","name":"onHotReloading","sentence":"","events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"SpriteToggleSwitch::SpriteToggleSwitch::PropertyIsChecked"},"parameters":["Object"]},{"type":{"inverted":true,"value":"SpriteToggleSwitch::SpriteToggleSwitch::PropertyPreviousIsChecked"},"parameters":["Object","SwitchFSM",""]}],"actions":[{"type":{"value":"SpriteToggleSwitch::SpriteToggleSwitch::SetChecked"},"parameters":["Object","yes","no"]},{"type":{"value":"SpriteToggleSwitch::SpriteToggleSwitch::SetPropertyPreviousIsChecked"},"parameters":["Object","yes"]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"inverted":true,"value":"SpriteToggleSwitch::SpriteToggleSwitch::PropertyIsChecked"},"parameters":["Object"]},{"type":{"value":"SpriteToggleSwitch::SpriteToggleSwitch::PropertyPreviousIsChecked"},"parameters":["Object","SwitchFSM",""]}],"actions":[{"type":{"value":"SpriteToggleSwitch::SpriteToggleSwitch::SetChecked"},"parameters":["Object","SwitchFSM","no"]},{"type":{"value":"SpriteToggleSwitch::SpriteToggleSwitch::SetPropertyPreviousIsChecked"},"parameters":["Object","no"]}]}],"parameters":[{"description":"Object","name":"Object","supplementaryInformation":"SpriteToggleSwitch::SpriteToggleSwitch","type":"object"}],"objectGroups":[]},{"fullName":"","functionType":"Action","name":"doStepPostEvents","sentence":"","events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[],"actions":[{"type":{"value":"SpriteToggleSwitch::SpriteToggleSwitch::UpdateStateAnimation"},"parameters":["Object",""]}]}],"parameters":[{"description":"Object","name":"Object","supplementaryInformation":"SpriteToggleSwitch::SpriteToggleSwitch","type":"object"}],"objectGroups":[]},{"description":"Check if the toggle switch is checked.","fullName":"Is checked","functionType":"Condition","name":"IsChecked","sentence":"_PARAM0_ is checked","events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"SpriteToggleSwitch::SwitchFSM::IsChecked"},"parameters":["State","SwitchFSM",""]}],"actions":[{"type":{"value":"SetReturnBoolean"},"parameters":["True"]}]}],"parameters":[{"description":"Object","name":"Object","supplementaryInformation":"SpriteToggleSwitch::SpriteToggleSwitch","type":"object"}],"objectGroups":[]},{"description":"Check if the toggle switch was checked in the current frame.","fullName":"Has just been checked","functionType":"Condition","name":"HasJustBeenChecked","sentence":"_PARAM0_ has just been checked","events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"SpriteToggleSwitch::SwitchFSM::HasJustBeenChecked"},"parameters":["State","SwitchFSM",""]}],"actions":[{"type":{"value":"SetReturnBoolean"},"parameters":["True"]}]}],"parameters":[{"description":"Object","name":"Object","supplementaryInformation":"SpriteToggleSwitch::SpriteToggleSwitch","type":"object"}],"objectGroups":[]},{"description":"Check if the toggle switch was unchecked in the current frame.","fullName":"Has just been unchecked","functionType":"Condition","name":"HasJustBeenUnchecked","sentence":"_PARAM0_ has just been unchecked","events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"SpriteToggleSwitch::SwitchFSM::HasJustBeenUnchecked"},"parameters":["State","SwitchFSM",""]}],"actions":[{"type":{"value":"SetReturnBoolean"},"parameters":["True"]}]}],"parameters":[{"description":"Object","name":"Object","supplementaryInformation":"SpriteToggleSwitch::SpriteToggleSwitch","type":"object"}],"objectGroups":[]},{"description":"Check if the toggle switch was checked or unchecked in the current frame.","fullName":"Has just been toggled","functionType":"Condition","name":"HasJustBeenToggled","sentence":"_PARAM0_ has just been toggled","events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"SpriteToggleSwitch::SwitchFSM::HasJustBeenToggled"},"parameters":["State","SwitchFSM",""]}],"actions":[{"type":{"value":"SetReturnBoolean"},"parameters":["True"]}]}],"parameters":[{"description":"Object","name":"Object","supplementaryInformation":"SpriteToggleSwitch::SpriteToggleSwitch","type":"object"}],"objectGroups":[]},{"description":"Check (or uncheck) the toggle switch.","fullName":"Check (or uncheck)","functionType":"Action","name":"SetChecked","sentence":"Check _PARAM0_: _PARAM1_","events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"inverted":true,"value":"GetArgumentAsBoolean"},"parameters":["\"Value\""]}],"actions":[{"type":{"value":"SpriteToggleSwitch::SwitchFSM::SetChecked"},"parameters":["State","SwitchFSM","no",""]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"GetArgumentAsBoolean"},"parameters":["\"Value\""]}],"actions":[{"type":{"value":"SpriteToggleSwitch::SwitchFSM::SetChecked"},"parameters":["State","SwitchFSM","yes",""]}]}],"parameters":[{"description":"Object","name":"Object","supplementaryInformation":"SpriteToggleSwitch::SpriteToggleSwitch","type":"object"},{"defaultValue":"yes","description":"IsChecked","name":"Value","optional":true,"type":"yesorno"}],"objectGroups":[]},{"description":"Toggle the switch.","fullName":"Toggle","functionType":"Action","name":"ToggleChecked","sentence":"Toggle _PARAM0_","events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[],"actions":[{"type":{"value":"SpriteToggleSwitch::SwitchFSM::ToggleChecked"},"parameters":["State","SwitchFSM",""]}]}],"parameters":[{"description":"Object","name":"Object","supplementaryInformation":"SpriteToggleSwitch::SpriteToggleSwitch","type":"object"}],"objectGroups":[]},{"description":"Check if the button is not used.","fullName":"Is idle","functionType":"Condition","name":"IsIdle","private":true,"sentence":"_PARAM0_ is idle","events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"SpriteToggleSwitch::ButtonFSM::IsIdle"},"parameters":["State","ButtonFSM",""]}],"actions":[{"type":{"value":"SetReturnBoolean"},"parameters":["True"]}]}],"parameters":[{"description":"Object","name":"Object","supplementaryInformation":"SpriteToggleSwitch::SpriteToggleSwitch","type":"object"}],"objectGroups":[]},{"description":"Check if the button was just clicked.","fullName":"Is clicked","functionType":"Condition","name":"IsClicked","private":true,"sentence":"_PARAM0_ is clicked","events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"SpriteToggleSwitch::ButtonFSM::IsClicked"},"parameters":["State","ButtonFSM",""]}],"actions":[{"type":{"value":"SetReturnBoolean"},"parameters":["True"]}]}],"parameters":[{"description":"Object","name":"Object","supplementaryInformation":"SpriteToggleSwitch::SpriteToggleSwitch","type":"object"}],"objectGroups":[]},{"description":"Check if the cursor is hovered over the button.","fullName":"Is hovered","functionType":"Condition","name":"IsHovered","sentence":"_PARAM0_ is hovered","events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"SpriteToggleSwitch::ButtonFSM::IsHovered"},"parameters":["State","ButtonFSM",""]}],"actions":[{"type":{"value":"SetReturnBoolean"},"parameters":["True"]}]}],"parameters":[{"description":"Object","name":"Object","supplementaryInformation":"SpriteToggleSwitch::SpriteToggleSwitch","type":"object"}],"objectGroups":[]},{"description":"Check if the button is either hovered or pressed but not hovered.","fullName":"Is focused","functionType":"Condition","name":"IsFocused","private":true,"sentence":"_PARAM0_ is focused","events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"SpriteToggleSwitch::ButtonFSM::IsFocused"},"parameters":["State","ButtonFSM",""]}],"actions":[{"type":{"value":"SetReturnBoolean"},"parameters":["True"]}]}],"parameters":[{"description":"Object","name":"Object","supplementaryInformation":"SpriteToggleSwitch::SpriteToggleSwitch","type":"object"}],"objectGroups":[]},{"description":"Check if the button is currently being pressed with mouse or touch.","fullName":"Is pressed","functionType":"Condition","name":"IsPressed","private":true,"sentence":"_PARAM0_ is pressed","events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"SpriteToggleSwitch::ButtonFSM::IsPressed"},"parameters":["State","ButtonFSM",""]}],"actions":[{"type":{"value":"SetReturnBoolean"},"parameters":["True"]}]}],"parameters":[{"description":"Object","name":"Object","supplementaryInformation":"SpriteToggleSwitch::SpriteToggleSwitch","type":"object"}],"objectGroups":[]},{"description":"Update the state animation.","fullName":"Update state animation","functionType":"Action","name":"UpdateStateAnimation","private":true,"sentence":"Update the state animation of _PARAM0_","events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"SpriteToggleSwitch::SpriteToggleSwitch::IsChecked"},"parameters":["Object","ButtonFSM",""]},{"type":{"value":"AnimationName"},"parameters":["State","\"Unchecked\""]}],"actions":[{"type":{"value":"SetAnimationName"},"parameters":["State","\"Checked\""]},{"type":{"value":"PlayAnimation"},"parameters":["State"]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"inverted":true,"value":"SpriteToggleSwitch::SpriteToggleSwitch::IsChecked"},"parameters":["Object","ButtonFSM",""]},{"type":{"value":"AnimationName"},"parameters":["State","\"Checked\""]}],"actions":[{"type":{"value":"SetAnimationName"},"parameters":["State","\"Unchecked\""]},{"type":{"value":"PlayAnimation"},"parameters":["State"]}]}],"parameters":[{"description":"Object","name":"Object","supplementaryInformation":"SpriteToggleSwitch::SpriteToggleSwitch","type":"object"}],"objectGroups":[]},{"description":"De/activate interactions with the button.","fullName":"De/activate interactions","functionType":"Action","name":"Activate","sentence":"Activate interactions with _PARAM0_: _PARAM1_","events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"GetArgumentAsBoolean"},"parameters":["\"ShouldActivate\""]}],"actions":[{"type":{"value":"ActivateBehavior"},"parameters":["State","ButtonFSM","yes"]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"inverted":true,"value":"GetArgumentAsBoolean"},"parameters":["\"ShouldActivate\""]}],"actions":[{"type":{"value":"ActivateBehavior"},"parameters":["State","ButtonFSM","no"]}]}],"parameters":[{"description":"Object","name":"Object","supplementaryInformation":"SpriteToggleSwitch::SpriteToggleSwitch","type":"object"},{"description":"Activate","name":"ShouldActivate","type":"yesorno"}],"objectGroups":[]},{"description":"Check if interactions are activated on the button.","fullName":"Interactions activated","functionType":"Condition","name":"IsActivated","sentence":"Interactions on _PARAM0_ are activated","events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"BehaviorActivated"},"parameters":["State","ButtonFSM"]}],"actions":[{"type":{"value":"SetReturnBoolean"},"parameters":["True"]}]}],"parameters":[{"description":"Object","name":"Object","supplementaryInformation":"SpriteToggleSwitch::SpriteToggleSwitch","type":"object"}],"objectGroups":[]}],"propertyDescriptors":[{"value":"true","type":"Boolean","label":"Is checked","description":"","group":"","extraInformation":[],"name":"IsChecked"},{"value":"","type":"Boolean","label":"","description":"It's used to detect a change at hot reload.","group":"","extraInformation":[],"hidden":true,"name":"PreviousIsChecked"}],"objects":[{"adaptCollisionMaskAutomatically":true,"assetStoreId":"","name":"State","type":"Sprite","updateIfNotVisible":false,"variables":[],"effects":[],"behaviors":[{"name":"ButtonFSM","type":"SpriteToggleSwitch::ButtonFSM","ShouldCheckHovering":true,"State":"Idle","TouchId":0.0,"TouchIsInside":false,"MouseIsInside":false,"Index":0.0},{"name":"SwitchFSM","type":"SpriteToggleSwitch::SwitchFSM","ButtonFSM":"ButtonFSM","IsChecked":false,"WasChecked":false}],"animations":[{"name":"Unchecked","useMultipleDirections":false,"directions":[{"looping":false,"timeBetweenFrames":0.08,"sprites":[]}]},{"name":"Checked","useMultipleDirections":false,"directions":[{"looping":false,"timeBetweenFrames":0.08,"sprites":[]}]}]}],"objectsFolderStructure":{"folderName":"__ROOT","children":[{"objectName":"State"}]},"objectsGroups":[],"layers":[{"ambientLightColorB":200,"ambientLightColorG":200,"ambientLightColorR":200,"camera3DFarPlaneDistance":10000.0,"camera3DFieldOfView":45.0,"camera3DNearPlaneDistance":3.0,"cameraType":"","followBaseLayerCamera":false,"isLightingLayer":false,"isLocked":false,"name":"","renderingType":"","visibility":true,"cameras":[{"defaultSize":true,"defaultViewport":true,"height":0.0,"viewportBottom":1.0,"viewportLeft":0.0,"viewportRight":1.0,"viewportTop":0.0,"width":0.0}],"effects":[]}],"instances":[]}]},{"author":"","category":"User interface","extensionNamespace":"","fullName":"Slider","helpPath":"/objects/slider","iconUrl":"data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0idXRmLTgiPz4NCjwhLS0gR2VuZXJhdG9yOiBBZG9iZSBJbGx1c3RyYXRvciAyMy4wLjMsIFNWRyBFeHBvcnQgUGx1Zy1JbiAuIFNWRyBWZXJzaW9uOiA2LjAwIEJ1aWxkIDApICAtLT4NCjxzdmcgdmVyc2lvbj0iMS4xIiBpZD0iSWNvbnMiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgeG1sbnM6eGxpbms9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiIHg9IjBweCIgeT0iMHB4Ig0KCSB2aWV3Qm94PSIwIDAgMzIgMzIiIHN0eWxlPSJlbmFibGUtYmFja2dyb3VuZDpuZXcgMCAwIDMyIDMyOyIgeG1sOnNwYWNlPSJwcmVzZXJ2ZSI+DQo8c3R5bGUgdHlwZT0idGV4dC9jc3MiPg0KCS5zdDB7ZmlsbDpub25lO3N0cm9rZTojMDAwMDAwO3N0cm9rZS13aWR0aDoyO3N0cm9rZS1saW5lY2FwOnJvdW5kO3N0cm9rZS1saW5lam9pbjpyb3VuZDtzdHJva2UtbWl0ZXJsaW1pdDoxMDt9DQo8L3N0eWxlPg0KPGNpcmNsZSBjbGFzcz0ic3QwIiBjeD0iMjMiIGN5PSI3IiByPSIzIi8+DQo8bGluZSBjbGFzcz0ic3QwIiB4MT0iMyIgeTE9IjciIHgyPSIyMCIgeTI9IjciLz4NCjxsaW5lIGNsYXNzPSJzdDAiIHgxPSIyOSIgeTE9IjciIHgyPSIyNiIgeTI9IjciLz4NCjxjaXJjbGUgY2xhc3M9InN0MCIgY3g9IjEyIiBjeT0iMTYiIHI9IjMiLz4NCjxsaW5lIGNsYXNzPSJzdDAiIHgxPSIzIiB5MT0iMTYiIHgyPSI5IiB5Mj0iMTYiLz4NCjxsaW5lIGNsYXNzPSJzdDAiIHgxPSIyOSIgeTE9IjE2IiB4Mj0iMTUiIHkyPSIxNiIvPg0KPGNpcmNsZSBjbGFzcz0ic3QwIiBjeD0iMjMiIGN5PSIyNSIgcj0iMyIvPg0KPGxpbmUgY2xhc3M9InN0MCIgeDE9IjMiIHkxPSIyNSIgeDI9IjIwIiB5Mj0iMjUiLz4NCjxsaW5lIGNsYXNzPSJzdDAiIHgxPSIyOSIgeTE9IjI1IiB4Mj0iMjYiIHkyPSIyNSIvPg0KPC9zdmc+DQo=","name":"PanelSpriteSlider","previewIconUrl":"https://asset-resources.gdevelop.io/public-resources/Icons/Line Hero Pack/Master/SVG/UI Essentials/1678c39a3b2bd3df4f82a8a293770db4986a6bcfd3f78e738ddfc86e39176423_UI Essentials_sliders_options.svg","shortDescription":"A draggable slider that users can move to select a numerical value.","version":"1.4.4","description":["A draggable slider that users can move to select a numerical value. The slider can be customized with sprites.","","There are ready-to-use sliders in the asset-store [settings UI pack](https://editor.gdevelop.io/?initial-dialog=asset-store&asset-pack=settings-ui-settings-ui)."],"origin":{"identifier":"PanelSpriteSlider","name":"gdevelop-extension-store"},"tags":["draggable","slider","ui","widget"],"authorIds":["IWykYNRvhCZBN3vEgKEbBPOR3Oc2","gqDaZjCfevOOxBYkK6zlhtZnXCg1"],"dependencies":[],"globalVariables":[],"sceneVariables":[],"eventsFunctions":[],"eventsBasedBehaviors":[{"description":"Represent a value on a slider.","fullName":"Slider","name":"Slider","objectType":"","private":true,"eventsFunctions":[{"description":"the value of the object.","fullName":"Value","functionType":"ExpressionAndCondition","name":"Value","sentence":"the value","events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[],"actions":[{"type":{"value":"SetReturnNumber"},"parameters":["Value"]}]}],"expressionType":{"type":"expression"},"parameters":[{"description":"Object","name":"Object","type":"object"},{"description":"Behavior","name":"Behavior","supplementaryInformation":"PanelSpriteSlider::Slider","type":"behavior"}],"objectGroups":[]},{"fullName":"","functionType":"ActionWithOperator","getterName":"Value","name":"SetValue","sentence":"","events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"PanelSpriteSlider::Slider::PropertyStepSize"},"parameters":["Object","Behavior","=","0"]}],"actions":[{"type":{"value":"PanelSpriteSlider::Slider::SetPropertyValue"},"parameters":["Object","Behavior","=","clamp(Value, MinValue, MaxValue)"]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"PanelSpriteSlider::Slider::PropertyStepSize"},"parameters":["Object","Behavior","!=","0"]}],"actions":[{"type":{"value":"PanelSpriteSlider::Slider::SetPropertyValue"},"parameters":["Object","Behavior","=","clamp(round(Value / StepSize) * StepSize, MinValue, MaxValue)"]}]}],"parameters":[{"description":"Object","name":"Object","type":"object"},{"description":"Behavior","name":"Behavior","supplementaryInformation":"PanelSpriteSlider::Slider","type":"behavior"}],"objectGroups":[]},{"description":"the minimum value of the object.","fullName":"Minimum value","functionType":"ExpressionAndCondition","group":"Resource bar configuration","name":"MinValue","sentence":"the minimum value","events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[],"actions":[{"type":{"value":"SetReturnNumber"},"parameters":["MinValue"]}]}],"expressionType":{"type":"expression"},"parameters":[{"description":"Object","name":"Object","type":"object"},{"description":"Behavior","name":"Behavior","supplementaryInformation":"PanelSpriteSlider::Slider","type":"behavior"}],"objectGroups":[]},{"fullName":"","functionType":"ActionWithOperator","getterName":"MinValue","name":"SetMinValue","sentence":"","events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[],"actions":[{"type":{"value":"PanelSpriteSlider::Slider::SetPropertyMinValue"},"parameters":["Object","Behavior","=","Value"]},{"type":{"value":"PanelSpriteSlider::Slider::SetValue"},"parameters":["Object","Behavior","=","Object.Behavior::Value()",""]}]}],"parameters":[{"description":"Object","name":"Object","type":"object"},{"description":"Behavior","name":"Behavior","supplementaryInformation":"PanelSpriteSlider::Slider","type":"behavior"}],"objectGroups":[]},{"description":"the maximum value of the object.","fullName":"Maximum value","functionType":"ExpressionAndCondition","group":"Resource bar configuration","name":"MaxValue","sentence":"the maximum value","events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[],"actions":[{"type":{"value":"SetReturnNumber"},"parameters":["MaxValue"]}]}],"expressionType":{"type":"expression"},"parameters":[{"description":"Object","name":"Object","type":"object"},{"description":"Behavior","name":"Behavior","supplementaryInformation":"PanelSpriteSlider::Slider","type":"behavior"}],"objectGroups":[]},{"fullName":"","functionType":"ActionWithOperator","getterName":"MaxValue","name":"SetMaxValue","sentence":"","events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[],"actions":[{"type":{"value":"PanelSpriteSlider::Slider::SetPropertyMaxValue"},"parameters":["Object","Behavior","=","Value"]},{"type":{"value":"PanelSpriteSlider::Slider::SetValue"},"parameters":["Object","Behavior","=","Object.Behavior::Value()",""]}]}],"parameters":[{"description":"Object","name":"Object","type":"object"},{"description":"Behavior","name":"Behavior","supplementaryInformation":"PanelSpriteSlider::Slider","type":"behavior"}],"objectGroups":[]},{"description":"the bar value bounds size.","fullName":"Size","functionType":"ExpressionAndCondition","name":"Size","sentence":"the bar value bounds size","events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[],"actions":[{"type":{"value":"SetReturnNumber"},"parameters":["Object.Behavior::MaxValue() - Object.Behavior::MinValue()"]}]}],"expressionType":{"type":"expression"},"parameters":[{"description":"Object","name":"Object","type":"object"},{"description":"Behavior","name":"Behavior","supplementaryInformation":"PanelSpriteSlider::Slider","type":"behavior"}],"objectGroups":[]},{"description":"the step size of the object.","fullName":"Step size","functionType":"ExpressionAndCondition","group":"Resource bar configuration","name":"StepSize","sentence":"the step size","events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[],"actions":[{"type":{"value":"SetReturnNumber"},"parameters":["StepSize"]}]}],"expressionType":{"type":"expression"},"parameters":[{"description":"Object","name":"Object","type":"object"},{"description":"Behavior","name":"Behavior","supplementaryInformation":"PanelSpriteSlider::Slider","type":"behavior"}],"objectGroups":[]},{"fullName":"","functionType":"ActionWithOperator","getterName":"StepSize","name":"SetStepSize","sentence":"","events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[],"actions":[{"type":{"value":"PanelSpriteSlider::Slider::SetPropertyStepSize"},"parameters":["Object","Behavior","=","Value"]},{"type":{"value":"PanelSpriteSlider::Slider::SetValue"},"parameters":["Object","Behavior","=","Object.Behavior::Value()",""]}]}],"parameters":[{"description":"Object","name":"Object","type":"object"},{"description":"Behavior","name":"Behavior","supplementaryInformation":"PanelSpriteSlider::Slider","type":"behavior"}],"objectGroups":[]}],"propertyDescriptors":[{"value":"0","type":"Number","label":"Value","description":"","group":"","extraInformation":[],"name":"Value"},{"value":"0","type":"Number","label":"Minimum value","description":"","group":"","extraInformation":[],"name":"MinValue"},{"value":"1","type":"Number","label":"Maximum value","description":"","group":"","extraInformation":[],"name":"MaxValue"},{"value":"0","type":"Number","label":"Step size","description":"","group":"","extraInformation":[],"name":"StepSize"}],"sharedPropertyDescriptors":[]},{"description":"The finite state machine used internally by the button object.","fullName":"Button finite state machine","name":"ButtonFSM","objectType":"","private":true,"eventsFunctions":[{"fullName":"","functionType":"Action","name":"doStepPostEvents","sentence":"","events":[{"colorB":228,"colorG":176,"colorR":74,"creationTime":0,"name":"Finite state machine","source":"","type":"BuiltinCommonInstructions::Group","events":[{"type":"BuiltinCommonInstructions::Comment","color":{"b":109,"g":230,"r":255,"textB":0,"textG":0,"textR":0},"comment":"The \"Validated\" state only last one frame."},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"PanelSpriteSlider::ButtonFSM::PropertyState"},"parameters":["Object","Behavior","=","\"Validated\""]}],"actions":[{"type":{"value":"PanelSpriteSlider::ButtonFSM::SetPropertyState"},"parameters":["Object","Behavior","=","\"Idle\""]}]},{"colorB":228,"colorG":176,"colorR":74,"creationTime":0,"name":"Check position","source":"","type":"BuiltinCommonInstructions::Group","events":[{"type":"BuiltinCommonInstructions::Comment","color":{"b":109,"g":230,"r":255,"textB":0,"textG":0,"textR":0},"comment":"Make sure the cursor position is only checked once per frame."},{"type":"BuiltinCommonInstructions::Standard","conditions":[],"actions":[{"type":{"value":"PanelSpriteSlider::ButtonFSM::SetPropertyMouseIsInside"},"parameters":["Object","Behavior","no"]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"PanelSpriteSlider::ButtonFSM::PropertyShouldCheckHovering"},"parameters":["Object","Behavior"]},{"type":{"value":"CollisionPoint"},"parameters":["Object","MouseOnlyCursorX(Object.Layer(), 0)","MouseOnlyCursorY(Object.Layer(), 0)"]}],"actions":[{"type":{"value":"PanelSpriteSlider::ButtonFSM::SetPropertyMouseIsInside"},"parameters":["Object","Behavior","yes"]}]},{"type":"BuiltinCommonInstructions::Comment","color":{"b":109,"g":230,"r":255,"textB":0,"textG":0,"textR":0},"comment":"Touches are always pressed, so ShouldCheckHovering doesn't matter."},{"type":"BuiltinCommonInstructions::Standard","conditions":[],"actions":[{"type":{"value":"PanelSpriteSlider::ButtonFSM::SetPropertyTouchIsInside"},"parameters":["Object","Behavior","no"]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"PanelSpriteSlider::ButtonFSM::PropertyTouchId"},"parameters":["Object","Behavior","!=","0"]},{"type":{"value":"CollisionPoint"},"parameters":["Object","TouchX(TouchId, Object.Layer(), 0)","TouchY(TouchId, Object.Layer(), 0)"]}],"actions":[{"type":{"value":"PanelSpriteSlider::ButtonFSM::SetPropertyTouchIsInside"},"parameters":["Object","Behavior","yes"]}]}],"parameters":[]},{"colorB":228,"colorG":176,"colorR":74,"creationTime":0,"name":"Handle touch start","source":"","type":"BuiltinCommonInstructions::Group","events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"HasAnyTouchOrMouseStarted"},"parameters":[""]}],"actions":[{"type":{"value":"PanelSpriteSlider::ButtonFSM::SetPropertyIndex"},"parameters":["Object","Behavior","=","0"]}],"events":[{"type":"BuiltinCommonInstructions::Repeat","repeatExpression":"StartedTouchOrMouseCount()","conditions":[],"actions":[],"events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"CollisionPoint"},"parameters":["Object","TouchX(StartedTouchOrMouseId(Index), Object.Layer(), 0)","TouchY(StartedTouchOrMouseId(Index), Object.Layer(), 0)"]}],"actions":[{"type":{"value":"PanelSpriteSlider::ButtonFSM::SetPropertyTouchId"},"parameters":["Object","Behavior","=","StartedTouchOrMouseId(Index)"]},{"type":{"value":"PanelSpriteSlider::ButtonFSM::SetPropertyTouchIsInside"},"parameters":["Object","Behavior","yes"]}],"events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"BuiltinCommonInstructions::Or"},"parameters":[],"subInstructions":[{"type":{"value":"PanelSpriteSlider::ButtonFSM::PropertyState"},"parameters":["Object","Behavior","=","\"Hovered\""]},{"type":{"value":"PanelSpriteSlider::ButtonFSM::PropertyState"},"parameters":["Object","Behavior","=","\"Idle\""]}]}],"actions":[{"type":{"value":"PanelSpriteSlider::ButtonFSM::SetPropertyState"},"parameters":["Object","Behavior","=","\"PressedInside\""]}]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[],"actions":[{"type":{"value":"PanelSpriteSlider::ButtonFSM::SetPropertyIndex"},"parameters":["Object","Behavior","+","1"]}]}]}]}],"parameters":[]},{"colorB":228,"colorG":176,"colorR":74,"creationTime":0,"name":"Apply position changes","source":"","type":"BuiltinCommonInstructions::Group","events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"inverted":true,"value":"PanelSpriteSlider::ButtonFSM::PropertyMouseIsInside"},"parameters":["Object","Behavior"]},{"type":{"value":"PanelSpriteSlider::ButtonFSM::PropertyState"},"parameters":["Object","Behavior","=","\"Hovered\""]}],"actions":[{"type":{"value":"PanelSpriteSlider::ButtonFSM::SetPropertyState"},"parameters":["Object","Behavior","=","\"Idle\""]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"PanelSpriteSlider::ButtonFSM::PropertyMouseIsInside"},"parameters":["Object","Behavior"]},{"type":{"value":"PanelSpriteSlider::ButtonFSM::PropertyState"},"parameters":["Object","Behavior","=","\"Idle\""]}],"actions":[{"type":{"value":"PanelSpriteSlider::ButtonFSM::SetPropertyState"},"parameters":["Object","Behavior","=","\"Hovered\""]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"inverted":true,"value":"PanelSpriteSlider::ButtonFSM::PropertyTouchIsInside"},"parameters":["Object","Behavior"]},{"type":{"value":"PanelSpriteSlider::ButtonFSM::PropertyState"},"parameters":["Object","Behavior","=","\"PressedInside\""]}],"actions":[{"type":{"value":"PanelSpriteSlider::ButtonFSM::SetPropertyState"},"parameters":["Object","Behavior","=","\"PressedOutside\""]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"PanelSpriteSlider::ButtonFSM::PropertyTouchIsInside"},"parameters":["Object","Behavior"]},{"type":{"value":"PanelSpriteSlider::ButtonFSM::PropertyState"},"parameters":["Object","Behavior","=","\"PressedOutside\""]}],"actions":[{"type":{"value":"PanelSpriteSlider::ButtonFSM::SetPropertyState"},"parameters":["Object","Behavior","=","\"PressedInside\""]}]}],"parameters":[]},{"colorB":228,"colorG":176,"colorR":74,"creationTime":0,"name":"Handle touch end","source":"","type":"BuiltinCommonInstructions::Group","events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"HasTouchEnded"},"parameters":["","TouchId"]}],"actions":[{"type":{"value":"PanelSpriteSlider::ButtonFSM::SetPropertyTouchId"},"parameters":["Object","Behavior","=","0"]}],"events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"PanelSpriteSlider::ButtonFSM::PropertyState"},"parameters":["Object","Behavior","=","\"PressedInside\""]}],"actions":[{"type":{"value":"PanelSpriteSlider::ButtonFSM::SetPropertyState"},"parameters":["Object","Behavior","=","\"Validated\""]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"inverted":true,"value":"PanelSpriteSlider::ButtonFSM::PropertyState"},"parameters":["Object","Behavior","=","\"PressedInside\""]},{"type":{"inverted":true,"value":"PanelSpriteSlider::ButtonFSM::PropertyState"},"parameters":["Object","Behavior","=","\"Validated\""]}],"actions":[{"type":{"value":"PanelSpriteSlider::ButtonFSM::SetPropertyState"},"parameters":["Object","Behavior","=","\"Idle\""]}]}]}],"parameters":[]}],"parameters":[]}],"parameters":[{"description":"Object","name":"Object","type":"object"},{"description":"Behavior","name":"Behavior","supplementaryInformation":"PanelSpriteSlider::ButtonFSM","type":"behavior"}],"objectGroups":[]},{"fullName":"","functionType":"Action","name":"onDeActivate","sentence":"","events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[],"actions":[{"type":{"value":"PanelSpriteSlider::ButtonFSM::SetPropertyState"},"parameters":["Object","Behavior","=","\"Idle\""]},{"type":{"value":"PanelSpriteSlider::ButtonFSM::SetPropertyTouchId"},"parameters":["Object","Behavior","=","0"]}]}],"parameters":[{"description":"Object","name":"Object","type":"object"},{"description":"Behavior","name":"Behavior","supplementaryInformation":"PanelSpriteSlider::ButtonFSM","type":"behavior"}],"objectGroups":[]},{"description":"Check if the button is not used.","fullName":"Is idle","functionType":"Condition","name":"IsIdle","sentence":"_PARAM0_ is idle","events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"PanelSpriteSlider::ButtonFSM::PropertyState"},"parameters":["Object","Behavior","=","\"Idle\""]}],"actions":[{"type":{"value":"SetReturnBoolean"},"parameters":["True"]}]}],"parameters":[{"description":"Object","name":"Object","type":"object"},{"description":"Behavior","name":"Behavior","supplementaryInformation":"PanelSpriteSlider::ButtonFSM","type":"behavior"}],"objectGroups":[]},{"description":"Check if the button was just clicked.","fullName":"Is clicked","functionType":"Condition","name":"IsClicked","sentence":"_PARAM0_ is clicked","events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"PanelSpriteSlider::ButtonFSM::PropertyState"},"parameters":["Object","Behavior","=","\"Validated\""]}],"actions":[{"type":{"value":"SetReturnBoolean"},"parameters":["True"]}]}],"parameters":[{"description":"Object","name":"Object","type":"object"},{"description":"Behavior","name":"Behavior","supplementaryInformation":"PanelSpriteSlider::ButtonFSM","type":"behavior"}],"objectGroups":[]},{"description":"Check if the cursor is hovered over the button.","fullName":"Is hovered","functionType":"Condition","name":"IsHovered","sentence":"_PARAM0_ is hovered","events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"PanelSpriteSlider::ButtonFSM::PropertyState"},"parameters":["Object","Behavior","=","\"Hovered\""]}],"actions":[{"type":{"value":"SetReturnBoolean"},"parameters":["True"]}]}],"parameters":[{"description":"Object","name":"Object","type":"object"},{"description":"Behavior","name":"Behavior","supplementaryInformation":"PanelSpriteSlider::ButtonFSM","type":"behavior"}],"objectGroups":[]},{"description":"Check if the button is either hovered or pressed but not hovered.","fullName":"Is focused","functionType":"Condition","name":"IsFocused","sentence":"_PARAM0_ is focused","events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"PanelSpriteSlider::ButtonFSM::PropertyState"},"parameters":["Object","Behavior","=","\"Hovered\""]}],"actions":[{"type":{"value":"SetReturnBoolean"},"parameters":["True"]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"PanelSpriteSlider::ButtonFSM::PropertyState"},"parameters":["Object","Behavior","=","\"PressedOutside\""]}],"actions":[{"type":{"value":"SetReturnBoolean"},"parameters":["True"]}]}],"parameters":[{"description":"Object","name":"Object","type":"object"},{"description":"Behavior","name":"Behavior","supplementaryInformation":"PanelSpriteSlider::ButtonFSM","type":"behavior"}],"objectGroups":[]},{"description":"Check if the button is currently being pressed with mouse or touch.","fullName":"Is pressed","functionType":"Condition","name":"IsPressed","sentence":"_PARAM0_ is pressed","events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"PanelSpriteSlider::ButtonFSM::PropertyState"},"parameters":["Object","Behavior","=","\"PressedInside\""]}],"actions":[{"type":{"value":"SetReturnBoolean"},"parameters":["True"]}]}],"parameters":[{"description":"Object","name":"Object","type":"object"},{"description":"Behavior","name":"Behavior","supplementaryInformation":"PanelSpriteSlider::ButtonFSM","type":"behavior"}],"objectGroups":[]},{"description":"Check if the button is currently being pressed outside with mouse or touch.","fullName":"Is held outside","functionType":"Condition","name":"IsPressedOutside","sentence":"_PARAM0_ is held outside","events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"PanelSpriteSlider::ButtonFSM::PropertyState"},"parameters":["Object","Behavior","=","\"PressedOutside\""]}],"actions":[{"type":{"value":"SetReturnBoolean"},"parameters":["True"]}]}],"parameters":[{"description":"Object","name":"Object","type":"object"},{"description":"Behavior","name":"Behavior","supplementaryInformation":"PanelSpriteSlider::ButtonFSM","type":"behavior"}],"objectGroups":[]},{"description":"the touch id that is using the button or 0 if none.","fullName":"Touch id","functionType":"ExpressionAndCondition","name":"TouchId","sentence":"the touch id","events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[],"actions":[{"type":{"value":"SetReturnNumber"},"parameters":["TouchId"]}]}],"expressionType":{"type":"expression"},"parameters":[{"description":"Object","name":"Object","type":"object"},{"description":"Behavior","name":"Behavior","supplementaryInformation":"PanelSpriteSlider::ButtonFSM","type":"behavior"}],"objectGroups":[]}],"propertyDescriptors":[{"value":"true","type":"Boolean","label":"","description":"Should check hovering","group":"","extraInformation":[],"hidden":true,"name":"ShouldCheckHovering"},{"value":"Idle","type":"Choice","label":"State","description":"","group":"","extraInformation":["Idle","Hovered","PressedInside","PressedOutside","Validated"],"hidden":true,"name":"State"},{"value":"0","type":"Number","label":"Touch id","description":"","group":"","extraInformation":[],"hidden":true,"name":"TouchId"},{"value":"","type":"Boolean","label":"Touch is inside","description":"","group":"","extraInformation":[],"hidden":true,"name":"TouchIsInside"},{"value":"","type":"Boolean","label":"Mouse is inside","description":"","group":"","extraInformation":[],"hidden":true,"name":"MouseIsInside"},{"value":"","type":"Number","label":"","description":"","group":"","extraInformation":[],"hidden":true,"name":"Index"}],"sharedPropertyDescriptors":[]}],"eventsBasedObjects":[{"areaMaxX":64,"areaMaxY":64,"areaMaxZ":64,"areaMinX":0,"areaMinY":0,"areaMinZ":0,"defaultName":"Slider","description":"Let users select a numerical value by dragging a slider.","fullName":"Slider","isUsingLegacyInstancesRenderer":true,"name":"PanelSpriteSlider","eventsFunctions":[{"fullName":"","functionType":"Action","name":"onCreated","sentence":"","events":[{"type":"BuiltinCommonInstructions::Comment","color":{"b":109,"g":230,"r":255,"textB":0,"textG":0,"textR":0},"comment":"This allows to detect a change of \"intial value\" on hot reload."},{"type":"BuiltinCommonInstructions::Standard","conditions":[],"actions":[{"type":{"value":"PanelSpriteSlider::PanelSpriteSlider::SetPropertyPreviousInitialValue"},"parameters":["Object","=","Object.PropertyInitialValue()"]}]},{"type":"BuiltinCommonInstructions::Comment","color":{"b":109,"g":230,"r":255,"textB":0,"textG":0,"textR":0},"comment":"Create the child-object instances."},{"type":"BuiltinCommonInstructions::Standard","conditions":[],"actions":[{"type":{"value":"Create"},"parameters":["","Background","0","0",""]},{"type":{"value":"Create"},"parameters":["","FillBar","0","0",""]},{"type":{"value":"Create"},"parameters":["","Thumb","0","0",""]},{"type":{"value":"ChangePlan"},"parameters":["Background","=","1"]},{"type":{"value":"ChangePlan"},"parameters":["FillBar","=","2"]},{"type":{"value":"ChangePlan"},"parameters":["Thumb","=","3"]}]},{"type":"BuiltinCommonInstructions::Comment","color":{"b":109,"g":230,"r":255,"textB":0,"textG":0,"textR":0},"comment":"Create the label that is displayed over the thumb."},{"type":"BuiltinCommonInstructions::Standard","conditions":[],"actions":[{"type":{"value":"Create"},"parameters":["","Label","0","0",""]},{"type":{"value":"ChangePlan"},"parameters":["Label","=","4"]},{"type":{"value":"TextObject::SetWrapping"},"parameters":["Label","no"]},{"type":{"value":"Cache"},"parameters":["Label"]}]},{"type":"BuiltinCommonInstructions::Comment","color":{"b":109,"g":230,"r":255,"textB":0,"textG":0,"textR":0},"comment":"Pass the configuration to the behavior."},{"type":"BuiltinCommonInstructions::Standard","conditions":[],"actions":[{"type":{"value":"PanelSpriteSlider::PanelSpriteSlider::UpdateSliderConfiguration"},"parameters":["Object",""]},{"type":{"value":"PanelSpriteSlider::PanelSpriteSlider::SetValue"},"parameters":["Object","=","Object.PropertyInitialValue()","Object.PropertyInitialValue()"]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[],"actions":[{"type":{"value":"SetIncludedInParentCollisionMask"},"parameters":["Label",""]},{"type":{"value":"SetIncludedInParentCollisionMask"},"parameters":["Thumb",""]},{"type":{"value":"SetIncludedInParentCollisionMask"},"parameters":["FillBar",""]}]}],"parameters":[{"description":"Object","name":"Object","supplementaryInformation":"PanelSpriteSlider::PanelSpriteSlider","type":"object"}],"objectGroups":[]},{"fullName":"","functionType":"Action","name":"onHotReloading","sentence":"","events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[],"actions":[{"type":{"value":"PanelSpriteSlider::PanelSpriteSlider::UpdateLayout"},"parameters":["Object",""]},{"type":{"value":"PanelSpriteSlider::PanelSpriteSlider::UpdateSliderConfiguration"},"parameters":["Object",""]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"PanelSpriteSlider::PanelSpriteSlider::PropertyInitialValue"},"parameters":["Object","!=","Object.PropertyPreviousInitialValue()"]}],"actions":[{"type":{"value":"PanelSpriteSlider::PanelSpriteSlider::SetPropertyPreviousInitialValue"},"parameters":["Object","=","Object.PropertyInitialValue()"]},{"type":{"value":"PanelSpriteSlider::PanelSpriteSlider::SetValue"},"parameters":["Object","=","Object.PropertyInitialValue()","Object.PropertyInitialValue()"]}]}],"parameters":[{"description":"Object","name":"Object","supplementaryInformation":"PanelSpriteSlider::PanelSpriteSlider","type":"object"}],"objectGroups":[]},{"fullName":"","functionType":"Action","name":"doStepPostEvents","sentence":"","events":[{"colorB":228,"colorG":176,"colorR":74,"creationTime":0,"name":"Handle touches","source":"","type":"BuiltinCommonInstructions::Group","events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"BehaviorActivated"},"parameters":["Background","ButtonFSM"]}],"actions":[],"events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"inverted":true,"value":"DraggableBehavior::Dragged"},"parameters":["Thumb","Draggable"]},{"type":{"inverted":true,"value":"DraggableBehavior::Dropped"},"parameters":["Thumb","Draggable"]},{"type":{"value":"BuiltinCommonInstructions::Or"},"parameters":[],"subInstructions":[{"type":{"value":"PanelSpriteSlider::ButtonFSM::IsPressed"},"parameters":["Background","ButtonFSM",""]},{"type":{"value":"PanelSpriteSlider::ButtonFSM::IsPressedOutside"},"parameters":["Background","ButtonFSM",""]}]}],"actions":[{"type":{"value":"PanelSpriteSlider::PanelSpriteSlider::SetValue"},"parameters":["Object","=","FillBar.Slider::MinValue() + FillBar.Slider::Size() * (TouchX(Background.ButtonFSM::TouchId(), Object.Layer()) - Object.FullBarLeft()) / Object.FullBarWidth()","FillBar.Slider::MinValue() + FillBar.Slider::Size() * (MouseX() - Object.FullBarLeft()) / Object.FullBarWidth()"]}],"events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"PanelSpriteSlider::PanelSpriteSlider::PropertyShowLabelAtChanges"},"parameters":["Object"]}],"actions":[{"type":{"value":"Montre"},"parameters":["Label",""]},{"type":{"value":"ResetObjectTimer"},"parameters":["Label","\"HideBack\""]}]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"DraggableBehavior::Dragged"},"parameters":["Thumb","Draggable"]}],"actions":[{"type":{"value":"PanelSpriteSlider::PanelSpriteSlider::SetValue"},"parameters":["Object","=","FillBar.Slider::MinValue() + FillBar.Slider::Size() * (Thumb.CenterX() - Object.FullBarLeft()) / Object.FullBarWidth()","FillBar.Slider::MinValue() + FillBar.Slider::Size() * (Thumb.CenterX() - Object.FullBarLeft()) / Object.FullBarWidth()"]}],"events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"PanelSpriteSlider::PanelSpriteSlider::PropertyShowLabelAtChanges"},"parameters":["Object"]}],"actions":[{"type":{"value":"Montre"},"parameters":["Label",""]}]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"DraggableBehavior::Dropped"},"parameters":["Thumb","Draggable"]}],"actions":[{"type":{"value":"ResetObjectTimer"},"parameters":["Label","\"HideBack\""]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"PanelSpriteSlider::PanelSpriteSlider::PropertyShowLabelAtChanges"},"parameters":["Object"]},{"type":{"value":"CollisionPoint"},"parameters":["Thumb","MouseOnlyCursorX(Object.Layer(), 0)","MouseOnlyCursorY(Thumb.Layer(), 0)"]}],"actions":[{"type":{"value":"Montre"},"parameters":["Label",""]},{"type":{"value":"ResetObjectTimer"},"parameters":["Label","\"HideBack\""]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"CompareObjectTimer"},"parameters":["Label","\"HideBack\"",">","0.5"]}],"actions":[{"type":{"value":"Cache"},"parameters":["Label"]},{"type":{"value":"RemoveObjectTimer"},"parameters":["Label","\"HideBack\""]}]}]}],"parameters":[]},{"colorB":228,"colorG":176,"colorR":74,"creationTime":0,"name":"Resize","source":"","type":"BuiltinCommonInstructions::Group","events":[{"type":"BuiltinCommonInstructions::Comment","color":{"b":109,"g":230,"r":255,"textB":0,"textG":0,"textR":0},"comment":"Children instances must be resized when the parent size change:\n- background is resized to take the full dimensions of the parent\n- the label is put back at the center of the bar\n\nThe scale is set back to 1 because it means that the parent instance has the same dimensions as the union of its children instances."},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"BuiltinCommonInstructions::Or"},"parameters":[],"subInstructions":[{"type":{"value":"BuiltinCommonInstructions::CompareNumbers"},"parameters":["Object.Width()","!=","max(Background.BoundingBoxRight(), max(Label.BoundingBoxRight(), Thumb.BoundingBoxRight())) - min(Background.BoundingBoxLeft(), min(Label.BoundingBoxLeft(), Thumb.BoundingBoxLeft()))"]},{"type":{"value":"BuiltinCommonInstructions::CompareNumbers"},"parameters":["Object.Height()","!=","max(Background.BoundingBoxBottom(), max(Label.BoundingBoxBottom(), Thumb.BoundingBoxBottom())) - min(Background.BoundingBoxTop(), min(Label.BoundingBoxTop(), Thumb.BoundingBoxTop()))"]}]}],"actions":[],"events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[],"actions":[{"type":{"value":"SetNumberVariable"},"parameters":["Width","=","Object.Width()"]},{"type":{"value":"SetNumberVariable"},"parameters":["Height","=","Object.Height()"]},{"type":{"value":"PanelSpriteSlider::PanelSpriteSlider::Scale"},"parameters":["Object","=","1"]},{"type":{"value":"PanelSpriteObject::Width"},"parameters":["Background","=","Width"]},{"type":{"value":"PanelSpriteObject::Height"},"parameters":["Background","=","Height"]},{"type":{"value":"PanelSpriteSlider::PanelSpriteSlider::UpdateLayout"},"parameters":["Object",""]}],"variables":[{"name":"Width","type":"number","value":0.0},{"name":"Height","type":"number","value":0.0}]}]}],"parameters":[]},{"type":"BuiltinCommonInstructions::Comment","color":{"b":109,"g":230,"r":255,"textB":0,"textG":0,"textR":0},"comment":"The parent size is not defined in onCreate so it needs to be done here."},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"BuiltinCommonInstructions::Once"},"parameters":[]}],"actions":[{"type":{"value":"PanelSpriteSlider::PanelSpriteSlider::UpdateLayout"},"parameters":["Object",""]},{"type":{"value":"PanelSpriteSlider::PanelSpriteSlider::UpdateThumbPosition"},"parameters":["Object",""]}]}],"parameters":[{"description":"Object","name":"Object","supplementaryInformation":"PanelSpriteSlider::PanelSpriteSlider","type":"object"}],"objectGroups":[]},{"description":"Check if the slider is being dragged.","fullName":"Being dragged","functionType":"Condition","group":"Slider","name":"IsBeingDragged","sentence":"_PARAM0_ is being dragged","events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"BuiltinCommonInstructions::Or"},"parameters":[],"subInstructions":[{"type":{"value":"DraggableBehavior::Dragged"},"parameters":["Thumb","Draggable"]},{"type":{"value":"PanelSpriteSlider::ButtonFSM::IsPressed"},"parameters":["Background","ButtonFSM",""]},{"type":{"value":"PanelSpriteSlider::ButtonFSM::IsPressedOutside"},"parameters":["Background","ButtonFSM",""]}]}],"actions":[{"type":{"value":"SetReturnBoolean"},"parameters":["True"]}]}],"parameters":[{"description":"Object","name":"Object","supplementaryInformation":"PanelSpriteSlider::PanelSpriteSlider","type":"object"}],"objectGroups":[]},{"description":"the value of the slider.","fullName":"Value","functionType":"ExpressionAndCondition","name":"Value","sentence":"the value","events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[],"actions":[{"type":{"value":"SetReturnNumber"},"parameters":["FillBar.Slider::Value()"]}]}],"expressionType":{"type":"expression"},"parameters":[{"description":"Object","name":"Object","supplementaryInformation":"PanelSpriteSlider::PanelSpriteSlider","type":"object"}],"objectGroups":[]},{"fullName":"","functionType":"ActionWithOperator","getterName":"Value","name":"SetValue","sentence":"","events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[],"actions":[{"type":{"value":"PanelSpriteSlider::Slider::SetValue"},"parameters":["FillBar","Slider","=","Value",""]},{"type":{"value":"PanelSpriteSlider::PanelSpriteSlider::UpdateThumbPosition"},"parameters":["Object",""]}]}],"parameters":[{"description":"Object","name":"Object","supplementaryInformation":"PanelSpriteSlider::PanelSpriteSlider","type":"object"},{"description":"Behavior","name":"Behavior","supplementaryInformation":"PanelSpriteSlider::Slider","type":"behavior"}],"objectGroups":[]},{"description":"the minimum value of the slider.","fullName":"Minimum value","functionType":"ExpressionAndCondition","group":"Slider configuration","name":"MinValue","sentence":"the minimum value","events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[],"actions":[{"type":{"value":"SetReturnNumber"},"parameters":["FillBar.Slider::MinValue()"]}]}],"expressionType":{"type":"expression"},"parameters":[{"description":"Object","name":"Object","supplementaryInformation":"PanelSpriteSlider::PanelSpriteSlider","type":"object"}],"objectGroups":[]},{"fullName":"","functionType":"ActionWithOperator","getterName":"MinValue","name":"SetMinValue","sentence":"","events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[],"actions":[{"type":{"value":"PanelSpriteSlider::Slider::SetMinValue"},"parameters":["FillBar","Slider","=","Value",""]},{"type":{"value":"PanelSpriteSlider::PanelSpriteSlider::UpdateLayout"},"parameters":["Object",""]},{"type":{"value":"PanelSpriteSlider::PanelSpriteSlider::UpdateThumbPosition"},"parameters":["Object",""]}]}],"parameters":[{"description":"Object","name":"Object","supplementaryInformation":"PanelSpriteSlider::PanelSpriteSlider","type":"object"},{"description":"Behavior","name":"Behavior","supplementaryInformation":"PanelSpriteSlider::Slider","type":"behavior"}],"objectGroups":[]},{"description":"the maximum value of the slider.","fullName":"Maximum value","functionType":"ExpressionAndCondition","group":"Slider configuration","name":"MaxValue","sentence":"the maximum value","events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[],"actions":[{"type":{"value":"SetReturnNumber"},"parameters":["FillBar.Slider::MaxValue()"]}]}],"expressionType":{"type":"expression"},"parameters":[{"description":"Object","name":"Object","supplementaryInformation":"PanelSpriteSlider::PanelSpriteSlider","type":"object"}],"objectGroups":[]},{"fullName":"","functionType":"ActionWithOperator","getterName":"MaxValue","name":"SetMaxValue","sentence":"","events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[],"actions":[{"type":{"value":"PanelSpriteSlider::Slider::SetMaxValue"},"parameters":["FillBar","Slider","=","Value",""]},{"type":{"value":"PanelSpriteSlider::PanelSpriteSlider::UpdateLayout"},"parameters":["Object",""]},{"type":{"value":"PanelSpriteSlider::PanelSpriteSlider::UpdateThumbPosition"},"parameters":["Object",""]}]}],"parameters":[{"description":"Object","name":"Object","supplementaryInformation":"PanelSpriteSlider::PanelSpriteSlider","type":"object"},{"description":"Behavior","name":"Behavior","supplementaryInformation":"PanelSpriteSlider::Slider","type":"behavior"}],"objectGroups":[]},{"description":"the step size of the slider.","fullName":"Step size","functionType":"ExpressionAndCondition","group":"Slider configuration","name":"StepSize","sentence":"the step size","events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[],"actions":[{"type":{"value":"SetReturnNumber"},"parameters":["FillBar.Slider::StepSize()"]}]}],"expressionType":{"type":"expression"},"parameters":[{"description":"Object","name":"Object","supplementaryInformation":"PanelSpriteSlider::PanelSpriteSlider","type":"object"}],"objectGroups":[]},{"fullName":"","functionType":"ActionWithOperator","getterName":"StepSize","name":"SetStepSize","sentence":"","events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[],"actions":[{"type":{"value":"PanelSpriteSlider::Slider::SetStepSize"},"parameters":["FillBar","Slider","=","Value",""]}]}],"parameters":[{"description":"Object","name":"Object","supplementaryInformation":"PanelSpriteSlider::PanelSpriteSlider","type":"object"},{"description":"Behavior","name":"Behavior","supplementaryInformation":"PanelSpriteSlider::Slider","type":"behavior"}],"objectGroups":[]},{"description":"Check if the label is shown.","fullName":"Label is shown","functionType":"Condition","group":"Slider configuration","name":"IsLabelShown","sentence":"_PARAM0_ label is shown","events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"PanelSpriteSlider::PanelSpriteSlider::PropertyShowLabelAtChanges"},"parameters":["Object"]}],"actions":[{"type":{"value":"SetReturnBoolean"},"parameters":["True"]}]}],"parameters":[{"description":"Object","name":"Object","supplementaryInformation":"PanelSpriteSlider::PanelSpriteSlider","type":"object"}],"objectGroups":[]},{"description":"Show (or hide) the label on the bar.","fullName":"Show label","functionType":"Action","group":"Slider configuration","name":"SetLabelShown","sentence":"Show the label of _PARAM0_: _PARAM1_","events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"inverted":true,"value":"GetArgumentAsBoolean"},"parameters":["\"Value\""]}],"actions":[{"type":{"value":"PanelSpriteSlider::PanelSpriteSlider::SetPropertyShowLabelAtChanges"},"parameters":["Object","no"]},{"type":{"value":"Cache"},"parameters":["Label"]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"GetArgumentAsBoolean"},"parameters":["\"Value\""]}],"actions":[{"type":{"value":"PanelSpriteSlider::PanelSpriteSlider::SetPropertyShowLabelAtChanges"},"parameters":["Object","yes"]},{"type":{"value":"Montre"},"parameters":["Label",""]}]}],"parameters":[{"description":"Object","name":"Object","supplementaryInformation":"PanelSpriteSlider::PanelSpriteSlider","type":"object"},{"description":"Show the label","name":"Value","type":"yesorno"}],"objectGroups":[]},{"description":"Center the bar according to the button configuration. This is used in doStepPostEvents when the button is resized.","fullName":"Update layout","functionType":"Action","name":"UpdateLayout","private":true,"sentence":"Update layout of _PARAM0_","events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[],"actions":[{"type":{"value":"MettreXY"},"parameters":["FillBar","=","Object.PropertyBarLeftPadding()","=","Object.PropertyBarTopPadding()"]},{"type":{"value":"PanelSpriteObject::Height"},"parameters":["FillBar","=","round(Background.Height() - Object.PropertyBarTopPadding() - Object.PropertyBarBottomPadding())"]}]}],"parameters":[{"description":"Object","name":"Object","supplementaryInformation":"PanelSpriteSlider::PanelSpriteSlider","type":"object"}],"objectGroups":[]},{"description":"Update the thumb position according to the slider value.","fullName":"Update thumb position","functionType":"Action","name":"UpdateThumbPosition","private":true,"sentence":"Update the thumb position of _PARAM0_","events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"PanelSpriteSlider::Slider::Size"},"parameters":["FillBar","Slider",">","0",""]}],"actions":[],"events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[],"actions":[{"type":{"value":"PanelSpriteObject::Width"},"parameters":["FillBar","=","Object.FullBarWidth() * (FillBar.Slider::Value() - FillBar.Slider::MinValue()) / FillBar.Slider::Size()"]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[],"actions":[{"type":{"value":"SetCenterX"},"parameters":["Thumb","=","Object.FullBarLeft() + FillBar.Width()"]},{"type":{"value":"SetCenterY"},"parameters":["Thumb","=","FillBar.CenterY()"]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[],"actions":[{"type":{"value":"TextObject::String"},"parameters":["Label","=","ToString(Object.Value())"]},{"type":{"value":"SetCenterX"},"parameters":["Label","=","Thumb.CenterX()"]},{"type":{"value":"MettreY"},"parameters":["Label","=","Thumb.Y() - Label.Height() - Object.PropertyLabelMargin()"]},{"type":{"value":"TextObject::Angle"},"parameters":["Label","=","-Object.Angle()"]}]}]}],"parameters":[{"description":"Object","name":"Object","supplementaryInformation":"PanelSpriteSlider::PanelSpriteSlider","type":"object"}],"objectGroups":[]},{"fullName":"","functionType":"Expression","name":"FullBarLeft","private":true,"sentence":"","events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[],"actions":[{"type":{"value":"SetReturnNumber"},"parameters":["Object.PropertyBarLeftPadding()"]}]}],"expressionType":{"type":"expression"},"parameters":[{"description":"Object","name":"Object","supplementaryInformation":"PanelSpriteSlider::PanelSpriteSlider","type":"object"}],"objectGroups":[]},{"fullName":"","functionType":"Expression","name":"FullBarRight","private":true,"sentence":"","events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[],"actions":[{"type":{"value":"SetReturnNumber"},"parameters":["Background.Width() - Object.PropertyBarRightPadding()"]}]}],"expressionType":{"type":"expression"},"parameters":[{"description":"Object","name":"Object","supplementaryInformation":"PanelSpriteSlider::PanelSpriteSlider","type":"object"}],"objectGroups":[]},{"fullName":"","functionType":"Expression","name":"FullBarWidth","private":true,"sentence":"","events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[],"actions":[{"type":{"value":"SetReturnNumber"},"parameters":["Background.Width() - Object.PropertyBarLeftPadding() - Object.PropertyBarRightPadding()"]}]}],"expressionType":{"type":"expression"},"parameters":[{"description":"Object","name":"Object","supplementaryInformation":"PanelSpriteSlider::PanelSpriteSlider","type":"object"}],"objectGroups":[]},{"description":"Update the slider configuration.","fullName":"Update slider configuration","functionType":"Action","name":"UpdateSliderConfiguration","private":true,"sentence":"Update the slider configuration of _PARAM0_","events":[{"type":"BuiltinCommonInstructions::Comment","color":{"b":109,"g":230,"r":255,"textB":0,"textG":0,"textR":0},"comment":"Pass configuration to the behavior and update children."},{"type":"BuiltinCommonInstructions::Standard","conditions":[],"actions":[{"type":{"value":"PanelSpriteSlider::PanelSpriteSlider::SetMinValue"},"parameters":["Object","=","Object.PropertyMinValue()","Object.PropertyMaxValue()",""]},{"type":{"value":"PanelSpriteSlider::PanelSpriteSlider::SetMaxValue"},"parameters":["Object","=","Object.PropertyMaxValue()","Object.PropertyMaxValue()"]},{"type":{"value":"PanelSpriteSlider::PanelSpriteSlider::SetStepSize"},"parameters":["Object","=","Object.PropertyStepSize()","Object.PropertyMaxValue()"]}]}],"parameters":[{"description":"Object","name":"Object","supplementaryInformation":"PanelSpriteSlider::PanelSpriteSlider","type":"object"}],"objectGroups":[]},{"description":"De/activate interactions with the button.","fullName":"De/activate interactions","functionType":"Action","name":"Activate","sentence":"Activate interactions with _PARAM0_: _PARAM1_","events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"GetArgumentAsBoolean"},"parameters":["\"ShouldActivate\""]}],"actions":[{"type":{"value":"ActivateBehavior"},"parameters":["Thumb","Draggable","yes"]},{"type":{"value":"ActivateBehavior"},"parameters":["Background","ButtonFSM","yes"]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"inverted":true,"value":"GetArgumentAsBoolean"},"parameters":["\"ShouldActivate\""]}],"actions":[{"type":{"value":"ActivateBehavior"},"parameters":["Thumb","Draggable","no"]},{"type":{"value":"ActivateBehavior"},"parameters":["Background","ButtonFSM","no"]},{"type":{"value":"Cache"},"parameters":["Label"]}]}],"parameters":[{"description":"Object","name":"Object","supplementaryInformation":"PanelSpriteSlider::PanelSpriteSlider","type":"object"},{"description":"Activate","name":"ShouldActivate","type":"yesorno"}],"objectGroups":[]},{"description":"Check if the slider allows interactions.","fullName":"Interactions activated","functionType":"Condition","name":"IsActivated","sentence":"Interactions on _PARAM0_ are activated","events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"BehaviorActivated"},"parameters":["Background","ButtonFSM"]}],"actions":[{"type":{"value":"SetReturnBoolean"},"parameters":["True"]}]}],"parameters":[{"description":"Object","name":"Object","supplementaryInformation":"PanelSpriteSlider::PanelSpriteSlider","type":"object"}],"objectGroups":[]}],"propertyDescriptors":[{"value":"0","type":"Number","label":"Bar left margin","description":"","group":"Bar","extraInformation":["Label","FillBar"],"name":"BarLeftPadding"},{"value":"0","type":"Number","label":"Bar top margin","description":"","group":"Bar","extraInformation":["Label","FillBar"],"name":"BarTopPadding"},{"value":"0","type":"Number","label":"Bar right margin","description":"","group":"Bar","extraInformation":["Label","FillBar"],"name":"BarRightPadding"},{"value":"0","type":"Number","label":"Bar bottom margin","description":"","group":"Bar","extraInformation":["Label","FillBar"],"name":"BarBottomPadding"},{"value":"true","type":"Boolean","label":"Show the label when the value is changed","description":"","group":"Label","extraInformation":[],"name":"ShowLabelAtChanges"},{"value":"8","type":"Number","label":"Label margin","description":"","group":"Label","extraInformation":[],"name":"LabelMargin"},{"value":"0","type":"Number","label":"Minimum value","description":"","group":"Value","extraInformation":[],"name":"MinValue"},{"value":"100","type":"Number","label":"Maximum value","description":"","group":"Value","extraInformation":[],"name":"MaxValue"},{"value":"1","type":"Number","label":"Step size","description":"","group":"Value","extraInformation":[],"name":"StepSize"},{"value":"50","type":"Number","label":"Initial value","description":"","group":"Value","extraInformation":[],"name":"InitialValue"},{"value":"","type":"Number","label":"","description":"It's used to detect a change at hot reload.","group":"","extraInformation":[],"hidden":true,"name":"PreviousInitialValue"},{"value":"Center-center","type":"String","label":"","description":"Only used by the scene editor.","group":"","extraInformation":["Thumb"],"hidden":true,"name":"ThumbAnchorOrigin"},{"value":"Center-right","type":"String","label":"","description":"Only used by the scene editor.","group":"","extraInformation":["FillBar"],"hidden":true,"name":"ThumbAnchorTarget"},{"value":"","type":"Boolean","label":"","description":"Only used by the scene editor.","group":"","extraInformation":["Label"],"hidden":true,"name":"ShowLabel"}],"objects":[{"assetStoreId":"","bold":false,"italic":false,"name":"Label","smoothed":true,"type":"TextObject::Text","underlined":false,"variables":[],"effects":[],"behaviors":[],"string":"It displays the value when it changes.","font":"","textAlignment":"","characterSize":20.0,"color":{"b":0,"g":0,"r":0},"content":{"bold":false,"isOutlineEnabled":false,"isShadowEnabled":false,"italic":false,"outlineColor":"255;255;255","outlineThickness":2.0,"shadowAngle":90.0,"shadowBlurRadius":2.0,"shadowColor":"0;0;0","shadowDistance":4.0,"shadowOpacity":127.0,"smoothed":true,"underlined":false,"text":"It displays the value when it changes.","font":"","textAlignment":"","verticalTextAlignment":"top","characterSize":20.0,"color":"0;0;0"}},{"assetStoreId":"","bottomMargin":0.0,"height":32.0,"leftMargin":0.0,"name":"Thumb","rightMargin":0.0,"texture":"","tiled":false,"topMargin":0.0,"type":"PanelSpriteObject::PanelSprite","width":32.0,"variables":[],"effects":[],"behaviors":[{"name":"Draggable","type":"DraggableBehavior::Draggable","checkCollisionMask":false}]},{"assetStoreId":"","bottomMargin":0.0,"height":32.0,"leftMargin":0.0,"name":"FillBar","rightMargin":0.0,"texture":"","tiled":true,"topMargin":0.0,"type":"PanelSpriteObject::PanelSprite","width":32.0,"variables":[],"effects":[],"behaviors":[{"name":"Slider","type":"PanelSpriteSlider::Slider","Value":0.0,"MinValue":0.0,"MaxValue":1.0,"StepSize":1.0}]},{"assetStoreId":"","bottomMargin":0.0,"height":32.0,"leftMargin":0.0,"name":"Background","rightMargin":0.0,"texture":"","tiled":true,"topMargin":0.0,"type":"PanelSpriteObject::PanelSprite","width":32.0,"variables":[],"effects":[],"behaviors":[{"name":"ButtonFSM","type":"PanelSpriteSlider::ButtonFSM","ShouldCheckHovering":true,"State":"Idle","TouchId":0.0,"TouchIsInside":false,"MouseIsInside":false,"Index":0.0}]}],"objectsFolderStructure":{"folderName":"__ROOT","children":[{"objectName":"Label"},{"objectName":"Thumb"},{"objectName":"FillBar"},{"objectName":"Background"}]},"objectsGroups":[],"layers":[{"ambientLightColorB":200,"ambientLightColorG":200,"ambientLightColorR":200,"camera3DFarPlaneDistance":10000.0,"camera3DFieldOfView":45.0,"camera3DNearPlaneDistance":3.0,"cameraType":"","followBaseLayerCamera":false,"isLightingLayer":false,"isLocked":false,"name":"","renderingType":"","visibility":true,"cameras":[{"defaultSize":true,"defaultViewport":true,"height":0.0,"viewportBottom":1.0,"viewportLeft":0.0,"viewportRight":1.0,"viewportTop":0.0,"width":0.0}],"effects":[]}],"instances":[]}]}],"externalLayouts":[],"externalSourceFiles":[]}